#if defined credits
--------------------------------------------------------------------------------------------
|    db d8b   db .d8888.  .d8b.  d8b   db d88888b |  gamemode: 1nsane DeathMatch 			|
|   o88 888o  88 88'  YP d8' `8b 888o  88 88'     |  server version: 0.3.7 R3 		  		|
|    88 88V8o 88 `8bo.   88ooo88 88V8o 88 88ooooo |  group: https://vk.com/1nsanemapping	|
|    88 88 V8o88   `Y8b. 88~~~88 88 V8o88 88~~~~~ |  contact: ins16mail@gmail.com			|
|    88 88  V888 db   8D 88   88 88  V888 88.     |  coder: 1NS  							|
|    VP VP   V8P `8888Y' YP   YP VP   V8P Y88888P |							    	2019	|
--------------------------------------------------------------------------------------------
/*
 A simple dm mode is performance oriented, minimum of timers and maximum of optimization.
 The system was designed taking into account many years of playing experience on dm projects
 Disclaimer: This version of the mod is not the final and meet some bugs and flaws
 The native language of the author is Russian. Translation by places may be inaccurate.
*/
/*
Some features of the gamemode:
- The modified jit compiler is used - https://github.com/pawn-lang/compiler/releases
- Loss of objects from the player in case of server crash
- Due to the fact that Sampac does not develop for a long time and requires 
 an old version of the samp client 0.3.7 R1, it is disabled by default.
- C bug, Slide, Fast not blocked by default

Client side requirements:
- Russian SA-MP client
- There are crashes on non-Russified GTA assemblies (fix Smarter's Localization v2.0)
- Reccomended screen resolution no less 1024x768
*/
/* Editor options : TABSIZE 4, encoding utf-8 */
#endif
#pragma dynamic 100500 // memfix
// disables false warnings due to old-style constant declarations
#pragma warning disable 239
#pragma warning disable 214
// VERSION
#define MOD_VERSION "0.6.6"
//#define BUILD_VERSION "30.Sen.2019"
#define BUILD_VERSION "final"
//https://wiki.sa-mp.com/wiki/Server.cfg_RU - About server.cfg params
// base includes
#include <a_samp> 
#include <a_http>
#include <gl_common>
/*==============================================================================
	Libraries and respective links to their release pages
==============================================================================*/
// jit compiler 
// https://github.com/Zeex/samp-plugin-jit
#include <jit>
#include <string>
#include <strlib>
// https://github.com/oscar-broman/strlib
#include <crashdetect>
//https://github.com/Zeex/samp-plugin-crashdetect/releases
#include <ASAN>
// https://github.com/KrYpToDeN/Advanced-SA-NickName/releases
#include <foreach>
// https://github.com/Open-GTO/mxINI
#include <mxINI>
// By Y_Less: http://forum.sa-mp.com/showthread.php?t=120356
#include <sscanf>
// This is a collection of useful callbacks for SA-MP, that works with every SA-MP version.
// https://github.com/emmet-jones/New-SA-MP-callbacks
#include <callbacks>
//by Zeex - forum.sa-mp.com/showthread.php?t=91354
//#include <uf.inc> 
// Useful Functions (uf.inc) 
// https://wiki.sa-mp.com/wiki/Useful_Functions
#include <Pawn.CMD>
// https://github.com/urShadow/Pawn.CMD/releases
#include <Pawn.RakNet>
// https://github.com/urShadow/Pawn.RakNet/wiki
#include <mselect>
// https://github.com/Open-GTO/mselect
#include <streamer>
// Simple airbreak detection script
// https://github.com/emmet-jones/OnPlayerAirbreak
#include <airbreak.inc>
// Fixes
// Remove Default Objects
#include <remdefobj>
#include <removeroadobjects>
#include <fix_attachments>
// Mapfix https://pawn-wiki.ru/index.php?showtopic=28682
#include <mapfix>
// load server objects from file
// https://SAMPCAC.xyz/docs
#include <sampcac>
// Simple functions and stocks (Moved functions from the main modes to include)
#include <utils>
//==============================================================================
// system config
#define INFINITY (Float:0x7F800000) //hide color
#define NAMETAG_DISTANCE 20 // invis
#undef MAX_PLAYERS
#define MAX_PLAYERS 75
#define MAX_GANGS 75
#define MAX_GANGZONES 80
#define MAX_PING 200
#define MAX_PLOSS 7.0
#define MAX_CONNECTIONS_FROM_IP 2
#define MAX_CONNECT_IN_ROW 2
#define MAX_REJOIN_TIME 5000
#define MAX_VOTE_KICK 5
#define MAX_BAD_WORDS (70)
#define MAX_INI_ENTRY_TEXT 80
#define DEF_MAX_OBJECTS 50000
// Pawn.CMD groups
#define ADMIN_CMD   1
#define VIP_CMD     2
#define CW_CMD		3
// carshot
#if defined Holding
#else
	    #define Holding(%0) \
		((newkeys & (%0)) == (%0))
#endif

#if defined PRESSED
#else
	#define PRESSED(%0) \
	(((newkeys & (%0)) == (%0)) && ((oldkeys & (%0)) != (%0)))
#endif
// flymode
#define MOVE_SPEED              100.0
#define ACCEL_RATE              0.03
#define CAMERA_MODE_NONE        0
#define CAMERA_MODE_FLY         1
#define MOVE_FORWARD            1
#define MOVE_BACK               2
#define MOVE_LEFT               3
#define MOVE_RIGHT              4
#define MOVE_FORWARD_LEFT       5
#define MOVE_FORWARD_RIGHT      6
#define MOVE_BACK_LEFT          7
#define MOVE_BACK_RIGHT         8  
// carcolor
#define X_SIZE 35.0
#define X_MAX > 216.0
#define X_PLUS += 18.0
#define Y_SIZE 160.0
#define Y_PLUS += 16.0
// Remove below to disable default RCON
//#define RCON_DISABLE
// Team colors
#define TEAM_RED 1   
#define TEAM_BLUE 2 
#define TEAM_ATTACKERS 3 
#define TEAM_DEFENDERS 4
#define TEAM_REFEREE 5
// System colors
#define TEAM_RED_COLOR 		0xFF0000AA   
#define TEAM_BLUE_COLOR 	0x0000BBAA
#define TEAM_ATTACKERS_COLOR 	0x368452FF
#define TEAM_DEFENDERS_COLOR 	0x043F66AA
#define COLOR_INFO			0x33AA33AA
#define COLOR_SYSTEM 		0xB60000FF
#define COLOR_ADM	 		0xf82222AA
#define COLOR_RADIUSCHAT	0xC8C8C8C8
// Simple colors http://wm-school.ru/html/html_colors_table.html
// 0x + RGB color ( XX XX XX ) + transparency coefficient ( XX )
#define COLOR_GREEN 		0x33AA33AA
#define COLOR_RED 			0xC60000AA
#define COLOR_PINK 			0xFFC0CBAA
#define COLOR_GREY 			0xAFAFAFAA
#define COLOR_YELLOW 		0xFFFF00AA
#define COLOR_WHITE 		0xFFFFFFFF
#define COLOR_BLUE 			0x0000BBAA
#define COLOR_LIGHTRED 		0xFF6347AA
#define COLOR_LIGHTBLUE 	0x33CCFFAA
#define COLOR_LIGHTGREEN 	0x9ACD32AA
#define COLOR_ORANGE 		0xFF9900AA
#define COLOR_BLACK 		0x000000AA
#define COLOR_GOLD 			0xB8860BAA
#define COLOR_CYAN 			0x99FFFFAA
#define COLOR_CORAL 		0xFF7F50AA 
#define COLOR_TAN 			0xFFFFCCAA 
#define COLOR_KHAKI 		0x999900AA 
#define COLOR_LIME 			0x99FF00AA 
#define COLOR_PURPLE 		0x800080AA 
#define COLOR_DARKBLUE 		0x300FFAAB 
#define COLOR_BLUEGREEN		0x46BBAA00 
#define COLOR_NEUTRALGREEN	0x81CFAB00 
#define COLOR_LEMON 		0xDDDD2357 
#define COLOR_INDIGO 		0x4B00B0AA 
#define COLOR_VIOLET		0x9955DEEE 
#define COLOR_DIRTY			0x732617FF
#define COLOR_FREEZONE		0xFFFFFF44
//==============================================================================
// Main menu Sounds (GTA:VC theme)
#define SOUND_MENU_IN 1052
#define SOUND_MENU_OUT 1053
//==============================================================================
#define DIALOG_MAIN 999
#define DIALOG_PDSE 1000
#define DIALOG_TPLIST 1001
#define DIALOG_ETC 1002
#define DIALOG_INFO 1003
#define DIALOG_SETTINGS 1004
#define DIALOG_SKINCHANGE 1005
#define DIALOG_VEHMENU 1006
#define DIALOG_GANGS 1007
#define DIALOG_COMMANDSHELP 1008
#define DIALOG_KEYHELP 1009
#define DIALOG_SERVERINFO 1010
#define DIALOG_EXTMENU 1011
#define DIALOG_NICKCOLORSET 1012
#define DIALOG_PLAYERTABMENU 1013
#define DIALOG_ADMINMESSAGE 1014
#define DIALOG_WEATHERSET 1015
#define DIALOG_ADMINTABMENU 1016
#define DIALOG_PMTAB 1017
#define DIALOG_PLAYERTABSTAT 1018
#define DIALOG_ADMINSPEC 1019
#define DIALOG_ADMINMODMANAGE 1020
#define DIALOG_SETTIME 1021
#define DIALOG_FPSBAR 1022
#define DIALOG_ADMGIVEMONEY 1023
#define DIALOG_DRINKSMENU 1024
#define DIALOG_RANDNOTICE 1025
#define DIALOG_PLAYERTMONEY 1026
#define DIALOG_PLGMODE 1027
#define DIALOG_SETCHATCOLOR 1028
#define DIALOG_TABREWARD 1029
#define DIALOG_TABREPORT 1030
#define DIALOG_REGISTER 1031
#define DIALOG_LOGIN 1032
#define DIALOG_SERVERSTAT 1033
#define DIALOG_TPLISTLV 1034
#define DIALOG_TPLISTOTHER 1035
#define DIALOG_TPLISTSKYJUMP 1036
#define DIALOG_TPLISTTUNING 1037
#define DIALOG_DM 1038
#define DIALOG_TDM 1039
#define DIALOG_SETACCOUNT 1040
//#define DIALOG_SETREALNAME 1041
//#define DIALOG_SETEMAIL 1042
#define DIALOG_SETSEKKEY 1043
//#define DIALOG_SETCONTACTS 1044
#define DIALOG_SETABOUTME 1045
#define DIALOG_PAINTJOBS 1046
#define DIALOG_NEON 1047
#define DIALOG_SETNICKNAME 1048
#define DIALOG_SETPASSWORD 1049
#define DIALOG_ADMFUN 1050
#define DIALOG_DOPMENU 1051
#define DIALOG_ADMINTAB2LVLMENU 1052
#define DIALOG_FINDNICK 1053
#define DIALOG_HATS 1054
#define DIALOG_VEHMENUOPT 1055
#define DIALOG_WHEELS 1056
#define DIALOG_UPGRADE 1057
#define DIALOG_PLAYEROBJ 1058
#define DIALOG_RCONFUNC 1059
#define DIALOG_MASKS 1060
#define DIALOG_CS 1061
#define DIALOG_ADMSELECTION 1062
#define DIALOG_ADMACSET 1063
#define DIALOG_INTERFACESET 1064
#define DIALOG_SOUNDSET 1065
#define DIALOG_ADMGIVEWEAPON 1066
#define DIALOG_ADMSPAWNVEH 1067
#define DIALOG_ADMSETWEATHER 1068
#define DIALOG_ADMTIME 1069
#define DIALOG_ADMWIPE 1070
#define DIALOG_BUYVEHSPAWN 1071
#define DIALOG_DEATHMATCH 1072
#define DIALOG_TDMTEAMSELECT 1073
#define DIALOG_ADMINCOMMANDSHELP 1074
#define DIALOG_ADMINTAKE 1075
#define DIALOG_CUSTOMLOC 1076
#define DIALOG_ADMINCHATMANAGE 1077
#define DIALOG_ADMINTAKEALL 1078
#define DIALOG_ADMGIVEWEAPONALL 1079
#define DIALOG_ADMSETVIP 1080
#define DIALOG_ALLIPTABLE 1081
#define DIALOG_ADMINFO 1082
#define DIALOG_PREBUG 1083
#define DIALOG_CHATSET 1084
#define DIALOG_VIPMENU 1085
#define DIALOG_FIGHTSTYLE 1086
#define DIALOG_ADMONLINE 1087
#define DIALOG_ADMINLOGIN 1088
#define DIALOG_TABID 1089
#define DIALOG_COMPAREIP 1090
#define DIALOG_PLAYERMODTEST 1091
#define DIALOG_ADMSETTINGS 1092
#define DIALOG_PLSTATE 1093
#define DIALOG_VIPINFO 1094
#define DIALOG_BUYWEAPON 1095
#define DIALOG_SERVERLOCK 1096
#define DIALOG_PLAYERBELL 1097
#define DIALOG_PLAYERCOUNT 1098
#define DIALOG_SCOORDS 1101
#define DIALOG_ADMCREATE 1102
#define DIALOG_OBJINFO 1103
#define DIALOG_OBJRANGEDEL 1104
#define DIALOG_EDITTUTORIAL 1105
#define DIALOG_MINIGAMES 1106
#define DIALOG_OBJLIST 1107
#define DIALOG_OBJLIST_NATURE 1108
#define DIALOG_OBJLIST_SPEC 1109
#define DIALOG_OBJLIST_INTERIER 1110
#define DIALOG_OBJLIST_EXTERIER 1111
#define DIALOG_OBJLIST_SAMP 1112
//#define DIALOG_ 1119
#define DIALOG_CREATE3DTEXT 1122
#define DIALOG_CREATEMAPICON 1123
#define DIALOG_CREATEPICKUP 1124
#define DIALOG_CREATEPICKUPLST 1125
#define DIALOG_GANGINVITE 1126
#define DIALOG_GANGJOIN 1127
#define DIALOG_GANGINFO 1128
#define DIALOG_GANGLEAVE 1129
#define DIALOG_GANGSTAT 1130
#define DIALOG_GANGCREATE 1131
#define DIALOG_TABGANG 1132
#define DIALOG_GANGKICK 1133
#define DIALOG_GANGBANK 1134
#define DIALOG_GANGMANAGE 1135
//#define DIALOG_ 1136
#define DIALOG_WORLDSMANAGE 1137
#define DIALOG_CHANGEWORLD 1138
#define DIALOG_WORLDS 1139
#define DIALOG_MAPEDITOR 1140
#define DIALOG_EOMAIN 1141
#define DIALOG_EOCREATE 1142
#define DIALOG_EOVIRTWORLD 1143
#define DIALOG_EOINTERIER 1144
#define DIALOG_EOSTREAMDIST 1145
#define DIALOG_EOOBJINFO 1146
#define DIALOG_CREPORT 1147
#define DIALOG_EOEDIT 1148
#define DIALOG_EODELETE 1149
#define DIALOG_FINDNICKRESULT 1150
#define DIALOG_BASETPLIST 1151
#define DIALOG_SUICIDE 1152
#define DIALOG_OBJROTATE 1153
#define DIALOG_DMEXMENU 1154
#define DIALOG_MAPCONTROL 1155
#define DIALOG_ADMGIVEITMENU 1156
#define DIALOG_ADMSKINCHANGE 1157
#define DIALOG_TRAININGAREA 1158
//#define DIALOG_ 1159
#define DIALOG_ADMSETNICKNAME 1160
#define DIALOG_ADMACCCONTROL 1161
#define DIALOG_ADMBAN 1162
#define DIALOG_ADMMUTE 1163
#define DIALOG_MUTETIME 1164
#define DIALOG_WORLDCREATE 1165
#define DIALOG_OBJMATERIAL 1166
#define DIALOG_JAILS 1167
#define DIALOG_RADIO 1168
#define DIALOG_ADMACTINFO 1169
#define DIALOG_BANKMENU 1170
#define DIALOG_BANKMENUADD 1171
#define DIALOG_BANKMENUTAKE 1172
#define DIALOG_FAQ 1173
#define DIALOG_ADMSTATE 1174
#define DIALOG_ADMSPAWNMENU 1175
#define DIALOG_STREAMPLAYERS 1176
#define DIALOG_DMMODEINFO 1177
#define DIALOG_VIPFUN 1178
#define DIALOG_VIPTABMENU 1179
#define DIALOG_DOPID 1180
#define DIALOG_CW 1181
#define DIALOG_CWZONES 1182
#define DIALOG_CWTEAMSELECT 1183
#define DIALOG_CWWEAPONS 1184
//#define DIALOG_CWMODE 1185
//#define DIALOG_ 1186
#define DIALOG_CWINVITE 1187
//#define DIALOG_ 1188
#define DIALOG_ADMPANELDROP 1190
#define DIALOG_BARMENU 1191
#define DIALOG_CLISTCLORSLIST 1192
#define DIALOG_CLISTCLORSET 1193
//#define DIALOG_ 1193
#define DIALOG_PLAYERATTACHMAIN 1195
#define DIALOG_ATPINDEX_SELECT 1196
#define DIALOG_ATPMODEL_SELECT 1197
#define DIALOG_ATPBONE_SELECT 1198
#define DIALOG_ATPCOORD_INPUT 1199
#define DIALOG_OFFLINEACCCONTOL 1200
#define DIALOG_OFFLINESEARCH 1201
#define DIALOG_BONUSASK 1202
#define DIALOG_BANKMENUTAKEMOB 1203
#define DIALOG_SHOPMENU 1204
#define DIALOG_INACTIVEPLAYERS 1205
#define DIALOG_INVIS 1206
#define DIALOG_MWPLAYERS 1207
#define DIALOG_TUNING 1208
#define DIALOG_NETSTATS 1209
#define DIALOG_TUNESET 1210
#define DIALOG_CONFIRMPASS 1211
#define DIALOG_DUELZONES 1212
#define DIALOG_VEHSPEC 1222
#define DIALOG_SPOILERS 1223
#define DIALOG_DMCONTROL 1224
#define DIALOG_DMNEXTRANDAREA 1225
#define DIALOG_CHANGEMAPTIMER 1226
#define DIALOG_DMNEXTCHAINSAW 1227
#define DIALOG_DELIVERYLIST 1228
#define DIALOG_DUELROUNDS 1229
#define DIALOG_DUELWEAP 1230
#define DIALOG_HANDOBJ 1231
#define DIALOG_LANGUAGE 1232
#define DIALOG_ADFREEZE 1233
#define DIALOG_OBJNUMRANGEDEL 1234
#define DIALOG_STUNTPARKS 1235
#define DIALOG_BASEJUMP 1236
#define DIALOG_GIFTS 1237
#define DIALOG_SPAWNPLACE 1238
#define DIALOG_OBJMATERIALNUM 1239
#define DIALOG_ACCSECINFO 1240
#define DIALOG_ACTORS 1241
#define DIALOG_ACTORCREATE 1242
#define DIALOG_ACTORANIM 1243
#define DIALOG_ACTORANIMLIB 1244
#define DIALOG_ACTORANIMNAME 1245
#define DIALOG_DMNEXTSNIPER 1246
#define DIALOG_DMNEXTDEAGLE 1247
#define DIALOG_ANIMDLG 1248
#define DIALOG_OBJMATERIALSLOT 1249
#define DIALOG_OBJTEXTLABEL 1250
#define DIALOG_GANGBANKADD 1251
#define DIALOG_GANGBANKTAKE 1252
#define DIALOG_GANGCOLOR 1253
#define DIALOG_GANGSPAWN 1254
#define DIALOG_GANGWEAPSET 1255
#define DIALOG_GANGSLOTS 1256
#define DIALOG_GANGTAG 1257
#define DIALOG_GANGNAME 1258
#define DIALOG_GANGABOUTSET 1259
#define DIALOG_GANGBANKPASSWSET 1260
#define DIALOG_GANGBANKPASSW 1261
#define DIALOG_GANGTAGLABEL 1262
#define DIALOG_GANGREMOVE 1263
#define DIALOG_GANGRANGSET 1264
#define DIALOG_GANGRANGLEADERSET 1265
#define DIALOG_GANGMUTE 1266
#define DIALOG_GANGVEHS 1267
#define DIALOG_GANGVEHSLOT1 1268
#define DIALOG_GANGVEHSLOT2 1269
#define DIALOG_GANGVEHSLOT3 1270
#define DIALOG_GANGHEAL 1271
#define DIALOG_GANGLIST 1272
#define DIALOG_DMNEXTTDMSNIPER 1273
#define DIALOG_DMNEXTTDMSAWN 1274
#define DIALOG_GANGCREATENAME 1275
#define DIALOG_GANGCREATETAG 1276
#define DIALOG_GANGBASE 1277
#define DIALOG_DMPLAYERS 1278
#define DIALOG_GANGZONESMENU 1279
#define DIALOG_GANGZONECOLORSET 1280
#define DIALOG_COMMANDSCW 1281
#define DIALOG_GANGZONEINFO 1282
#define DIALOG_GANGBASEINFO 1283
//#define DIALOG_GANGTERRINFO 1284
#define DIALOG_GANGBASESET 1285
#define DIALOG_GANGBASEINTERIOR 1286
#define DIALOG_EOCAMSET 1287
#define DIALOG_OBJCHANGEMODEL 1288
#define DIALOG_OBJRCON 1289
#define DIALOG_ACTORSMASSMENU 1290
#define DIALOG_ACTORMASSANIM 1291

// ================================== Macro =============================
#if !defined isnull
    #define isnull(%1) ((!(%1[0])) || (((%1[0]) == '\1') && (!(%1[1]))))
#endif
// SendFormattedText functions
// Syntax : SendFormattedText(playerid, color, format[], {Float,_}:...);
// 			SendFormattedTextToAll(color, format[], {Float,_}:...);
new FALSE = false;
#define SendFormattedText(%1,%2,%3,%4) do{new sendfstring[128];format(sendfstring,144,(%3),%4);SendClientMessage((%1), (%2) ,sendfstring);}while(FALSE)
#define SendFormattedTextToAll(%1,%2,%3) do{new sendfstring[128];format(sendfstring,144,(%2),%3);SendClientMessageToAll((%1),sendfstring);}while(FALSE)
// DO NOT MOVE THIS SHIT to the rest stocks!!
stock SPD(playerid, dialogid, style, caption[], info[], button1[], button2[]) 
{
	// Dialog spoffing protect
    ShowPlayerDialog(playerid, dialogid, style, caption, info, button1, button2); 
    SetPVarInt(playerid, "USEDIALOGID", dialogid); 
    return 1; 
} 
#define ShowPlayerDialog SPD  

native WP_Hash(buffer[], len, const str[]); //whirlpool encoding plug
native IsValidVehicle(vehicleid); //carshot
native gpci(playerid,serial[],maxlen); //gpci
native SendClientCheck(playerid, actionid, memaddr, memOffset, bytesCount);

forward OnPlayerGiveDamageDynamicActor(playerid, actorid, Float:amount, weaponid, bodypart);
forward OnClientCheckResponse(playerid, actionid, memaddr, retndata);
forward CAC_OnCheatDetect(player_id, cheat_id, opt1, opt2); //SampAC
forward CAC_OnGameResourceMismatch(player_id, model_id, component_type, checksum); //SampAC res checker
forward UpdateTimer(); // 1 sec update timer (Used instead player update public)
forward AuxUpdateTimer(); // 30 sec update timer
forward FreqTimer(); // 7 sec update timer
forward ChangeMapTimer(time); // update map timer
forward CwRoundTimer(); // start Cw
forward TechTimer(); // Global 15 minutes Bonus timer (give money and exp to the player)
forward SaveAccounts(); // save all accounts
forward Freeze(playerid); // use to freeze player at n time
forward PgmTimer(playerid); // use to freeze player at n time
forward GMXTimer(); // reboot server with autokick and autosave accounts 
forward CountFunc(); // 321 cmd
forward TimerSpawn(playerid); // antispawnkill
forward TimerLogged(playerid); // kick non-logged players
forward ProxyHttpResponse(playerid, response_code, data[]); // proxy checker
forward ProxDetector(Float:radi, playerid, string[],col1,col2,col3,col4,col5); // players nerby
forward vehicleShot(playerid);
forward AntiFakeKill(playerid);
forward PlayerDeathModeWait(playerid);
forward PlayerDeathMode(playerid);
forward VehicleEnterReset(playerid);// vehspawn anti-cheat
forward VehicleModReset(playerid);
forward BonusExpTime(playerid);
forward RemoveDropWeapons(playerid);
forward DB_LoadObjects();
forward RotateWheel(); //  ferris wheel LS
forward OnPlayerPause(playerid);
forward OnPlayerResume(playerid, time);
forward OnVehicleDeathRequest(vehicleid, killerid);
//forward RestoreHealth(playerid, health, armour); // remove later
forward RestoreHealth(playerid);

static BadWords [MAX_BAD_WORDS][32];
static BadWordsCount;
new slotUsed[ MAX_PLAYERS char ]; //antislot flood
new playersIP[ MAX_PLAYERS ][ 64 ];//antislot flood
new Invis[MAX_PLAYERS];
new IsAnimLoop[MAX_PLAYERS]; // check lopp anim used
new CarSpawn[MAX_PLAYERS]; // players car spawn pool
new KillSeries[MAX_PLAYERS]; // serial kills counter
new DeathCounter[MAX_PLAYERS];
new ChosenPlayer[MAX_PLAYERS]; // tabmenu clicked player
new Freezed[MAX_PLAYERS]; // is freezed
new pName[MAX_PLAYER_NAME]; // player login name
new pAfk[MAX_PLAYER_NAME]; // is player afk
new Float:AntiAFK_Pos[3]; // dmzones antiafk
new Float:ESC_Pos[3]; // gloabal inactive anti escape
new InactivePlayers[MAX_PLAYER_NAME]; // inactive players list 
new CloseMenuAccess[MAX_PLAYERS]; // close Y menu (adminpanel not locked)
new CloseCmdAccess[MAX_PLAYERS]; // close cmds access (adminpanel not locked)
new PlayerSpectateID[MAX_PLAYERS]; 
new PlayerSpec[MAX_PLAYERS]; 
new Headshots[MAX_PLAYERS]; // headshots counter (reset after disconnect)
new firstperson[MAX_PLAYERS];
new FirstpersonOn[MAX_PLAYERS];
new Antifakekill[MAX_PLAYERS];
new neon[MAX_PLAYERS][2]; //neon
new VehAttach[MAX_PLAYERS][5]; //vehicle user attachments
new bool:CountStarted; // count command start
new CountCmd; // count coomand
new carshot_update[MAX_PLAYERS]; // counter init carshot
new pDeathModeTimer[MAX_PLAYERS];
new pDeathModeWait[MAX_PLAYERS];
new pDeathMode[MAX_PLAYERS];
new CarLocked[MAX_PLAYERS];
new pVehicleMods[MAX_PLAYERS];
new pVehicles[MAX_PLAYERS];
new Votekick[MAX_PLAYERS];
new WeaponData[MAX_PLAYERS][13][2];
new PlantObj[MAX_PLAYERS];
new Widescreen[MAX_PLAYERS];
new ignoredlst[MAX_PLAYERS][MAX_PLAYERS char];
new Go[MAX_PLAYERS];
new Duel[MAX_PLAYERS];
new g_veh[MAX_PLAYERS]; // antifall system
new LastPmID[MAX_PLAYERS]; // reply system
new NoReloading[MAX_PLAYERS]; // noreload fixes
new CurrentWeapon[MAX_PLAYERS];// noreload fixes
new CurrentAmmo[MAX_PLAYERS];// noreload fixes
new HighPingCount[MAX_PLAYERS];
new GangTagLabel[MAX_GANGS];
new GangBases[MAX_GANGS];
// Server statistics
new ipCheck[25], IPfound, IPtime;
new ServerRun;
new LoginAttempts[MAX_PLAYERS];
new RegisteredToday = 0;
new TOTALPlayers = 0; // Total online counter
new ONLINE = 0; // Current online
new changemaptime;
//new ChangeMapT;
// anticheat
// RAKNET packets
const UNOCCUPIED_SYNC = 209;
const PLAYER_SYNC = 207;
const VEHICLE_SYNC = 200;
const PASSENGER_SYNC = 211;
//const TRAILER_SYNC = 210;
const AIM_SYNC = 203;
const BULLET_SYNC = 206;
const VEHICLEDESTROYED_SYNC = 136;
//new InvisCount[MAX_PLAYERS]; // Raknet invis detect
new desync[MAX_PLAYERS];
new AimbotWarnings[MAX_PLAYERS];
new LastAccountNumber;
new ServerLocked; // Lock server for all players
new RegisterLocked; // Lock registration 
new ServerAntiflood; // On-off antiflood
new ServerCensore; // Chat censore
new FlyHackOn_AC;
new SpeedHackOn_AC;
new ChatAnticaps;
new ServerAntiReklama;
new ServerAntiFakeKill;
new ServerAibreakOn_AC;
new ServerCarshotOn;
new ServerAntiVehHack;
new ServerAimDetect;
new ServerCheckPass;
new ServerRemoveNewAccs;
new ServerAntiTabFast;
new ServerAntiSlide;
new OffRPNick;
new log[256];
// Cheat world
new CheatersDetected; // Cheaters counter
new SendReports; // Reports counter
// Actros
new testactor, animactordatalib[32], animactordataname[32], massactor[10];
new girl1,girl2,girl3,girl4,girl5,girl6,girl7;
new girl10,girl11,girl12,girl13,girl14,girl15,girl16,girl17,girl18,girl19,girl20; //jizzy
// Pickups
new 
	AmmoInt[MAX_PLAYERS],
	ShopInt[MAX_PLAYERS],
	ChurchInt[MAX_PLAYERS],
	BankInt[MAX_PLAYERS],
	StripInt[MAX_PLAYERS],
	Shop24Int[MAX_PLAYERS],
	PizzaInt[MAX_PLAYERS],
	BarInt[MAX_PLAYERS],
	SexShopInt[MAX_PLAYERS];
new giftpickup;
new underwaterpickup;
new ArmourAmmoPickup, VipArmourPickup1;
new AmmoPickupIn, Ammo2PickupIn, Ammo3PickupIn, Ammo4PickupIn, Ammo5PickupIn, Ammo6PickupIn,
Ammo7PickupIn, Ammo8PickupIn, Ammo9PickupIn, Ammo10PickupIn, Ammo11PickupIn, Ammo12PickupIn,
Ammo13PickupIn, AmmoPickupOut, AmmoVipPickupIn, AmmoVipPickupOut;
new UrbanShopIn, UrbanShopIn2, UrbanShopIn3,UrbanShopIn4,UrbanShopIn5,UrbanShopIn6,
UrbanShopIn7,UrbanShopOut;
new Shop24In1,Shop24In2,Shop24In3,Shop24In4,Shop24In5,Shop24In6,Shop24In7,
Shop24In8, Shop24In9, Shop24In10, Shop24In11, Shop24In12,Shop24In13,Shop24In14,
Shop24In15,Shop24In16,Shop24In17,Shop24In18,Shop24In19,Shop24In20,Shop24In21,
Shop24In22,Shop24In23,Shop24In24,Shop24In25,Shop24In26,Shop24In27,Shop24In28,
Shop24In29,Shop24In30,Shop24In31,Shop24In32,Shop24In33,Shop24In34,Shop24In35,
Shop24In36,Shop24In37,Shop24In38,Shop24In39,Shop24In40,Shop24In41,Shop24In42,
Shop24In43,Shop24In44,Shop24In45,Shop24In46,Shop24In47,Shop24In48,Shop24Out;
new PizzaIn1,PizzaIn2,PizzaIn3,PizzaIn4,PizzaIn5,PizzaIn6,PizzaIn7,PizzaIn8,
PizzaIn9,PizzaIn10,PizzaIn11,PizzaIn12,PizzaOut;
new MusicStoreOut, MusicIn;
new Bank1, Bank2, Bank3, BankOut;
new Church1,Church2,Church3, ChurchIndulg, ChurchOut;
new StripPickupIn, StripPickupIn2, StripPickupIn3, StripPickupIn4, 
StripPickupIn5, StripPickupIn6, StripPickupOut;
new JizzyOut1, JizzyOut2;
new UltorIn, UltorOut;
new BarIn1,BarIn2,BarIn3,BarIn4,BarIn5, BarViceIn,BarViceOut,BarOut;
new SexShopIn1,SexShopIn2,SexShopIn3, SexShopOut;
new FlowersShopIn1, FlowersShopOut;
new EtcPick1, EtcPickOut, EtcPick2, EtcPickOut2;
new warrpg1, warrpg2, warrpg3, warrpg4, warrpg5, warrpg6, warrpg7, warrpg8;
new bonuspack1,bonuspack2,bonuspack3,bonuspack4,bonuspack5,bonuspack6,bonuspack7,
bonuspack8, bonuspack9,bonuspack10,bonuspack11,bonuspack12,bonuspack13,bonuspack14,
bonuspack15,bonuspack16,bonuspack17,bonuspack18,bonuspack19,bonuspack20,bonuspack21,
bonuspack22,bonuspack23,bonuspack24,bonuspack25,bonuspack26,bonuspack27,bonuspack28,
bonuspack29,bonuspack30,bonuspack31,bonuspack32,bonuspack33,bonuspack34,bonuspack35,
bonuspack36,bonuspack37,bonuspack38,bonuspack39,bonuspack40;
new BulletsPack1, BulletsPack2, BulletsPack3, BulletsPack4, BulletsPack5, BulletsPack6,
BulletsPack7, BulletsPack8, BulletsPack9, BulletsPack10, BulletsPack11, BulletsPack12;
new SF_CityTrash, TrashMapicon;
// Zones 
new warzonemap;
// Textdraws
new Text3D:Pgm3D[MAX_PLAYERS char];
new Text:Logo;  
new Text:TDTime;
new TimeStr[32], gHour,	gMinute, gSecond, gDay, gMonth, gYear; 
new Text:TDBottomBar, StatusBar[256];
new PlayerText:TDExp[MAX_PLAYERS];
new ExpStr[32];
new Exp_timer[MAX_PLAYERS];
new PlayerText:FPS[MAX_PLAYERS];
new PlayerText:FPS2[MAX_PLAYERS];
new PlayerText:Combo[MAX_PLAYERS];
new PlayerText:Speed[MAX_PLAYERS];
new PlayerText:Status[MAX_PLAYERS];
new PlayerText:VehHp[MAX_PLAYERS];
new PlayerText:InfoTD[MAX_PLAYERS];
new PlayerText:PlayerHp[MAX_PLAYERS];
new PlayerText:PlayerArmour[MAX_PLAYERS];
new PlayerText:MoneyHUD[MAX_PLAYERS];
new PlayerText:MoneyHUDBack[MAX_PLAYERS];
new PlayerText:BonusExp[MAX_PLAYERS];
new PlayerText:Objrate[MAX_PLAYERS];
new PlayerText:DamageBar[MAX_PLAYERS];
new Float:issuer_FPS, issuer_Ping, Float:issuer_Loss;
new PlayerText:SpecPlInfo[MAX_PLAYERS];
new PlayerText:Killstat[MAX_PLAYERS];

// Game zones
#define MAX_DMRAND_ARENA 6
#define MAX_DMCHAINSAW_ARENA 3
#define MAX_DMSNIPER_ARENA 2
#define MAX_DMDEAGLE_ARENA 2
#define MAX_TDMSNIPER_ARENA 4
#define MAX_TDMSAWN_ARENA 1
#define MAX_ROUND_SCORE 30
new 
	dmzone[MAX_PLAYERS],
	minigamezone[MAX_PLAYERS],
	trainingzone[MAX_PLAYERS],
	cwzone[MAX_PLAYERS],
	cszone[MAX_PLAYERS],
	warzone[MAX_PLAYERS],
	survzone[MAX_PLAYERS],
	tdmzone[MAX_PLAYERS],
	team[MAX_PLAYERS],
	TempColor[MAX_PLAYERS];
new dmrandom_weapons[] = {9,16,18,22,23,24,25,26,27,28,29,30,31,32,33,34,37,42};
new online_dmramdom, online_dmdeagle, online_dmoneshot, online_dmchainsaw, online_dmsniper,
online_trlamo, online_trpro, online_trsniper, online_trchains,
online_dmz, online_tdmz, online_tcw, online_trz, online_csz,
online_tdmdeagle, online_tdmlamo, online_tdmsniper, online_warzone, online_survival;
new tdmdeagle_score_red, tdmdeagle_score_blue, tdmlamo_score_red, tdmlamo_score_blue,
tdmsniper_score_red, tdmsniper_score_blue;
new DmChainsawArenaId = 2;
new DmRandomArenaId = 1;
new DmSniperArenaId = 1;
new DmDeagleArenaId = 1;
new TdmSniperArenaId = 1;
new TdmSawnArenaId = 1;
new dmexstr[90] = "Вы вошли в DeathMatch режим, приятной игры. Чтобы выйти введите: /exit либо /выход";
new DEMO_MESSG[54] = "Данный раздел в разработке и работает в демо-режиме!";
new ATTACKERS_SCORE = 0;
new DEFENDERS_SCORE = 0;
new CwRoundStart;
// sync command
new Float:g_afSpawnHealth[MAX_PLAYERS];
new Float:g_afSpawnArmour[MAX_PLAYERS];
new g_aiSpawnWeapons[MAX_PLAYERS][13];
new g_anSpawnAmmo[MAX_PLAYERS][13];
new g_aiSpawnInfo[MAX_PLAYERS][2];
// ferris wheel
new gFerrisWheel;
new gFerrisBase;
new gFerrisCages[10];
// weapon drop system
new DropWeapon_Timer[MAX_PLAYERS];
new activeHeal = 1; // drop heal items
enum dInfo {
	ID,
	Type, 
	Weapon, 
	Ammo,
	Text3D: Label
}
new DropInfo[MAX_PICKUPS][dInfo];

// flymode
enum noclipenum
{
    cameramode,
    flyobject,
    mode,
    lrold,
    udold,
    lastmove,
    Float:accelmul
}
new noclipdata[MAX_PLAYERS][noclipenum];  

enum SavedEnums {
	Float:foX,
	Float:foY,
	Float:foZ,
	Float:roX,
	Float:roY,
	Float:roZ
};
new O[SavedEnums];

// attachobjectseditor
enum
{
	Float:ATPCOORD_X,
	Float:ATPCOORD_Y,
	Float:ATPCOORD_Z
}
enum
{
	ATPPOS_OFFSET_X,
	ATPPOS_OFFSET_Y,
	ATPPOS_OFFSET_Z,
	ROT_OFFSET_X,
	ROT_OFFSET_Y,
	ROT_OFFSET_Z,
	ATPSCALE_X,
	ATPSCALE_Y,
	ATPSCALE_Z
}


new AttachmentBones[18][15] =
{
	{"Спина"},
	{"Голова"},
	{"Л. плечо"},
	{"Пр. плечо"},
	{"Л. кисть"},
	{"Пр. кисть"},
	{"Л. бедро"},
	{"Пр. бедро"},
	{"Л. стопа"},
	{"Пр. стопа"},
	{"Пр. голень"},
	{"Л. голень"},
	{"Л. предплечье"},
	{"Пр. предплечье"},
	{"Л. ключица"},
	{"Пр. ключица"},
	{"Шея"},
	{"Челюсть"}
};

new
bool:	gEditingAttachments		[MAX_PLAYERS],
		gCurrentAttachIndex		[MAX_PLAYERS],
bool:	gIndexUsed				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS],
		gIndexModel				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS],
		gIndexBone				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS],
Float:	gIndexPos				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS][3],
Float:	gIndexRot				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS][3],
Float:	gIndexSca				[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS][3],
		gCurrentAxisEdit		[MAX_PLAYERS];

// Cage offsets for attaching to the main wheel
new Float:gFerrisOrigin[3] = {832.8393, -2046.1990, 27.0900};
new Float:gFerrisCageOffsets[10][3] = {
{0.0699, 0.0600, -11.7500},
{-6.9100, -0.0899, -9.5000},
{11.1600, 0.0000, -3.6300},
{-11.1600, -0.0399, 3.6499},
{-6.9100, -0.0899, 9.4799},
{0.0699, 0.0600, 11.7500},
{6.9599, 0.0100, -9.5000},
{-11.1600, -0.0399, -3.6300},
{11.1600, 0.0000, 3.6499},
{7.0399, -0.0200, 9.3600}
};

new Float:gCurrentTargetYAngle = 0.0; // Angle of the Y axis of the wheel to rotate to.
new gWheelTransAlternate = 0; // Since MoveObject requires some translation target to intepolate
						    // rotation, the world pos target is alternated by a small amount.
UpdateWheelTarget()
{
    gCurrentTargetYAngle += 36.0; // There are 10 carts, so 360 / 10
    if(gCurrentTargetYAngle >= 360.0) {
		gCurrentTargetYAngle = 0.0;
    }
	if(gWheelTransAlternate) gWheelTransAlternate = 0;
	else gWheelTransAlternate = 1;
}

// Vehs			
new Vehicles[][] ={
"Landstalker","Bravura","Buffalo","Linerunner","Pereniel","Sentinel","Dumper","Firetruck","Trashmaster",
"Stretch","Manana","Infernus","Voodoo","Pony","Mule","Cheetah","Ambulance","Leviathan","Moonbeam","Esperanto",
"Taxi","Washington","Bobcat","Mr Whoopee","BF Injection","Hunter","Premier","Enforcer","Securicar","Banshee",
"Predator","Bus","Rhino","Barracks","Hotknife","Trailer","Previon","Coach","Cabbie","Stallion","Rumpo",
"RC Bandit","Romero","Packer","Monster","Admiral","Squalo","Seasparrow","Pizzaboy","Tram","Trailer",
"Turismo","Speeder","Reefer","Tropic","Flatbed","Yankee","Caddy","Solair","Berkley's RC Van","Skimmer",
"PCJ-600","Faggio","Freeway","RC Baron","RC Raider","Glendale","Oceanic","Sanchez","Sparrow","Patriot",
"Quad","Coastguard","Dinghy","Hermes","Sabre","Rustler","ZR350","Walton","Regina","Comet","BMX",
"Burrito","Camper","Marquis","Baggage","Dozer","Maverick","News Chopper","Rancher","FBI Rancher","Virgo",
"Greenwood","Jetmax","Hotring","Sandking","Blista Compact","Police Maverick","Boxville","Benson","Mesa",
"RC Goblin","H. Racer A","H. Racer B","Bloodring Banger","Rancher","Super GT","Elegant",
"Journey","Bike","Mountain Bike","Beagle","Cropdust","Stunt","Tanker","RoadTrain","Nebula","Majestic",
"Buccaneer","Shamal","Hydra","FCR-900","NRG-500","HPV1000","Cement Truck","Tow Truck","Fortune","Cadrona",
"FBI Truck","Willard","Forklift","Tractor","Combine","Feltzer","Remington","Slamvan","Blade","Freight",
"Streak","Vortex","Vincent","Bullet","Clover","Sadler","Firetruck","Hustler","Intruder","Primo","Cargobob",
"Tampa","Sunrise","Merit","Utility","Nevada","Yosemite","Windsor","Monster A","Monster B","Uranus",
"Jester","Sultan","Stratum","Elegy","Raindance","RC Tiger","Flash","Tahoma","Savanna","Bandito","Freight",
"Trailer","Kart","Mower","Duneride","Sweeper","Broadway","Tornado","AT-400","DFT-30","Huntley","Stafford",
"BF-400","Newsvan","Tug","Trailer A","Emperor","Wayfarer","Euros","Hotdog","Club","Trailer B","Trailer C",
"Andromada","Dodo","RC Cam","Launch","Police (LSPD)","Police (SFPD)","Police (LVPD)","Police Ranger",
"Picador","S.W.A.T. Van","Alpha","Phoenix","Glendale","Sadler","Luggage Trailer A","Luggage Trailer B",
"Stair Trailer","Boxville","Farm Plow","Utility Trailer" };
// clist colors
new playerClistColors[200] = {
	0xFF8C13FF,0xC715FFFF,0x20B2AAFF,0xDC143CFF,0x6495EDFF,0xf0e68cFF,0x778899FF,0xFF1493FF,
	0xF4A460FF,0xEE82EEFF,0xFFD720FF,0x8b4513FF,0x4949A0FF,0x148b8bFF,0x14ff7fFF,0x556b2fFF,
	0x0FD9FAFF,0x10DC29FF,0x534081FF,0x0495CDFF,0xEF6CE8FF,0xBD34DAFF,0x247C1BFF,0x0C8E5DFF,
	0x635B03FF,0xCB7ED3FF,0x65ADEBFF,0x5C1ACCFF,0xF2F853FF,0x11F891FF,0x7B39AAFF,0x53EB10FF,
	0x54137DFF,0x275222FF,0xF09F5BFF,0x3D0A4FFF,0x22F767FF,0xD63034FF,0x9A6980FF,0xDFB935FF,
	0x3793FAFF,0x90239DFF,0xE9AB2FFF,0xAF2FF3FF,0x057F94FF,0xB98519FF,0x388EEAFF,0x028151FF,
	0xA55043FF,0x0DE018FF,0x93AB1CFF,0x95BAF0FF,0x369976FF,0x18F71FFF,0x4B8987FF,0x491B9EFF,
	0x829DC7FF,0xBCE635FF,0xCEA6DFFF,0x20D4ADFF,0x2D74FDFF,0x3C1C0DFF,0x12D6D4FF,0x48C000FF,
	0x2A51E2FF,0xE3AC12FF,0xFC42A8FF,0x2FC827FF,0x1A30BFFF,0xB740C2FF,0x42ACF5FF,0x2FD9DEFF,
	0xFAFB71FF,0x05D1CDFF,0xC471BDFF,0x94436EFF,0xC1F7ECFF,0xCE79EEFF,0xBD1EF2FF,0x93B7E4FF,
	0x3214AAFF,0x184D3BFF,0xAE4B99FF,0x7E49D7FF,0x4C436EFF,0xFA24CCFF,0xCE76BEFF,0xA04E0AFF,
	0x9F945CFF,0xDCDE3DFF,0x10C9C5FF,0x70524DFF,0x0BE472FF,0x8A2CD7FF,0x6152C2FF,0xCF72A9FF,
	0xE59338FF,0xEEDC2DFF,0xD8C762FF,0xD8C762FF,0xFF8C13FF,0xC715FFFF,0x20B2AAFF,0xDC143CFF,
	0x6495EDFF,0xf0e68cFF,0x778899FF,0xFF1493FF,0xF4A460FF,0xEE82EEFF,0xFFD720FF,0x8b4513FF,
	0x4949A0FF,0x148b8bFF,0x14ff7fFF,0x556b2fFF,0x0FD9FAFF,0x10DC29FF,0x534081FF,0x0495CDFF,
	0xEF6CE8FF,0xBD34DAFF,0x247C1BFF,0x0C8E5DFF,0x635B03FF,0xCB7ED3FF,0x65ADEBFF,0x5C1ACCFF,
	0xF2F853FF,0x11F891FF,0x7B39AAFF,0x53EB10FF,0x54137DFF,0x275222FF,0xF09F5BFF,0x3D0A4FFF,
	0x22F767FF,0xD63034FF,0x9A6980FF,0xDFB935FF,0x3793FAFF,0x90239DFF,0xE9AB2FFF,0xAF2FF3FF,
	0x057F94FF,0xB98519FF,0x388EEAFF,0x028151FF,0xA55043FF,0x0DE018FF,0x93AB1CFF,0x95BAF0FF,
	0x369976FF,0x18F71FFF,0x4B8987FF,0x491B9EFF,0x829DC7FF,0xBCE635FF,0xCEA6DFFF,0x20D4ADFF,
	0x2D74FDFF,0x3C1C0DFF,0x12D6D4FF,0x48C000FF,0x2A51E2FF,0xE3AC12FF,0xFC42A8FF,0x2FC827FF,
	0x1A30BFFF,0xB740C2FF,0x42ACF5FF,0x2FD9DEFF,0xFAFB71FF,0x05D1CDFF,0xC471BDFF,0x94436EFF,
	0xC1F7ECFF,0xCE79EEFF,0xBD1EF2FF,0x93B7E4FF,0x3214AAFF,0x184D3BFF,0xAE4B99FF,0x7E49D7FF,
	0x4C436EFF,0xFA24CCFF,0xCE76BEFF,0xA04E0AFF,0x9F945CFF,0xDCDE3DFF,0x10C9C5FF,0x70524DFF,
	0x0BE472FF,0x8A2CD7FF,0x6152C2FF,0xCF72A9FF,0xE59338FF,0xEEDC2DFF,0xD8C762FF,0xD8C762FF
};

new DynamicZone[MAX_PLAYERS];
/*new GangZoneId[MAX_GANGZONES];
new Zone[MAX_GANGZONES];
new Float:GangZonesCoords[80][4] = {
	{-3000.0, 1633.0, -1840.0, 3000.0},
	{ -1833.0, 2024.0, -560.0, 3000.0},
	{ -554.0, 2236.0, 620.0, 3000.0},
	{ -550.0, 1305.5, -79.0, 2229.5},
	{ 626.0, 2680.0, 3000.0, 3000.0},
	{ 627.0, 2065.0, 1493.0, 2670.0},
	{ 630.0, 1196.5, 1496.0, 2059.5},
	{ -1830.0, 1299.5, -556.0, 2014.5},
	{ -551.0, 512.5, 619.0, 1296.5},
	{ 625.00012, 511.50004, 1499.00012, 1191.50004},
	{ 1500.0, 1196.5, 2334.0, 2673.5},
	{ 2341.0, 1196.5, 3000.0, 2670.5},
	{ -1470.0, 509.5, -557.0, 1294.5},
	{ 1506.0, 510.5, 2341.0, 1187.5},
	{ 2350.0, 508.5, 3000.0, 1190.5},
	{ -3000.0, 1297.5, -1839.0, 1624.5},
	{ -70.0, 1307.5, 620.0, 1627.5},
	{ -3000.0, 384.5, -2605.0, 1287.5},
	{ -3000.0, -204.499938, -2606.0, 376.50006},
	{ -3000.0, -540.499938, -2263.0, -213.49993},
	{ -2599.0, 820.5, -2142.0, 1290.5},
	{ -2135.0, 811.5, -1479.0, 1289.5},
	{ -2598.0, 563.5, -2141.0, 810.5},
	{ -2133.0, 511.5, -1476.0, 802.5},
	{ -2600.0, 246.5, -2140.0, 557.5},
	{ -2600.0, -205.5, -2260.0, 239.5},
	{ -2252.0, -204.5, -2135.0, 237.5},
	{ -2132.0, -204.5, -1759.0, 505.5},
	{ -1751.0, 256.5, -965.0, 502.5},
	{ -1752.0, -16.5, -967.0, 249.5},
	{ -1752.0, -203.5, -969.0, -22.5},
	{ -2257.0, -539.5, -1757.0, -211.5},
	{ -1751.0, -539.5, -1293.0, -210.5},
	{ -1287.999938, -538.5, -970.99993, -209.5},
	{ -1751.999938, -724.5, -970.99993, -545.5},
	{ -2259.0, -723.5, -1759.0, -546.5},
	{ -3000.0, -886.5, -2264.0, -546.5},
	{ -2258.0, -1016.5, -1745.0, -729.5},
	{ -3000.0, -1456.5, -2264.0, -892.5},
	{ -2258.0, -1457.5, -1743.0, -1021.5},
	{ -73.0, 1636.5, 622.0, 2228.5},
	{ -3000.0, -2112.99993, -2262.0, -1461.999938},
	{ -2255.0, -1748.00006, -1743.0, -1463.0000610},
	{ -2255.0, -2112.49981, -1741.0, -1753.4998168},
	{ -3000.0, -3000.0, -2350.0, -2120.5},
	{ -2342.0, -2999.5, -1739.0, -2120.0},
	{ -1739.0, -1284.5, -964.0, -730.5},
	{ -1738.0, -2112.5, -963.0, -1292.5},
	{ -1732.0, -3000.0, -962.0, -2118.0},
	{ -955.0, -3000.0, 179.0, -2114.0},
	{ -954.0, -2110.0, -212.0, -1292.0},
	{ -958.0, -1284.0, -208.0, -372.0},
	{ -304.0, -366.0, 550.0, 502.0},
	{ -956.0, -366.0, -312.0, 502.0},
	{ -202.0, -1030.0, 550.0, -372.0},
	{ -202.0, -1490.0, 550.0, -1040.0},
	{ -200.0, -2106.0, 182.0, -1496.0},
	{ 188.0, -3000.0, 548.0, -1496.0},
	{ 556.0, 160.5, 1506.0, 500.5},
	{ 558.0, -364.0, 1508.0, 156.0},
	{ 1514.0, -362.0, 2130.0, 498.0},
	{ 2138.0, -364.0, 3000.0, 498.0},
	{ 556.0, -1032.0, 1710.0, -374.0},
	{ 1716.0, -1036.0, 2452.0, -374.0},
	{ 2460.0, -1038.0, 3000.0, -376.0},
	{ 558.0, -1392.0, 1350.0, -1040.0},
	{ 556.0, -1790.0, 1348.0, -1396.0},
	{ 556.0, -2132.0, 1346.0, -1796.0},
	{ 556.0, -3000.0, 1345.0, -2142.0},
	{ 1358.0, -1392.0, 1850.0, -1042.0},
	{ 1860.0, -1474.0, 2458.0, -1044.0},
	{ 2464.0, -1596.0, 3000.0, -1044.0},
	{ 1355.0, -1861.0, 1853.0, -1399.0},
	{ 1862.0, -1858.0, 2461.0, -1480.0},
	{ 2470.0, -2147.499816, 3000.0, -1602.499816},
	{ 1355.0, -2145.999816, 2462.0, -1868.999816},
	{ 1354.0, -2361.5, 2433.0, -2152.5},
	{ 1356.0, -2637.5, 2432.0, -2367.5},
	{ 1355.0, -3000.0, 2432.0, -2644.5},
	{ 2440.0, -3000.0, 3000.0, -2153.5}
};
*/
new Float:RandomSpawn[][4] = { // Random LV golfclub spawn
{2155.8621,1015.6236,10.8203}, {2670.8062,855.0320,10.9395}, {2611.3196,1796.5612,10.8203}, 
{2607.6792,2090.1416,10.8206}, {2835.7290,2394.7756,10.8203}, {1486.7003,2814.7642,10.8203}, 
{1023.5330,1968.2039,11.3112}, {1693.3506,1452.1101,10.7642}, {1098.8096,1717.6699,10.8203},
{2210.3699,1838.7572,10.8203}, {2198.5398,933.4155,10.8203}, {2393.4092,989.9095,10.8203},
{2483.5854,917.0595,10.8203}, {2447.6790,1271.3934,10.8203}, {2435.9167,1676.8214,10.8203},
{2170.7361,1687.6672,10.8203}, {2027.1180,1917.1635,12.3375}, {1989.2018,2190.7976,10.8203},
{2054.6643,2479.7964,10.8203}, {1434.2334,2642.6182,11.3926}, {1433.3821,749.4613,10.8203},
{1628.8812,630.1757,10.8203}, {1899.6913,701.8265,10.8203}, {1090.7084,2112.9973,16.2526} 
};


/*new Float:JizzySpawn[][4] = { //AFK Zone
{-2632.178222, 1396.329833, 906.460937},{-2654.648681, 1397.640502, 906.464660},{-2647.858642, 1397.565795, 906.460937},
{-2667.218750, 1397.003784, 906.460937},{-2673.703125, 1397.228271, 906.460937},{-2672.188964, 1405.576416, 906.277099},
{-2670.027587, 1413.589721, 906.460937},{-2675.017578, 1414.674804, 906.461730},{-2673.380126, 1424.053588, 906.460937},
{-2674.134277, 1427.795043, 906.460937},{-2670.975830, 1429.970458, 906.460937},{-2666.674316, 1428.531860, 906.460937},
{-2664.715087, 1422.246948, 906.460937},{-2661.561767, 1425.549804, 906.460937},{-2659.218750, 1426.078491, 906.460937},
{-2660.306640, 1429.020629, 906.460937},{-2652.659423, 1426.375244, 906.460937},{-2652.615966, 1429.555786, 906.460937},
{-2655.708984, 1427.159057, 906.460937},{-2647.493164, 1423.173461, 906.460937},{-2644.210205, 1423.421142, 906.460937},
{-2646.964599, 1426.283325, 906.460937},{-2647.151367, 1390.590820, 912.406250},{-2645.725097, 1394.084960, 912.406250},
{-2651.157958, 1393.629760, 912.406250},{-2655.504150, 1393.725708, 912.411437},{-2664.690917, 1394.517944, 912.406250},
{-2669.330566, 1394.322509, 912.406250},{-2675.118408, 1394.068847, 912.411437},{-2674.839599, 1398.558715, 912.406250},
{-2670.525634, 1399.006225, 912.406250},{-2665.258544, 1399.249267, 912.406250},{-2657.204833, 1397.264038, 912.406250},
{-2651.986572, 1398.209350, 912.406250},{-2647.609375, 1398.538818, 912.406250},{-2674.301025, 1424.500610, 912.406250},
{-2672.287353, 1423.424560, 912.411437},{-2676.200683, 1427.943969, 912.406250},{-2670.286132, 1426.586059, 912.406250},
{-2664.989013, 1426.835449, 912.411437},{-2660.738037, 1423.350708, 912.411437},{-2654.406494, 1423.709228, 912.406250},
{-2651.769042, 1429.006713, 912.406250},{-2656.842285, 1430.675048, 912.406250},{-2663.838378, 1431.313232, 912.406250}
};*/

new Float:JailSpawn[][4] = {
{215.1432,110.3091,999.0156}, {219.1992,109.3283,999.0156}, 
{223.1596,109.2750,999.0156}, {227.0370,109.5144,999.0156}
};

new Float:DmDeagleSpawn[][4] = {
{2186.2510,649.6375,11.3272}, {2214.1238,658.7438,11.4683}, {2246.3828,646.1493,11.0022},
{2258.1624,654.1855,11.4531}, {2317.2881,651.9990,11.3397}, {2349.9900,651.3946,11.4480},
{2379.6792,648.2166,11.1526}, {2402.9155,652.0126,11.4609}, {2393.5747,671.9821,11.3594},
{2361.2041,675.8356,11.2852}, {2308.1782,675.8258,11.3594}, {2326.3350,700.0367,11.0184},
{2390.6306,730.3090,11.2479}, {2397.1062,750.3345,11.3594}, {2249.1506,728.1732,11.1215},
{2212.5779,730.6234,11.3677}, {2179.7605,729.4589,11.2679}, {2213.2498,690.1498,11.4609}
};

new Float:WarzoneSpawn[][4] = {
{424.283355, 2536.812744, 16.148437}, {448.153717, 2542.398437, 16.889282},	{407.671264, 2555.249023, 16.459110},
{397.774169, 2581.435302, 16.501380}, {339.965332, 2554.194824, 16.781749}, {331.494262, 2549.314453, 16.804672},
{307.277954, 2584.163574, 16.510398}, {302.893341, 2656.131591, 16.284408}, {264.292816, 2641.824951, 16.476562},
{271.628356, 2585.506591, 16.816221}, {273.653900, 2542.391845, 16.812500}, {285.312652, 2551.132568, 16.819322},
{249.274566, 2544.523193, 16.804687}, {215.762725, 2583.360839, 16.476562}, {148.537612, 2612.978271, 16.476562},
{128.888015, 2437.112548, 16.719657}, {94.847259, 2400.610839, 16.520385}, {151.111648, 2388.727539, 16.484375},
{211.192276, 2391.764160, 16.476562}, {267.494445, 2402.262939, 16.706548}, {343.918792, 2429.474609, 16.805027},
{379.286834, 2462.230224, 25.139575}, {412.729309, 2539.654052, 16.524066}, {434.513000, 2463.762939, 16.484375}
};

new Float:TDM_LamoSpawn[][4] = {
{1392.0405,2108.4202,11.0156}, {1392.2249,2148.4045,11.0234}, {1391.5447,2182.7937,11.0234},
{1351.9651,2192.8538,11.0234}, {1319.4391,2192.9902,11.0234}, {1305.6187,2177.2517,11.0234},
{1305.2451,2149.6782,11.0234}, {1306.6881,2107.3906,11.0156}, {1350.0187,2106.1045,11.0156}
};

new Float:TDM_SniperSpawnRED[][4] = {
{-61.176918, 127.588706, 3.117187}, {-36.593315, 102.990837, 3.117187}, {-8.249218, 90.725105, 3.117187},
{-7.389932, 114.836029, 3.109600}, {-37.163047, 61.959732, 3.117187}
};
new Float:TDM_SniperSpawnBLUE[][4] = {
{-135.135925, -112.704727, 3.117187}, {-95.260704, -119.496162, 3.109395}, {-72.986137, -116.602294, 3.117187},
{-86.750930, -98.945663, 3.118082}, {-129.809265, -93.761962, 6.484375}
};

new Float:TDM_SniperSmallSpawnRED[][4] = {
{915.667968, 2433.272949, 20.960315}, {909.197082, 2424.640380, 20.960315}, {913.220275, 2419.180419, 20.960315},
{909.958312, 2400.618408, 20.960315}, {913.275878, 2475.580322, 20.960315}, {913.723083, 2487.076416, 20.960315}
};
new Float:TDM_SniperSmallSpawnBLUE[][4] = {
{1008.355651, 2419.012451, 20.960315}, {1013.066101, 2398.944824, 20.920314}, {1009.108825, 2431.595947, 20.960315},
{1010.983520, 2475.917968, 20.960315}, {1008.903076, 2489.439941, 20.960315}, {1012.109802, 2504.183837, 20.920314}
};

new Float:TDM_SniperPwnSpawnRED[][4] = {
{2435.334228, 1078.702514, 10.757804}, {2430.543701, 1079.721069, 10.847606}, {2425.926269, 1075.521728, 11.021910},
{2429.815185, 1069.439941, 10.980436}, {2435.059082, 1071.816284, 10.792462}, {2431.045166, 1073.501708, 10.983277}
};
new Float:TDM_SniperPwnSpawnBLUE[][4] = {
{2640.578613, 1301.182861, 10.820312}, {2636.309082, 1298.141357, 10.820312}, {2636.975585, 1292.458618, 10.820312},
{2641.062500, 1289.950195, 10.820312}, {2646.236328, 1291.341918, 10.820312}, {2647.030273, 1295.032470, 10.820312},
{2642.419189, 1295.066528, 10.820312}
};

new Float:TDM_SniperCsLsDustpawnBLUE[][4] = {
{1956.600341, -2586.390869, 31.319160},{1955.238769, -2602.395751, 31.319160},{1958.137207, -2624.983886, 31.319160},
{1955.577270, -2638.041503, 31.319160},{1958.898315, -2645.896728, 31.319160}
};
new Float:TDM_SniperCsLsDustpawnRED[][4] = {
{1722.128906, -2605.615234, 31.319160},{1718.830444, -2610.456298, 31.319160},{1719.851562, -2627.128662, 31.319160},
{1721.567871, -2640.499755, 31.319160},{1727.446044, -2627.173583, 31.319160}
};

new Float:CS1_SpawnSwat[][4] = {
{-1032.141845, -968.345886, 129.262756}, {-1025.014526, -964.724853, 129.262756}, {-1032.732177, -964.439636, 129.262756},
{-1032.909301, -958.459777, 129.262756}, {-1029.761474, -957.935791, 129.262756}, {-1025.040283, -957.335021, 129.262756},
{-1025.136108, -954.120361, 129.262756}, {-1029.855468, -953.797912, 129.262756}, {-1032.857543, -953.461364, 129.262756},
{-1037.403320, -926.858886, 129.262756}, {-1047.454589, -926.739379, 129.262756}
};
new Float:CS1_SpawnTerrorists[][4] = {
{-1195.396728, -986.752197, 129.262756},{-1194.755859, -992.452209, 129.262756},{-1199.015258, -973.466552, 129.262756},
{-1204.887084, -973.038391, 129.262756},{-1206.624633, -987.230224, 130.340789},{-1203.205078, -990.363098, 130.340789},
{-1207.431152, -992.339416, 130.340789},{-1206.789306, -999.639831, 129.262756},{-1205.707031, -1008.147644, 129.262756},
{-1192.604370, -1009.396240, 129.262756},{-1191.301757, -1019.573669, 129.262756},{-1197.915771, -1020.337646, 129.262756},
{-1200.325439, -1014.504882, 129.262756},{-1199.131835, -1042.659301, 129.262756},{-1199.831665, -1047.810791, 129.262756}
};

new Float:Map_Golfclub[][4] = { // dm rand
{1362.8248,2815.6975,10.8203}, {1410.3610,2808.6733,10.8203}, {1402.7618,2753.1199,10.8203},
{1360.0569,2744.6116,10.8203}, {1268.2562,2744.6211,10.8203}, {1164.9304,2738.2891,10.8281},
{1128.1840,2776.0498,10.9578}, {1137.0601,2832.4724,10.8203}, {1193.0334,2849.9329,10.8203},
{1319.9908,2856.0071,10.8203}
};

new Float:Map_Svobase[][4] = { // dm rand 2
{-370.691772, 2269.936279, 42.100746},{-361.636108, 2263.565429, 42.614173},{-365.198913, 2246.723144, 42.484375},
{-349.803253, 2240.285156, 42.484375},{-345.306610, 2219.288085, 42.482131},{-332.447296, 2220.080322, 42.488807},
{-355.131347, 2203.824218, 42.484375},{-397.538116, 2212.178466, 42.424968},{-402.307067, 2203.147216, 42.429687},
{-408.799407, 2224.055175, 42.429687},{-415.375427, 2230.339355, 42.425819},{-410.642730, 2240.908935, 42.429687},
{-414.263336, 2254.668457, 42.429687},{-424.377960, 2254.467041, 42.429687},{-439.176025, 2252.687500, 42.429687},
{-440.135162, 2242.601074, 42.429687},{-443.442657, 2231.059082, 42.429687},{-445.328796, 2218.775146, 42.429687},
{-459.729705, 2219.809082, 43.505043},{-448.334167, 2202.455810, 42.964591}
};

new Float:Map_Carier[][4] = { // dm rand 3
{687.579040, 819.671630, -27.882041},{593.120117, 809.033569, -30.910539},{510.344421, 839.430603, -28.482109},
{531.319335, 842.491882, -42.593505},{548.682495, 874.891296, -42.311595},{590.709167, 868.623535, -42.497318},
{609.911010, 884.158874, -43.046337},{632.245727, 848.781494, -42.960937},{673.370971, 837.174194, -42.960937},
{692.742553, 878.208129, -39.399314},{630.703979, 906.307006, -43.778377},{594.086914, 935.802490, -41.633300},
{559.228271, 925.523010, -42.960937},{622.384033, 952.362670, -34.645797},{717.055419, 895.805664, -27.460103},
{716.057250, 913.905944, -18.680469},{684.895751, 965.482666, -12.678849},{628.097778, 979.388793, -7.411685},
{548.675415, 976.637634, -7.350451},{500.187286, 946.506408, -15.174020},{449.784210, 921.836181, -7.824626},
{473.664520, 835.741882, -11.494382},{717.680175, 764.333984, -7.395632}
};

new Float:Map_LsPort[][4] = { // dm rand 4
{2677.603027, -2505.242919, 13.566618},{2678.216552, -2544.657470, 13.533708},{2736.917968, -2553.070800, 13.644263},
{2739.193115, -2569.156738, 8.098905},{2765.022216, -2540.789794, 13.636124},{2774.232910, -2533.448730, 16.224384},
{2793.872314, -2532.232177, 13.629620},{2801.278564, -2521.685546, 13.627812},{2779.665039, -2515.464843, 13.633089},
{2754.238769, -2515.481689, 17.367183},{2729.758789, -2507.473876, 13.492187},{2729.107421, -2492.659179, 13.654121},
{2731.155273, -2484.813720, 17.593746},{2742.728759, -2465.362060, 13.648437},{2743.941406, -2441.635986, 13.643185},
{2732.281982, -2440.195556, 17.593746},{2731.983398, -2422.762939, 17.593746},{2723.495605, -2392.197509, 13.632812},
{2725.731689, -2411.105224, 13.632812},{2766.737548, -2370.946044, 18.921709},{2761.569580, -2346.080810, 13.632812},
{2714.108886, -2349.841308, 17.340341},{2791.429199, -2344.236328, 13.632812},{2698.459228, -2399.302001, 13.632812}
};

new Float:Map_LsPortShip[][4] = { // dm rand 5
{2831.788330, -2528.963134, 17.901485},{2837.114257, -2540.759033, 18.269197},{2847.917968, -2520.755859, 17.748908},
{2839.527832, -2521.078857, 21.211479},{2833.506103, -2508.719970, 17.505111},{2825.033935, -2486.488037, 12.102978},
{2823.893310, -2458.924072, 12.094525},{2823.185302, -2422.978271, 12.085746},{2823.420410, -2381.220214, 12.075550},
{2840.069580, -2376.208740, 12.074325},{2852.283691, -2384.635253, 12.084197},{2851.336914, -2412.764892, 12.091067},
{2852.325439, -2436.344238, 12.096825},{2852.379150, -2484.062988, 12.108478},{2841.844970, -2482.378906, 15.712214},
{2840.437255, -2468.906738, 14.599788},{2840.763916, -2449.783691, 19.922029},{2831.838623, -2447.531982, 19.922029},
{2834.407470, -2425.700683, 14.599788},{2828.763671, -2410.514160, 18.996065},{2843.041748, -2369.818359, 31.007812},
{2835.231445, -2363.497314, 31.003940},{2826.924804, -2369.915527, 28.681663},{2828.009277, -2358.757080, 22.798677},
{2838.000976, -2341.312011, 19.205837},{2847.947021, -2347.464599, 19.205837},{2838.368896, -2333.289794, 12.044363}
};

new Float:Map_Zone51[][4] = { // dm rand 6
{266.002868, 1858.308715, 8.757812},{274.234039, 1856.355834, 8.757812},{274.991302, 1867.701171, 8.757812},
{286.269836, 1869.805664, 8.757812},{297.098419, 1862.146362, 8.172369},{297.561614, 1848.879272, 7.734075},
{303.915649, 1854.794189, 7.726562},{330.111572, 1855.835083, 7.828125},{312.902435, 1845.977661, 7.726562},
{331.121978, 1838.938598, 7.828125},{278.936157, 1839.683471, 7.828125},{297.065246, 1824.438476, 7.828125},
{288.000854, 1824.419189, 7.726562},{287.659942, 1820.109497, 4.712734},{288.132598, 1815.742187, 1.007812},
{272.376129, 1817.288208, 1.007812},{263.001159, 1817.076660, 1.007812},{298.456298, 1815.008178, 4.710937},
{259.932739, 1820.838745, 4.683104},{252.405929, 1809.416625, 4.710937},{243.789031, 1812.775634, 4.710937},
{250.841583, 1802.345703, 7.414062},{242.651443, 1802.194580, 7.414062},{236.919052, 1803.879028, 7.414062},
{236.962265, 1828.635131, 7.414062},{226.277923, 1818.887939, 7.369109},{220.441726, 1821.885253, 7.528723},
{215.074005, 1821.396240, 6.414062},{243.966171, 1822.223632, 4.710937},{253.173934, 1834.224853, 4.710937},
{243.536544, 1847.532714, 8.757812},{243.606246, 1859.335815, 8.757812},{258.751678, 1870.342895, 8.757812},
{249.727569, 1879.873657, 11.460937},{241.551681, 1870.130126, 11.460937},{244.139328, 1859.740234, 14.084012}
};

new Float:Map_BuildingLv[][4] = {
{2690.993652, 803.924804, 10.954463}, {2617.221435, 792.137451, 10.954463}, {2587.185791, 827.340759, 5.203125},
{2571.203857, 792.705017, 5.315796}, {2607.894531, 789.313354, 5.315796}, {2639.160644, 788.919555, 5.315796},
{2642.300537, 841.923400, 5.476353}, {2674.878662, 833.083740, 8.820312}, {2703.834472, 813.238708, 16.397033},
{2697.636474, 826.900390, 10.199604}, {2709.632080, 841.028503, 10.315013}, {2699.645996, 865.114929, 10.148253},
{2693.642089, 871.966430, 10.515009}, {2698.368896, 900.284667, 10.346429}, {2711.346923, 904.018859, 10.820264},
{2713.518310, 889.726867, 10.776681}, {2685.450927, 905.757385, 10.566724}, {2664.435058, 894.243835, 10.061384},
{2669.730224, 864.165039, 10.939546}, {2645.946777, 851.189270, 6.093750}
};

new Float:Map_LVAutoSchool[][4] = {
{1108.785156, 1213.786621, 10.820312}, {1104.350463, 1253.495483, 10.820312}, {1102.018554, 1295.437622, 10.820312},
{1102.801635, 1331.003540, 10.820312}, {1114.983032, 1354.974365, 10.820312}, {1150.062744, 1348.219238, 10.820312},
{1172.169433, 1337.684570, 10.812517}, {1171.345947, 1316.688110, 10.820312}, {1171.548950, 1289.683349, 10.820312},
{1171.620483, 1256.054565, 10.820312}, {1160.327148, 1234.993530, 10.820312}
};

new Float:Map_SFJizzyClub[][4] = {
{-2650.231933, 1382.956909, 7.185639}, {-2632.256103, 1382.913940, 7.181422}, {-2614.914794, 1382.953247, 7.181758},
{-2614.150878, 1372.560791, 7.122904}, {-2614.062744, 1354.194091, 7.156834}, {-2616.435058, 1338.852416, 7.195312},
{-2628.224853, 1328.723266, 7.195312}, {-2650.155029, 1329.343872, 7.185319}, {-2650.344726, 1344.607177, 7.186107},
{-2650.231445, 1356.613159, 7.185637}
};

new Float:Map_SFChainsawTraining[][4] = {
{-2649.038330, 22.638072, 6.132812}, {-2673.592285, 23.863265, 4.335937}, {-2692.508789, 9.343248, 4.335937},
{-2685.885742, -5.463675, 6.132812}, {-2686.057617, -26.931465, 4.335937}, {-2680.454345, -55.812213, 4.335937},
{-2653.350585, -55.442890, 4.335937}, {-2650.374023, -32.285148, 6.132812}, {-2620.031005, -44.235389, 4.335937},
{-2622.066406, -8.203649, 6.132812}, {-2621.023681, 24.855510, 4.335937}
};

new Float:DmOneShotSpawn[][4] = {
{262.826568, 1371.552490, 10.585937},{247.283126, 1410.038330, 10.707500},{246.267471, 1433.573120, 10.707500},
{274.468383, 1430.654663, 10.585937},{262.786682, 1455.594726, 10.585937},{259.329132, 1474.579589, 10.585937},
{240.961624, 1477.331787, 10.585937},{226.263046, 1462.318237, 10.585937},{216.875473, 1441.916870, 10.585937},
{215.446517, 1423.465454, 10.585937},{216.480392, 1400.219726, 10.585937},{212.540664, 1377.736694, 10.585937},
{225.465347, 1362.065917, 10.585937},{184.660934, 1366.119506, 10.585937},{186.206573, 1392.991821, 10.969963},
{178.098266, 1437.806396, 10.591223},{185.567260, 1467.726440, 10.585937},{133.954391, 1478.217529, 10.605010},
{117.771789, 1464.725097, 10.624769},{149.441436, 1430.755371, 10.591223},{116.839363, 1400.178833, 10.585937},
{133.433593, 1375.330078, 10.592546},{150.722427, 1355.131835, 10.585937},{129.383728, 1342.754394, 10.585937}
};

new Float:DmChainsawSpawn[][4] = {
{-10.209019, 1492.446289, 12.766051},{-29.827211, 1500.849487, 12.766051},{-33.257732, 1516.451416, 12.766051},
{-38.113952, 1534.928466, 12.766051},{-32.227279, 1551.421752, 12.766051},{-19.629264, 1560.282348, 12.766051},
{-7.880824, 1564.025268, 12.766051},{6.530913, 1563.739135, 12.766051},{24.911966, 1560.040649, 12.766051},
{45.973361, 1545.836425, 12.766051}, {42.975330, 1527.503906, 12.766051}, {33.957069, 1510.265991, 12.766051},
{24.370738, 1503.052246, 12.766051}, {6.763592, 1509.528198, 12.766051}, {-6.149080, 1520.043823, 12.766051},
{-14.182820, 1529.195434, 13.287410}, {-11.823889, 1545.980346, 13.219655}, {23.366439, 1521.097167, 12.766051},
{29.736093, 1541.963134, 12.766051}, {-2.107853, 1547.839965, 12.766051}
};

new Float:DmChainsaw2Spawn[][4] = { // calisey 23 world
{-1032.605102, -970.423217, 129.218750}, {-1047.747558, -956.763916, 129.218750}, {-1058.679565, -945.998291, 129.218750},
{-1075.298217, -931.679504, 129.218750}, {-1096.991577, -930.861999, 129.218750}, {-1109.570922, -931.259582, 129.218750},
{-1127.793823, -941.633544, 129.218750}, {-1138.792846, -953.986145, 129.218750}, {-1146.000732, -962.044189, 129.218750},
{-1144.536376, -982.340454, 129.218750}, {-1143.529296, -1009.544982, 129.218750}, {-1132.340942, -1022.965942, 129.218750},
{-1123.331542, -1044.342285, 129.218750}, {-1107.223754, -1043.705810, 129.211929}, {-1083.251831, -1043.665161, 129.218750},
{-1062.689331, -1035.492553, 129.218750}, {-1046.072631, -1016.602783, 129.211929}, {-1087.246826, -988.504333, 135.688796}
};

new Float:DmSniperSpawn[][4] = {
{-1954.7225,-981.0874,35.8909}, {-1955.0635,-939.5793,35.8909}, {-1954.7273,-911.1157,35.8909},
{-1955.0320,-810.9999,35.8909}, {-1955.2053,-778.8809,35.8909}, {-1954.0580,-740.9131,35.8909}
};

new Float:Map_DeathDesert[][4] = { // Death desert world 10
{-447.631317, -2385.859619, 589.920654}, {-496.813293, -2382.419433, 589.322509}, {-539.929382, -2404.977050, 590.492614},
{-529.827270, -2320.220703, 590.292907}, {-516.764221, -2273.321044, 589.264404}, {-488.620208, -2216.893798, 589.899902},
{-400.102081, -2180.802490, 588.566284}, {-358.602478, -2189.094238, 589.142883}, {-313.875701, -2219.413330, 590.035949},
{-308.053863, -2289.952148, 588.603210}, {-312.894805, -2322.964111, 589.258972}, {-305.978973, -2365.340576, 589.287658},
{-278.707458, -2380.143066, 589.684020}, {-317.241027, -2423.381347, 590.518798}, {-378.457397, -2434.208251, 588.904296}
};

new Float:Map_BobbieGuillotine[][4] = { // chainsaw
{-150.880203, 22.515428, 3.757186}, {-151.445068, 39.007774, 3.757186}, {-163.548980, 56.499881, 3.757186},
{-184.323242, 74.604492, 3.757186}, {-200.960327, 76.048736, 3.757186}, {-225.438262, 63.779708, 3.757186},
{-232.523773, 43.015148, 3.876082}, {-222.066711, 21.433744, 3.757186}, {-202.433166, 7.865620, 3.757186},
{-170.358627, 1.886360, 3.757186}, {-183.324600, 25.966606, 3.757186}, {-190.624694, 42.445812, 3.757186},
{-194.077575, 42.979408, 9.645863}, {-193.039688, 27.404111, 9.645863}, {-179.904525, 29.004461, 9.645863}
};

new Float:Map_SmallSniperArena[][4] = { //sniper3
{920.415588, 2440.175537, 11.117833}, {928.836120, 2458.458740, 11.117833}, {921.080383, 2483.597656, 11.117833},
{927.966674, 2496.082031, 11.117833}, {958.550842, 2508.640136, 11.117833}, {982.536132, 2495.440429, 11.117833},
{999.061950, 2502.316406, 11.117833}, {1024.993652, 2496.182373, 11.117833}, {1028.402709, 2451.276123, 11.117833},
{1019.143005, 2423.656250, 11.117833}, {1019.458190, 2405.545410, 11.117833}, {985.841308, 2409.790771, 11.117833},
{979.151489, 2396.837158, 11.117833}, {969.084716, 2410.026367, 11.117833}, {945.967346, 2401.809326, 11.117833}
};

new Float:Map_Graveyard[][4] = { //dm deagle 2
{-1187.415649, -1055.588623, 129.218750}, {-1164.997192, -1047.265258, 129.218750}, {-1129.716674, -1047.390625, 129.600708},
{-1117.523315, -1024.900024, 132.635253}, {-1080.462890, -1029.940551, 132.185897}, {-1045.716186, -1038.941650, 129.218750},
{-1038.702880, -1010.758361, 130.112884}, {-1031.467529, -991.533691, 131.344299}, {-1036.917602, -962.490478, 129.625976},
{-1072.207031, -986.182556, 132.071716}, {-1075.139526, -960.057250, 131.709106}, {-1115.359863, -941.640380, 129.381286},
{-1151.198120, -956.423278, 132.053482}, {-1168.655273, -987.282165, 130.019149}, {-1159.380615, -991.695434, 130.913070}
};

new
	Text: Draw[ 122 ],
    ccolor[ ][ ] =
	{
        { 0, 0x00000099 }, { 1, 0xf5f5f599 }, { 2, 0x2a77a199 }, { 3, 0x84051099 }, { 4, 0x25373999 }, { 5, 0x87446f99 },
        { 6, 0xd68f1199 }, { 7, 0x4c75b799 }, { 8, 0xbdbdc599 }, { 9, 0x5e707299 }, { 10, 0x46597a99 }, { 11, 0x66697a99 },
        { 12, 0x5e7e8d99 }, { 13, 0x58595b99 }, { 14, 0xd6dbd599 }, { 15, 0x9ca1a499 }, { 16, 0x34603f99 }, { 17, 0x740e1b99 },
        { 18, 0x7c0a2b99 }, { 19, 0xa09d9499 }, { 20, 0x3b4e7999 }, { 21, 0x732e4099 }, { 22, 0x691e3c99 }, { 23, 0x96918d99 },
        { 24, 0x51545999 }, { 25, 0x3f3e4699 }, { 26, 0xa5a9a899 }, { 27, 0x645c5a99 }, { 28, 0x3c496999 }, { 29, 0x96959199 },
        { 30, 0x431f2199 }, { 31, 0x5f272a99 }, { 32, 0x8494ab99 }, { 33, 0x757a7d99 }, { 34, 0x64646499 },
        { 35, 0x5b585399 }, { 36, 0x25252799 }, { 37, 0x2e3a3699 }, { 38, 0x93a39899 }, { 39, 0x6d7a8a99 },
		{ 40, 0x28201e99 }, { 41, 0x6f686099 }, { 42, 0x7c1c2899 }, { 43, 0x600a1599 }, { 44, 0x19382899 },
        { 45, 0x5c1b1f99 }, { 46, 0x9c987299 }, { 47, 0x7a756199 }, { 48, 0x98958699 }, { 49, 0xacb0b199 },
        { 50, 0x848a8899 }, { 51, 0x30504599 }, { 52, 0x4e636899 }, { 53, 0x16224899 }, { 54, 0x282f4c99 },
        { 55, 0x7e625799 }, { 56, 0x9fa4aa99 }, { 57, 0x9c8d7099 }, { 58, 0x6e182199 }, { 59, 0x4e688199 },
        { 60, 0x9c9d9899 }, { 61, 0x90734799 }, { 62, 0x661d2699 }, { 63, 0x949c9f99 }, { 64, 0xa3a8a499 },
        { 65, 0x8f8c4799 }, { 66, 0x331a1d99 }, { 67, 0x697a8a99 }, { 68, 0xaaad8e99 }, { 69, 0xac988f99 },
        { 70, 0x86202e99 }, { 71, 0x70829899 }, { 72, 0x58595399 }, { 73, 0x9aa68e99 }, { 74, 0x601a1a99 },
        { 75, 0x21212d99 }, { 76, 0xa4a09799 }, { 77, 0xab9d8399 }, { 78, 0x78222b99 }, { 79, 0x0e326e99 },
        { 80, 0x722a4099 }, { 81, 0x7a715f99 }, { 82, 0x741c2899 }, { 83, 0x1d2f3199 }, { 84, 0x4e322f99 },
        { 85, 0x7d1b4499 }, { 86, 0x2f5b2099 }, { 87, 0x395a8399 }, { 88, 0x6c283799 }, { 89, 0xa7a28f99 },
        { 90, 0xb0b2b199 }, { 91, 0x36415599 }, { 92, 0x6d6d6f99 }, { 93, 0x0f6a8999 }, { 94, 0x204b6d99 },
        { 95, 0x2c3d5799 }, { 96, 0x9a9e9d99 }, { 97, 0x6d849499 }, { 98, 0x4d5c5f99 }, { 99, 0xac9b7f99 },
        { 100, 0x416c8f99 }, { 101, 0x20253b99 }, { 102, 0xac927799 }, { 103, 0x12457499 }, { 104, 0x96816c99 },
        { 105, 0x64686b99 }, { 106, 0x11508399 }, { 107, 0xa1998499 }, { 108, 0x38569499 }, { 109, 0x52566199 },
        { 110, 0x7e695699 }, { 111, 0x8d919a99 }, { 112, 0x596d8699 }, { 113, 0x48343399 }, { 114, 0x45625099 },
        { 115, 0x730a2899 }, { 116, 0x22355699 }, { 117, 0x630d1a99 }, { 118, 0xa3adc699 }, { 119, 0x6a585499 },
        { 120, 0x9b8a8099 }
	} ;
	
new noticelist[15][] = {
	{"Посетите группу сервера в vk.com\1nsanemapping\n"},
	{"Посмотреть достпуные команды и горячие клавиши можно в разделе <Y> - Информация\n"},
	{"Используйте режим бессмертия чтобы прогуляться по серверу без угрозы быть убитым (/god)\n"},
	{"Находясь в машине можно быстро протюнинговать транспорт клавишей '2'\n"},
	{"Самый быстрый способ заработать деньги - убивать игроков в большом количестве\n"},
	{"На сервере разрешены CBUG и Scroll, не нужно писать о их использании администраторам\n"},
	{"Напоминаем что Drive-by под запретом. Давить транспортом и резать винтами разрешено.\n"},
	{"Увидели читера? Сообщи админу /report id [Причина] либо через TAB меню игрока\n"},
	{"Закончился бег? Воспользуйся /sync либо Num4\n"},
	{"Заходите на deathmatch зоны, там всегда есть достойные соперники\n"},
	{"Потренироваться в стрельбе можно на Training зонах Y - DeathMatch - TRAINING\n"},
	{"Повоевать на военной технике можно на Warzone режиме Y - DeathMatch - WARZONE\n"},
	{"Если вас убьют вы теряете деньги на руках, храните их в банке\n"},
	{"Пополнить хп можно покупая еду в уличных автоматах и в машине скорой помощи\n"},
	{"Военый транспорт и мощное оружие хорошо спрятаны, найди их первым и получи преимущество\n"}
};

enum(<<= 1)
{
        NULL = 0,
        SOBEIT = 0x5E8606
};

enum pInfo
{
	Float:pSavedPosX,
	Float:pSavedPosY,
	Float:pSavedPosZ,
	Float:pHealth, // todo: convert to pvar
	Float:pArmour, // todo: convert to pvar
	pSerial,
	pAccount,
	pLevel,
	pExp,
	pRegDate,
	pLastLogin, // Date last login to server 
	pMoney,
	pCredit,
	pLimit,
	pAdmin,
	pAdminpanel,
	pVip,
	pJailed,
	pCheater, // cheat world
	pCw, // cheatworld counter
	pMuted,
	pAutomute,
	pCommonChatOFF, // on-off common chat
	pKills,
	pDmKillsTotal,
	pSerialKills, // counter serial kills (0-50) // todo: convert to pvar
	pDamageInfo,
	pGang,
	pGangRang,
	pDeaths,
	pScore,
	pReputation,
	pVotes, // todo: convert to pvar
	pBanned,
	pWarns,
	pSkin,
	pFightStyle,
	pWeather,
	pDaytime,
	pBell, // play sound on take damage other player
	pHudOn, // Server HUD
	pFpsBar, // show fps textdraw
	pBottomBar, // show bootm panel textdraw
	pSpeedBar, // show speedometr textdraw
	pHealthBar,// show hp and armour
	pExpBar,
	pPM, // pm on-off
	pChatColor,
	pReward, // reward to killer
	pAboutPlayer,
	pSoundMenu,
	pObjGlasses,
	pObjHat,
	pObjMask,
	pAllowVehSpawn,
	pColor,
	pWorld,
	pRadio,
	pBonuspack,
	pBonustime,
	pLastIP,
	pKey, // acc sec key
	dMap,
	dRounds,
	dWeaponSet
}
new PlayerInfo[MAX_PLAYERS][pInfo];

enum gInfo
{
	gGangId,
	gName[32],
	gTag[12],
	gSlots,
	gPoints,
	gScoreCw,
	gMembers,
	gBank,
	gLvl,
	gPass[129],
	gPage[32],
	gPageType,
	gWeap,
	Float:gPosX,
	Float:gPosY,
	Float:gPosZ,
	gVehSlot1model,
	gVehSlot2model,
	gVehSlot1id,
	gVehSlot2id,
	Float:gVehSlot1PosX,
	Float:gVehSlot1PosY,
	Float:gVehSlot1PosZ,
	Float:gVehSlot1PosA,
	Float:gVehSlot2PosX,
	Float:gVehSlot2PosY,
	Float:gVehSlot2PosZ,
	Float:gVehSlot2PosA,
	gClist
}
new GangInfo[MAX_PLAYERS][gInfo];

enum OBJECT_INFO
{
	OBJ_ID,
	OBJ_DB_ID,
	OBJ_MODEL,
	Float:OBJ_X,
	Float:OBJ_Y,
	Float:OBJ_Z,
	Float:OBJ_RX,
	Float:OBJ_RY,
	Float:OBJ_RZ,
	OBJ_VW,
	OBJ_INTERIOR,
	Float:OBJ_STREAM_DISTANCE,
};
new DB:EDITOR_DATABASE;
new EDITOR_OBJECT[DEF_MAX_OBJECTS][OBJECT_INFO];
new EDIT_OBJECT_ID[MAX_PLAYERS];
new LAST_OBJECT_ID[MAX_PLAYERS];
new LAST_MATERIAL_INDEX[MAX_PLAYERS];
new MAX_MATERIAL_INDEX = 320;

new RegisterMessageStr[400] = 
	"{ff9933}Welcome {FFFFFF}to {ff9933}1nsane {8a0009}DeathMatch\n\n"\
	"{ffffff}This nickname is not registered!. Please register below.\n"\
	"Recommended to specify a password from {ff9933}3-16{ffffff} characters containing Latin or digits\n"\
	"{ffffff}It is forbidden to specify obscene language in nickname\n"\
	"{ffffff}\n Please enter your password for register below: \n";
new LoginMessageStr[300] = 
	"{ff9933}Homecoming {FFFFFF}to {ff9933}1nsane {8a0009}DeathMatch\n\n"\
	"{ffffff}Check CAPSLOCK and input language before input\n"\
	"{ffffff}Please contact the server administration to recover your password\n"\
	"{ffffff}\nAccount is {00FF00}registered{ffffff}, enter your password:\n\n";
new NickSetStr[270] = 
	"{FFFFFF} За смену никнейма будет списано 55 000$\n"\
	"{FFFFFF} Использовать оскорбления и нецензурную лексику в нике {FF0000}запрещено!\n"\
	"{FFFFFF} Плагиатить администраторов, теги кланов {FF0000}запрещено!\n"\
	"{FFFFFF} Введите новый ник не более 20-ти символов:";
new CwInfo3d[300] =
	"{FFFFFF}Вы находитесь в чит-мире для разбана вам необходимо связаться с адмминистрацией через группу.\n"\
	"Пока администрация будет рассматривать ваше обращение вы будете наслаждаться местными достопримечательностями\n"\
	"Помните: За попытку обхода наказания дается бан на {990000}вечность !";
new MainMenuLst[180] = 
	"{F8F8FF}1.Телепорты\n"\
	"{A9A9A9}2.Deathmatch\n"\
	"{F8F8FF}3.Мини-игры\n"\
	"{A9A9A9}4.Кланы\n"\
	"{F8F8FF}5.Разное\n"\
	"{A9A9A9}6.Информация\n"\
	"{F8F8FF}7.Настройки\n";
new AdMainMenuLst[210] = 
	"{F8F8FF}1.Телепорты\n"\
	"{A9A9A9}2.Deathmatch\n"\
	"{F8F8FF}3.Мини-игры\n"\
	"{A9A9A9}4.Кланы\n"\
	"{F8F8FF}5.Разное\n"\
	"{A9A9A9}6.Информация\n"\
	"{F8F8FF}7.Настройки\n"\
	"{FFFFFF}> {800000}Админkа {FFFFFF}<\n";
new GangsMenuStr[200] =
	"{FFFFFF}Информация о твоем клане\n"\
	"Управление кланом\n"\
	"Территории\n"\
	"Список кланов\n"\
	"Казна клана\n"\
	"{FF0000}Уйти из клана\n"\
	"Описание клановой системы\n";
new NoGangMenuStr[120] =
	"{FFFFFF}Список кланов\n"\
	"Создать клан\n"\
	"Принять приглашение\n"\
	"Описание клановой системы";
new BaseMenuLst[120] = 
	"{FFFFFF}ТП на базу\n"\
	"{FFFFFF}Создать базу\n"\
	"{FFFFFF}Сменить интерьер\n"\
	"{FFD700}Создать уникальную базу\n";
new BaseTplistMenu[470] =
	"{F8F8FF}Местность\t{FFD700}Title\n"\
	"{F8F8FF}Лос-Сантос\t{FFD700}Los-Santos\n"\
	"{A9A9A9}Сан-Фиерро\t{FFD700}San Fierro\n"\
	"{F8F8FF}Лас-Вентурас\t{FFD700}Las-Venturas\n"\
	"{A9A9A9}Маяк-Бейсайд\t{FFD700}Tierra Robada\n"\
	"{F8F8FF}Деревенская местность в ЛВ\t{FFD700}Bone Country\n"\
	"{A9A9A9}Деревенская местность в СФ\t{FFD700}Flint Country\n"\
	"{F8F8FF}Деревенская местность в ЛС\t{FFD700}Red Country\n"\
	"{A9A9A9}Город у горы\t{FFD700}Whetstone\n";
new DmMenuStr[350],
	TDmMenuLst[375],
	TrainingAreasLst[320],
	DmArenasMenuLst[340];
new CwMenu[270] =
	"{F8F8FF}Сменить команду\n"\
	"{A9A9A9}Сменить карту\n"\
	"{F8F8FF}Сменить оружие\n"\ 
	"{A9A9A9}Пригласить игрока\n"\
	"{F8F8FF}Начать раунд\n"\
	"{A9A9A9}Приостановить раунд\n"\
	"{F8F8FF}Завершить\n"\
	"{A9A9A9}Сбросить статистику раунда\n";
new TeamSelectLst[55] = "{32CD32}Attackers\n{2E4AD4}Defenders\n{FFFFFF}Referee\n";
new CwMapsList[220] =
	"{008000}Stadium\n"\
	"{A9A9A9}Lobbi\n"\
	"{F8F8FF}Delta\n"\
	"{A9A9A9}LV roof\n"\
	"{F8F8FF}SF ug\n"\
	"{800000}Hell portal\n"\
	"{A0522D}CS ext\n"\
	"{F4A460}Dry lake\n";
new DuelMapsList[270] =
	"Lobbi\n"\
	"Delta roof\n"\
	"LV roof\n"\
	"Stadium\n"\
	"SF box\n";
new DmExMenuLst[150] =
	"{F8F8FF}Восстановить бег\n"\
	"{FFFFFF}Список игроков на текущей зоне\n"\
	"{FF0000}Пожаловаться\n"\
	"{F8F8FF}Выйти с текущего дм\n";
new MingamesLst[150] = 
	"{DCDCDC}[>] Skyjump\n"\
	"{D2691E}[>] Stunt parks\n"\
	"{A9A9A9}Delivery list\n";
new AdminMenuStr[250] = 
	"{ffffff}Список администрации в сети\n"\
	"{A9A9A9}[>] VIP меню\n"\
	"[>] Допменю игрока\n"\
	"{A9A9A9}[>] TAB меню игрока\n"\
	"[>] Действия\n"\
	"{A9A9A9}[>] Управление сервером\n"\
	"[>] Добавить на сервер\n"\
	"{A9A9A9}[>] Информация\n";
new AdminSpecStr[550] = 
	"{A9A9A9}[>] Транспорт\n"\
	"{ffffff}[>] Выдать всем игрокам\n"\
	"{A9A9A9}[>] Оффлайн аккаунты\n"\
	"{DDA0DD}[>] Подарки\n"\
	"{6b6773}[>] Invis\n"\
	"{ffff00}Выйти из {FF0000}чит-мира либо тюрьмы\n"\
	"{ffff00}Заглянуть в {FF0000}чит мир\n"\
	"{DAA520}Сообщение в чат от имени администрации\n"\
	"{800000}Кикнуть всех неактивных игроков (освободить слоты)\n";
new AdminTakeAllStr[200] =
	"Дать оружие либо предмет всем игрокам\n"\
	"{44944A}Бонус 10.000$ всем игрокам\n"\
	"{FFDC33}Бонус 1k опыт всем игрокам\n"\
	"{FF4500}Поединок на гранатах\n"\
	"{FFFFFF}Пополнить {FF0000}ХП{FFFFFF} и Бронь всем";
new OfflineAccMenuLst[120] =
	"{A9A9A9}Просмотреть статистику игрока \n"\
	"{ffffff}Заглушить\n"\
	"{A9A9A9}Забанить\n"\
	"{ffffff}Разбанить\n";
new AdminSpawnMenuLst[330] = 
	"{ffffff}Spawn любого транспорта\n"\
	"{F0FFF0}Spawn военной техники в каждом городе\n"\
	"{F0FFF0}Spawn трамвая\n"\
	"{FFEBCD}Респавнить транспорт рядом с игроком\n"\
	"{FFEBCD}Удалить транспорт рядом с игроком\n"\
	"{FFEBCD}Очистить транспорт из загруженной области (радиус 300м)\n"\
	"{800000}Зареспавнить весь транспорт на сервере\n";
new AdminInfoTStr[370] = 
	"{33ff33}Статистика {ffffff}сервера\n"\
	"{ffcc00}Доп.{ffffff}Команды\n"\
	"{ffff00}Таблица IP {ffffff}всех игроков\n"\
	"{ffffff}Список игроков сидящих в {FF0000}тюрьме либо ЧМ\n"\
	"{ffffff}Список игроков в области стрима\n"\
	"{ffffff}Список {DCDCDC}неактивных игроков\n"\
	"{ffffff}Таблица {ff0000}наказаний\n"\
	"{ffffff}О наборе в администрацию\n";
new InfoMenuStr[280] = 
	"{ffffff}О сервере\n"\
	"{ffffff}Команды\n"\
	"{ffffff}FAQ\n"\
	"{ffffff}Горячие клавиши\n"\
	"{33ff33}Статистика\n"\
	"{ffffff}Нахождение игроков\n"\
	"{ffffff}Разыскиваемые игроки\n"\
	"{ffffff}Поиск игрока по нику\n";
new AdminTabStr[450] = 
	"{ffff00}[>] Обычное TAB меню\n"\
	"{ffffff}[>] Хелперка\n"\
	"{33ff33}[>] Доп.Статистика\n"\
	"{ffff00}[>] Выдать игроку\n"\
	"{ff0000}[>] Забрать у игрока\n"\
	"{fff000}[>] Управление аккаунтом\n"\
	"{ffff00}[>] Заглушка\n"\
	"{800000}[>] KICK/BAN\n"\
	"{006666}[>] Freeze/Kill\n"\
	"{ffff00}Выкинуть игрока из т/с и уничтожить т/с\n"\
	"{33ff00}Принудительно вывести из наблюдения\n"\
	"{FFF0F5}Принудительно синхронизировать игрока\n"\
	"{ff43a4}[>] Подколки";
new VipTabStr[370] =
	"{ffff00}Показать игроку правила\n"\
	"{33ff33}Доп.Статистика\n"\
	"{ffffff}Выдать предупреждение\n"\
	"{FFFF00}Заглушка\n"\
	"{ffffff}Проголосовать за кик (votekick+2)\n"\
	"{cc3300}Проверить на моды\n"\
	"{ffff00}Вытащить из {FF0000} чит-мира\n"\
	"{B22222}Разрешить снять GM\n"\
	"{ffff00}Подбросить игрока\n"\
	"{FFEBCD}Респавнить транспорт рядом с игроком\n"\
	"{FFFFFF}Телепорт к игроку\n"\
	"{FFFFFF}Телепорт игрока к себе\n";
new PlayerTabMenuStr[350] = 
	"{cc6600}Приветствовать\n"\
	"{ffff00}Отправить личное сообщение\n"\
	"{33ff00}Посмотреть статистику\n"\
	"{ffffff}Перевод средств\n"\
	"{ffffff}Установить награду за голову\n"\
	"{990000}Пожаловаться на игрока\n"\
	"{ffff00}Наблюдение\n"\
	"{48D1CC}Клановые действия\n";
new VipPlayerTabMenuStr[350] = 
	"{cc6600}Приветствовать\n"\
	"{ffff00}Отправить личное сообщение\n"\
	"{33ff00}Посмотреть статистику\n"\
	"{ffffff}Перевод средств\n"\
	"{ffffff}Установить награду за голову\n"\
	"{990000}Пожаловаться на игрока\n"\
	"{ffff00}Наблюдение\n"\
	"{48D1CC}Клановые действия\n"\
	"{FFD700}Хелперка\n";
new VipMenuStr[220] = 
	"{F8F8FF}Описание\n"\
	"{B22222}Админы в сети\n"\
	"{C71585}[>] Fun\n"\
	"{FFD700}RC-игрушки\n"\
	"{6495ED}Точка спавна\n"\
	"{FFD700}Jetpack\n";
new VipFunList[250] =
	"{34C924}Ночное видение\n"\
	"{9A366B}Тепловизор\n"\
	"{E32636}Сигнальный огонь\n"\
	"{FFD700}VIP пентхаус\n"\
	"{A9A9A9}Маска\n";
new FreezeList[100] =
	"{006666}Заморозить/Разморозить\n"\
	"{AA0000}Уничтожить игрока\n"\
	"{FFB841}Взорвать игрока\n";
new EoMenuLst[350] = 
	"{FFFFFF}Создать объект по номеру\n"\
	"{A9A9A9}[>] Выбрать объект из списка\n"\
	"[>] Редактировать объект\n"\
	"{A9A9A9}[>] Удалить объект\n"\
	"[>] Режим съемки\n"\
	"{A9A9A9}Прыгнуть вперед\n"\
	"Показать все скрытые объекты\n"\
	"{A9A9A9}О редакторе карт\n"\
	"{32CD32}Закончить редактирование\n";
new BarMenueLst[1200] = 
	"{006400} Цена $\t{FFFFFF}Напиток\t{CD853F}Описание\n"\
	"{006400} 5$\t{FFFFFF}Пиво\t{CD853F}Третий по популярности напиток в мире (после воды и чая)\n"\
	"{006400} 7$\t{FFFFFF}Водка\t{CD853F}На постсоветском пространстве употребляется в качестве самостоятельного напитка\n"\
	"{006400} 10$\t{FFFFFF}Самбука\t{CD853F}Итальянский дижестив с ароматом аниса.\n"\
	"{006400} 12$\t{FFFFFF}Текила\t{CD853F}Мексиканский национальный напиток\n"\
	"{006400} 15$\t{FFFFFF}Джин\t{CD853F}Обладает очень сухим гармоничным вкусом, резким характером, чётким привкусом можжевельника\n"\
	"{006400} 16$\t{FFFFFF}Коньяк\t{CD853F}В СССР коньяком назывался любой бренди, близкой к технологии производства настоящего коньяка\n"\
	"{006400} 20$\t{FFFFFF}Виски\t{CD853F}Дословно выражение переводится как «вода жизни»\n"\
	"{006400} 22$\t{FFFFFF}Саке\t{CD853F}Рисовое вино, один из традиционных японских алкогольных напитков\n"\
	"{006400} 25$\t{FFFFFF}Ром\t{CD853F}Врачи Королевского флота Британии рекомендовали ром морякам практически от всех болезней.\n"\
	"{006400} 27$\t{FFFFFF}Кумыс\t{CD853F}Кисломолочный напиток из кобыльего молока\n"\
	"{006400} 35$\t{FFFFFF}Абсент\t{CD853F}(Невыпиваемый) Крепкий алкогольный напиток, содержащий обычно около 70% (иногда 85%) алкоголя\n";
new NicknameColorMenuStr[60] = 
	"{FFFFFF}Выбрать цвет ника по ид\n"\
	"Предпросмотр цветов\n";
new settimestr[200] =
	"0:00\n1:00\n2:00\n3:00\n4:00\n5:00\n6:00\n7:00\n8:00\n9:00\n"\
	"10:00\n11:00\n12:00\n13:00\n14:00\n15:00\n16:00\n17:00\n18:00\n19:00\n"\
	"20:00\n21:00\n22:00\n23:00\n{ff9900}Вернуть стандартное\n";
new GiftsList[150] =
	"{B22222}Новогодний подарок\n"\
	"{FFFF00}Знак вопроса\n"\
	"{FF8C00}Пицца\n"\
	"{A9A9A9}Сумка\n"\
	"{FFFFFF}Торт\n";
new OfflineAccCtrl[120] = 
	"Оффлайн статистика игрока\n"\
	"Оффлайн заглушка\n"\
	"Оффлайн бан\n";
new ObjlistMenu[256] =
	"{FFFFFF}Объекты для дома\n"\
	"{FFFFFF}[>] SAMP объекты\n"\
	"{FFFFFF}[>] Природа\n"\
	"{FFFFFF}[>] Специальные\n"\
	"{FFFFFF}[>] Интерьер\n"\
	"{FFFFFF}[>] Экстерьер\n"\
	"{FFFFFF}Корзина\n";
new VehicleOptMenu[165] =
	"{A9A9A9}Сменить цвет авто (/cc)\n"\
	"Починить (/fix)\n"\
	"{A9A9A9}Поставить на колеса (/п)\n"\
	"Выкинуть пассажиров из машины (/eject)\n"\
	"{A9A9A9}[>] Тюнинг\n"\
	"[>] Специальные действия\n";
new TuneStr[250] = 
	"Установить гидравлику\n"\
	"{A9A9A9}[>] Диски\n"\
	"[>] Покрасочные работы\n"\
	"{A9A9A9}[>] Неон\n"\
	"Бронирование\n"\
	"{A9A9A9}[>] Стайлинг\n"\
	"[>] Тп в мастерскую\n";
new StylingList[200] =
	"{4682B4}Обвес Wheel Arc. Alien\n"\
	"{FF4500}Обвес Wheel Arc. X-Flow\n"\
	"{E6E6FA}[>] Спойлеры Transfender\n"\
	"{B22222}Снять капот\n"\
	"{B22222}Снять багажник\n";
new VehSpecStr[350] = 
	"{7CFC00}[Откр-закр]{A9A9A9} Капот\n"\
	"{7CFC00}[Откр-закр]{A9A9A9} Багажник\n"\
	"{7CFC00}[Вкл-откл]{A9A9A9} Фары\n"\
	"{7CFC00}[Пробить]{A9A9A9} все 4 колеса\n"\
	"{7CFC00}[Пробить]{A9A9A9} задние 2 колеса\n"\
	"{A9A9A9}Установить миниган на капот\n"\
	"{A9A9A9}Установить мощный движок\n"\
	"{B22222}Удалить установленные детали\n";
new AdmCreateLst[280] =
	"[>] Редактор карт\n"\
	"{A9A9A9}[>] Создать 3D текст\n"\
	"[>] Создать Mapicon\n"\
	"{A9A9A9}[>] Создать Pickup\n"\
	"[>] Создать Attach к игроку\n"\
	"{A9A9A9}[>] Создать Актера\n"\
	"[>] Создать Text label\n"\
	"{A9A9A9}[>] Работа с координатами\n"\
	"Вывести список пикапов в области стрима\n"\
	"{FF0000}Удалить временные файлы\n";
new EoMainLst[240] = 
	"{FFFFFF}Положение\n"\
	"Копировать объект\n"\
	"Заменить модель\n"\
	"Выровнять объект по координатам\n"\
	"Повернуть объект по градусам\n"\
	"Перекрасить объект\n"\
	"Удалить объект\n"\
	"Скрыть объект\n"\
	"Информация об объекте\n"\
	"{FF0000}[>] RCON ф-ции\n";
new Rotatelist[200] =
	"{FFFFFF}Повернуть на 90 градусов\n"\
	"Повернуть на 180 градусов\n"\
	"Повернуть на 270 градусов\n"\
	"Повернуть на 360 градусов";
new Rconeditlst[150] =
	"Виртуальный мир\n"\
	"Интерьер\n"\
	"Расстояние видимости\n"\
	"Экспорт в текстовый файл\n";
new PickupMenuLst[240] =
	"{FFFFFF}Создать pickup по ID\n"\
	"{A9A9A9}Создать pickup оружия\n"\
	"{AFDAFC}Создать pickup брони\n"\
	"{FF0000}Создать pickup пополнения здоровья\n"\
	"{191970}Создать pickup jetpack\n"\
	"{A9A9A9}Создать pickup входа в интерьер\n";
new RadioStLst[230] = "{FFFFFF}Выключить\nCnR Radio\nShanson\nRadio Record\nСry FM\nRAP.FM\nROCK.FM\nP181. FM\nP181. Reggae\n";
new BankMenuLst[110] = "{FFFFFF}Положить все деньги в банк\nПоложить сумму в банк\nСнять деньги со счета";
new ShopObjList[110] = "{ffffff}Шляпы\nОчки\nМаски\nВзять в руки\n{ffff00}Удалить все объекты с игрока";
new VipInfoMenuStr[1500] = 
	"{FFFFFF}Как получить {ffcc00}VIP{FFFFFF}\n"\
	"{FFFFFF}В отличиии от других проектов где VIP покупают, на данном проекте выдача производится ст.администрацией\n"\
	"{FFFFFF}и выдается скриптерам, мапперам, активным игрокам за вклад в развитие сервера.\n"\
	"{ffffff}\nВозможности {ffff00}VIP{ffffff} игроков:\n"\
	"{ffffff}Выдать предупреждение игроку в случае нарушения правил(после 3-х предупреждений посадит системой на 15 минут)\n"\
	"{ffffff}Выпустить игрока из чит-мира (только если закинуло ошибочно системой)\n"\
	"{ffffff}Проверить игрока на моды\n"\
	"{ffffff}Посмотреть доп.статистику игрока (ip и геолокация недоступны)\n"\
	"{ffffff}Игрок получает в 2 раза больше опыта, броня при респауне и 2 гранаты\n"\
	"{ffffff}При незначительных нарушениях снижено время заключения\n"\
	"{ffffff}Телепортироваться к игроку после подтверждения {ffcc00}/go{ffffff}\n"\
	"{ffffff}Появляется предупреждение если кто-то ушел в наблюдение за VIP(исключение админы)\n"\
	"{ffffff}Автокик при большом кол-ве жалоб не применяется к VIP(votekick)\n"\
	"{ffffff}Взять джетпак {ffcc00}/jetpack{ffffff} (кроме дм зон)\n"\
	"{ffffff}Прыгнуть вперед {ffcc00}/jump, /bigjump{ffffff} или уйти под текстуры {ffcc00}/failunder{ffffff}(кроме дм зон)\n"\
	"{ffffff}Заказать RC-игрушки {ffcc00}/rc{ffffff} \n"\
	"{ffffff}Посетить клуб {ffcc00}/club{ffffff}\n"\
	"{ffffff}Очистить себе чат командой {ffcc00}/clearchat{ffffff}(только себе не для всех)\n"\
	"{ffffff}Бронировать свой автомобиль в меню транспорта\n"\
	"{ffffff}* Открыть випменю {ffcc00}/vip{ffffff}\n"\
	"{ffffff}Новые ф-ции сервера сперва появляются для VIP!\n";
new BaseAddInf[600] =
	"{FFFFFF}Вы можете сделать уникальную клан базу для вашего клана\n"\
	"{FFFFFF}Маппинг базы должен быть отвечавть следующим требованиям: \n"\
	"{FFFFFF}- не более 100 объектов\n"\
	"{FFFFFF}- не должен содержать военной или запрещенной техники\n"\
	"{FFFFFF}- не должен перекрывать дороги, быть рядом с точкой спавна, рядом с базой другово клана\n"\
	"{FFFFFF}- объекты не должны рябить\n"\
	"{FFFFFF}- база должна вписываться в выбранное место и не занимать более 100x100\n"\
	"{FF0000}Маппинг не отвечающий данным требованиям не будет добавлен а отправлен в корзину!\n"\
	"\n Заказать добавление клан базы?.\n";
new HotkeysMenuStr[830] =
	"{ff6633}F7{ffffff} - Скрыть радар, текстдравы и статистику игрока с экрана\n"\
	"{ff6633}F8{ffffff} - Скриншот\n"\
	"{ff6633}F9{ffffff} - Откл-вкл киллчат\n"\
	"{ff6633}C + ALT{ffffff} - Выбросить оружие на землю\n"\
	"{ff6633}Num 4{ffffff} - Синхронизация(быстрое восстановление бега)\n"\
	"{ff6633}Num 6{ffffff} - Закрыть либо открыть транспорт\n"\
	"{ff6633}H{ffffff} - Справить нужду (anim piss)\n"\
	"{ff6633}ЛКМ(RMB){ffffff} - Покупка оружия (нужно стоять на пикапе оружия)\n"\
	"{ff6633}ALT{ffffff} - Прервать наблюдение за игроком(работает только в спеке)\n"\
	"{ffffff}\nВ транспорте:\n"\
	"{ff6633}H или CAPSLOCK{ffffff} - Поставить машину на колеса\n"\
	"{ff6633}2, NUM2{ffffff}- Автотюнинг и смена цвета\n"\
	"{ff6633}ALT, ЛКМ{ffffff} - Нитро на всех машинах\n"\
	"{ff6633}N{ffffff} - Меню тюнинга\n"\
	"{FAE7B5}*Расшифровка ЛКМ- левая кнопка мыши\n";
new ShopMenuLst[850] = "{FFFF00}Price\tItem\t{FFFF00}Description\n"\
	"{006400} 500$\t{FFFFFF}Аптечка\t{CD853F}Позволяет быстро пополнить {FF0000}20 хп{CD853F} в бою\n"\
	"{006400} 100$\t{FFFFFF}Балончик с краской\t{CD853F}Скрасит серые будни\n"\
	"{006400} 500$\t{FFFFFF}Огнетушитель\t{CD853F}Лучшее средство для тушения горящих игроков\n"\
	"{006400} 500$\t{FFFFFF}Трость\t{CD853F}Для олдов\n"\
	"{006400} 500$\t{FFFFFF}Клюшка\t{CD853F}Для гольфа\n"\
	"{006400} 50$\t{FFFFFF}Лопата\t{CD853F}Поможет скрыть улики\n"\
	"{006400} 500$\t{FFFFFF}Катана\t{CD853F}Для истинных самураев\n"\
	"{006400} 100$\t{FFFFFF}Кий\t{CD853F}Любителям бильярда\n"\
	"{006400} 2$\t{FFFFFF}Цветы\t{CD853F}Почти даром\n"\
	"{006400} 0$\t{FFFFFF}Фотоаппарат\t{CD853F}Фотосъемка бесплатно\n";
new CustomLocList[450] =
	"{AFEEEE}Frozen lake\n"\
	"{AFEEEE}Snow cave\n"\
	"{AFEEEE}Small snow camp\n"\
	"{DC143C}NY Toys Shop\n"\
	"{DAA520}Pirate\n"\
	"{DC143C}NY 2019\n"\
	"{006400}Arena ZVHR clan\n"\
	"{800000}Outlast\n"\
	"{FFD700}SturmStaffel\n"\
	"{FFFFFF}Carm SF\n";
new DuelWeapSetMenu[180] = "{ffffff}set\t{ffff00}weapons\n"\
	"Lamo Set\t{ffff00}colt45 + sawnoff + tec9\n"\
	"Pro Set\t{ffff00}deagle + shotgun\n"\
	"Sniper Set\t{ffff00}knife + sniper rifle\n";
new GangWeapSetList[180] = "{ffffff}set\t{ffff00}weapons\n"\
	"Lamo Set\t{ffff00}colt45 + sawnoff + tec9\n"\
	"Pro Set\t{ffff00}deagle + shotgun + sniper rifle\n"\
	"Default Set \t{ffff00}default weapons\n";
new SpawnPlaceList[100] = 
	"{ffffff}В текущей точке\n"\
	"Случайно\n";
new Mapcontrollist[450] = 
	"{FFFFFF}Обновить маппинг из FS {FFD700}(/rebuild)\n"\
	"{FF0000}Выгрузить маппинг\n"\
	"{FFFFFF}Загрузить маппинг\n"\
	"{F0E68C}Загрузить редактор TDE (Text Draw Editor)\n"\
	"{F0E68C}Выгрузить редактор TDE\n"\
	"{4169E1}Загрузить редактор Vae (Vehicle Attach Objects Editor)\n"\
	"{4169E1}Выгрузить редактор Vae\n"\
	"{D2691E}Загрузить редактор UC (Ultimate Creator by Nexius)\n"\
	"{D2691E}Выгрузить редактор UC (Ultimate Creator by Nexius)\n"\
	"{FF0000}Очистить базу маппинга игороков\n";
new MapSelectlist[250] = 
	"{FFFFFF}Установить след.карту dmrand\n"\
	"Установить след.карту dmchainsaw\n"\
	"Установить след.карту dmdeagle\n"\
	"Установить след.карту dmsniper\n"\
	"Установить след.карту tdmsniper\n"\
	"Установить след.карту tdmsawn\n";
new MaterialsLst[100] =
	"{FFFFFF}Выбрать текстуру\n"\
	"Выбрать текстуру по номеру\n"\
	"Сменить слот материала\n";
new ActorsMenuLst[220] =
	"{FFFFFF}Создать актера и указать скин\n"\
	"Назначить анимацию\n"\
	"Сделать актера бессмертным\n"\
	"Сделать актера смертным\n"\
	"{FF0000}Удалить актера\n"\
	"{FFFFFF}[>] Создать массовку\n";
new ActorsMassMenuLst[160] =
	"{FFFFFF}Создать массовку\n"\
	"Кол-во актеров\n"\
	"Назначить анимации\n"\
	"Расположение массовки\n"\
	"Тематическая постановка\n"\
	"{FF0000}Распустить массовку\n";
new GangRangsList[200] =
	"{FFFFFF}Понизить до новичка\n"\
	"Назначить воином\n"\
	"Перевести в основной состав\n"\
	"Сделать заместителем\n"\
	"Передать лидерство\n";
new AnimList[280]=
	"{FFFFFF}1. Поприветствовать\n"\
	"2. Лежать\n"\
	"3. Сесть\n"\
	"4. Раздумье\n"\
	"5. Танец\n"\
	"6. Cложить руки\n"\
	"7. Facepalm\n"\
	"8. Смотреть по сторонам\n"\
	"9. Позвать\n"\
	"10. Спать\n"\
	"11. Присесть\n"\
	"12. Отказаться\n"\
	"13. Fuck you!\n"\
	"14. Медитировать\n"\
	"15. Буээ\n"\
	"16. Шлепнуть\n"\
	"17. Go-go-go\n"\
	"18. Облокотиться\n";
new Vehslist[190] =
	"Airplanes\n"\
	"Helicopters\n"\
	"Bikes\n"\
	"Industrial\n"\
	"Lowriders\n"\
	"Off-Road\n"\
	"Public Service\n"\
	"Saloons\n"\
	"Sports Vehicles\n"\
	"Boats\n"\
	"Unique Vehicles";

Float:GetDistanceBetweenPlayers(p1, p2)
{
	new
		Float:x1,
		Float:y1,
		Float:z1,
		Float:x2,
		Float:y2,
		Float:z2;

	if(!IsPlayerConnected(p1) || !IsPlayerConnected(p2))
		return -1.00;

	GetPlayerPos(p1,x1,y1,z1);
	GetPlayerPos(p2,x2,y2,z2);

	return floatsqroot(
		floatpower(floatabs(floatsub(x2,x1)), 2)
		+ floatpower(floatabs(floatsub(y2,y1)), 2)
		+ floatpower(floatabs(floatsub(z2,z1)), 2));
}

public OnGameModeInit()
{
	SetGameModeText("Freeroam/DM/TDM/FUN");
	ServerRun = gettime();
	// db init
	if(!fexist("base/objects.db")){
		EDITOR_DATABASE = db_open("base/objects.db");
		db_query(EDITOR_DATABASE,"CREATE TABLE OBJECTS(ID int, MODEL int, X float, Y float, Z float, RX float, RY float, RZ float, VW int, INT int, DISTANCE float)");
    }
    else EDITOR_DATABASE = db_open("base/objects.db");
	// Load mapping from file
	DB_LoadObjects();
	// Streamer config
	#undef STREAMER_OBJECT_SD
	#define STREAMER_OBJECT_SD 550.0
	#undef STREAMER_OBJECT_DD
	#define STREAMER_OBJECT_DD 550.0
	// use if there are many objects in the interiors and they don’t hope to load
	Streamer_SetVisibleItems(STREAMER_TYPE_OBJECT, 1000, -1); //Sets the current visible item amount 1000 objects (default 500)
	// Set global Weather and wolrdtime
	SetWeather(15);
	SetWorldTime(2);
	AntiDeAMX();
	GangLoad();
	// Init skins and respawn ammo
	for (new i=3;i<299;i++)
	{
		//AddPlayerClass(i, 2155.8621, 1015.6236, 10.8203, 87.4831, 24, 400, 25, 50, 31, 250); 
		AddPlayerClass(i, 2155.8621, 1015.6236, 10.8203, 87.4831, 0, 1, 0, 1, 1, 1); 
	}
	SF_CityTrash = CreateDynamicCP(-916.672302, -500.956115, 26.937171, 5, 0, -1);
	// Dynamic Pickups
	ArmourAmmoPickup = CreateDynamicPickup(1242, 2, 295.7674,-84.1740,1001.5156, 0, -1, -1, 250, -1, 0); // Ammo-nation armour in interior
	VipArmourPickup1 = CreateDynamicPickup(1242, 1, 2574.56, -1286.33, 1060.98, 0, -1, -1, 250, -1, 0); // Vip interior armour and health
	// Girls on bars
	girl1 = CreateDynamicActor(90, 1221.376831, 8.637903, 1001.335632, 90, 1, 100.0, 0, 2, -1);
	girl2 = CreateDynamicActor(152,1214.021606, -4.211536, 1001.328125, 0, 1, 100.0, 0, 2, -1);
	girl3 = CreateDynamicActor(237, 1208.011962, -6.807065, 1001.328125, 0, 1, 100.0, 0, 2, -1);
	girl4 = CreateDynamicActor(214, 1201.552124, 11.452122, 1000.921875, 180, 1, 100.0, 0, 2, -1);
	girl5 = CreateDynamicActor(246, 1223.167724, -10.725140, 1001.328125, 180, 1, 100.0, 0, 2, -1);
	girl6 = CreateDynamicActor(178, 1223.442138, -2.808023, 1001.328125, 0, 1, 100.0, 0, 2, -1);
	girl7 = CreateDynamicActor(211, 498.279815, -77.574829, 998.765075, 0, 1, 100.0, 0, 11, -1); //barmen
	//jizzy
	girl10 = CreateDynamicActor(178, -2673.124755, 1410.285034, 907.570312, 270, 1, 100.0, 0, 3, -1);
	girl11 = CreateDynamicActor(237,-2678.162353, 1404.147583, 907.570312, 270, 1, 100.0, 0, 3, -1);
	girl12 = CreateDynamicActor(237, -2677.810302, 1416.486328, 907.562805, 270, 1, 100.0, 0, 3, -1);
	girl13 = CreateDynamicActor(152, -2671.318115, 1427.956665, 907.360412, 270, 1, 100.0, 0, 3, -1);
	girl14 = CreateDynamicActor(246, -2660.829589, 1427.834472, 907.360412, 0, 1, 100.0, 0, 3, -1);
	girl15 = CreateDynamicActor(178, -2654.513427, 1426.862060, 907.360351, 0, 1, 100.0, 0, 3, -1);
	girl16 = CreateDynamicActor(145, -2678.415039, 1410.618774, 907.570312, 0, 1, 100.0, 0, 3, -1);
	girl17 = CreateDynamicActor(216, -2654.552246, 1410.275024, 907.388610, 0, 1, 100.0, 0, 3, -1);
	girl18 = CreateDynamicActor(224, -2660.869628, 1423.237304, 912.411437, 180, 1, 100.0, 0, 3, -1);
	girl19 = CreateDynamicActor(140, -2663.340087, 1405.917602, 907.388610, 180, 1, 100.0, 0, 3, -1);
	girl20 = CreateDynamicActor(263, -2667.083251, 1399.985229, 912.406250, 0, 1, 100.0, 0, 3, -1);
	//ApplyDynamicActorAnimation(actorid, animlib[], animname[], Float:fdelta, loop, lockx, locky, freeze, time) 
	ApplyDynamicActorAnimation(girl1, "STRIP","strip_D", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl2, "STRIP","STR_A2B", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl3, "STRIP", "STR_Loop_A", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl4, "STRIP", "strip_G", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl5, "STRIP", "strip_C", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl6, "STRIP", "strip_C", 4.1, 1, 1, 1, 1 ,1);
	ApplyDynamicActorAnimation(girl7, "BAR", "Barserve_loop", 4.1, 1, 1, 1, 1 ,1);
	
	ApplyDynamicActorAnimation(girl10, "STRIP","STR_A2B", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl11, "STRIP","STR_C1", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl12, "STRIP", "STR_C2", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl13, "STRIP", "strip_A", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl14, "STRIP", "strip_B", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl15, "STRIP", "strip_C", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl16, "STRIP", "STR_B2C", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl17, "STRIP", "strip_G", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl18, "STRIP", "strip_F", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl19, "STRIP", "strip_D", 4.1, 1, 1, 1, 1 ,9);
	ApplyDynamicActorAnimation(girl20, "STRIP", "strip_D", 4.1, 1, 1, 1, 1 ,9);
	// Armour pickups LV
	CreateDynamicPickup(1242, 2, 1958.6893, 711.2092, 18.3140, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2362.4268,1005.2446,14.2725, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 2097.6819,2491.9795,14.8390, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 1423.1229,2641.2349,11.3926, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 1680.1334,1447.4886,14.9148, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 1623.8242,607.2290,7.7813, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 1487.1320,2773.8616,10.8203, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 2456.4338,1286.8278,10.8203, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 1091.5046,2093.4561,15.3504, 0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 2629.0955,1823.6030,11.0161, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2160.7744,1645.6436,11.0925,0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2787.0222,2535.3171,10.8203,0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1997.6655,2191.9739,10.8203,0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1306.8239,1252.6927,10.8203,0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1308.4121,2084.7930,10.8203,0, 0, -1, 250, -1, 0); 
	CreateDynamicPickup(1242, 2, 2843.8303,1288.6624,11.3906,0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1514.72, 2522.49, 55.83, 0, 0, -1, 250, -1, 0);//lv2
	// Armour pickups LS
	CreateDynamicPickup(1242, 2, 2490.56, -1692.21, 14.76, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2263.59, -1432.39, 23.54, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2606.53, -1125.11, 65.80, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2025.34, -1406.60, 16.73, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1766.27, -1913.06, 13.10, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1578.79, -1636.24, 13.09, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 723.48, -1484.49, 1.96, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 161.71, -1749.95, 6.79, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1108.25, -1787.27, 16.59, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 2778.24, -2450.24, 13.63, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1178.74, -1323.63, 14.13, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, 1892.89, -2258.50, 13.53, 0, 0, -1, 250, -1, 0);
	// Armour pickups SF
	CreateDynamicPickup(1242, 2, -1976.10, 154.33, 27.69, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1952.31, 689.95, 46.56, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1615.73, 685.68, 7.18, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1652.70, 1206.62, 21.14, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2638.87, 1411.10, 23.55, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2655.80, 1443.54, 6.75, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2653.05, 636.59, 14.11, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2665.71, -5.29, 10.99, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2763.01, -408.90, 6.80, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2080.50, -405.23, 38.73, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1704.34, 3.07, 3.21, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1315.28, 494.18, 17.89, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -1754.84, 960.06, 24.54, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2039.12, 1105.10, 52.94, 0, 0, -1, 250, -1, 0);
	// etc ammo and health
	CreateDynamicPickup(1242, 2, -691.24, 935.54, 13.63, 0, 0, -1, 250, -1, 0);//rancho
	CreateDynamicPickup(1240, 2, -684.90, 939.45, 13.63, 0, 0, -1, 250, -1, 0);
	// country
	CreateDynamicPickup(1242, 2, -304.18, 1043.26, 26.01, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -863.60, 1536.78, 25.73, 0, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1242, 2, -2284.25, 2288.00, 9.16, 0, 0, -1, 250, -1, 0);
	// survival
	CreateDynamicPickup(1240, 3, -293.10, -2358.06, 589.29, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1240, 3, -294.77, -2310.31, 588.54, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -286.46, -2240.24, 588.94, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -339.93, -2199.23, 589.20, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -433.73, -2187.17, 589.39, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -512.02, -2238.81, 588.79, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -532.98, -2335.61, 589.74, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -469.13, -2418.79, 588.88, 10, 0, -1, 250, -1, 0);
	CreateDynamicPickup(1240, 3, -314.11, -2440.93, 589.24, 10, 0, -1, 250, -1, 0);
	
	CreateDynamicPickup(349, 3, -474.11, -2372.86, 589.29, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -411.29, -2366.13, 588.22, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(342, 3, -367.33, -2408.24, 590.66, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -288.69, -2444.77, 589.30, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(351, 3, -282.62, -2380.26, 589.69, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(348, 3, -287.37, -2342.37, 588.91, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(355, 3, -341.22, -2349.21, 590.55, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -306.88, -2272.67, 589.60, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -310.84, -2187.08, 589.31, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(351, 3, -368.59, -2184.43, 589.43, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(348, 3, -378.43, -2229.81, 589.47, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(342, 3, -453.33, -2232.95, 588.46, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -503.87, -2196.10, 589.15, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(353, 3, -526.93, -2267.21, 589.56, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(355, 3, -497.33, -2272.14, 592.65, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(351, 3, -501.52, -2334.49, 590.20, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(356, 3, -541.77, -2405.12, 590.47, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(351, 3, -472.06, -2445.06, 589.55, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(372, 3, -431.79, -2426.03, 589.49, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(372, 3, -330.60, -2284.59, 588.94, 10, 0, -1, 300, -1, 0);
	CreateDynamicPickup(372, 3, -473.68, -2309.08, 588.36, 10, 0, -1, 300, -1, 0);
	
	BulletsPack1 = CreateDynamicPickup(2358, 3, -355.25, -2178.53, 589.38, 10, 0, -1, 300, -1, 0);
	BulletsPack2 = CreateDynamicPickup(2358, 3, -405.82, -2189.43, 588.18, 10, 0, -1, 300, -1, 0);
	BulletsPack3 = CreateDynamicPickup(2358, 3, -494.53, -2167.65, 589.49, 10, 0, -1, 300, -1, 0);
	BulletsPack4 = CreateDynamicPickup(2358, 3, -546.22, -2217.22, 590.18, 10, 0, -1, 300, -1, 0);
	BulletsPack5 = CreateDynamicPickup(2358, 3, -522.24, -2293.09, 589.16, 10, 0, -1, 300, -1, 0);
	BulletsPack6 = CreateDynamicPickup(2358, 3, -545.69, -2361.55, 589.47, 10, 0, -1, 300, -1, 0);
	BulletsPack7 = CreateDynamicPickup(2358, 3, -503.01, -2385.97, 589.26, 10, 0, -1, 300, -1, 0);
	BulletsPack8 = CreateDynamicPickup(2358, 3, -491.41, -2451.46, 589.12, 10, 0, -1, 300, -1, 0);
	BulletsPack9 = CreateDynamicPickup(2358, 3, -405.42, -2452.68, 588.60, 10, 0, -1, 300, -1, 0);
	BulletsPack10 = CreateDynamicPickup(2358, 3, -346.08, -2413.20, 590.23, 10, 0, -1, 300, -1, 0);
	BulletsPack11 = CreateDynamicPickup(2358, 3, -293.76, -2294.26, 589.18, 10, 0, -1, 300, -1, 0);
	BulletsPack12 = CreateDynamicPickup(2358, 3, -283.47, -2184.33, 589.29, 10, 0, -1, 300, -1, 0);
	// pickups interiors
	AmmoVipPickupIn = CreateDynamicPickup(19130, 23, 301.74, -77.01, 1001.51, 0, 4, -1, 250, -1, 0);
	AmmoVipPickupOut = CreateDynamicPickup(19130, 23, 301.53, -74.79, 1001.51, 0, 4, -1, 250, -1, 0);
	AmmoPickupIn = CreateDynamicPickup(19130, 23, 2159.4575, 943.1858, 10.4384,0, 0, -1, 300, -1, 0);//lv
	Ammo2PickupIn = CreateDynamicPickup(19130, 23, 2538.4849,2083.9106,10.8203,0, 0, -1, 300, -1, 0);//lv
	Ammo3PickupIn = CreateDynamicPickup(19130, 23, 777.6869,1871.5084,4.9073,0, 0, -1, 300, -1, 0);//lv
	Ammo4PickupIn = CreateDynamicPickup(19130, 23, -315.4992,829.9346,14.2422,0, 0, -1, 300, -1, 0);//lv
	Ammo5PickupIn = CreateDynamicPickup(19130, 2, 1368.08, -1279.71, 13.54, 0, 0, -1, 250, -1, 0);//ls
	Ammo6PickupIn = CreateDynamicPickup(19130, 2, 2400.49, -1981.23, 13.54, 0, 0, -1, 250, -1, 0);//ls
	Ammo7PickupIn = CreateDynamicPickup(19130, 2, 386.42, -1817.87, 7.84, 0, 0, -1, 250, -1, 0);//ls
	Ammo8PickupIn = CreateDynamicPickup(19130, 2, -2626.68, 208.50, 4.59, 0, 0, -1, 250, -1, 0);//sf
	Ammo9PickupIn = CreateDynamicPickup(19130, 2, -2490.47, -16.93, 25.61, 0, 0, -1, 250, -1, 0);//sf
	Ammo10PickupIn = CreateDynamicPickup(19130, 2, -1881.60, 823.43, 35.17, 0, 0, -1, 250, -1, 0);//sf
	Ammo11PickupIn = CreateDynamicPickup(19130, 2, -2093.25, -2464.47, 30.62, 0, 0, -1, 250, -1, 0);//gyg
	Ammo12PickupIn = CreateDynamicPickup(19130, 2, 242.37, -178.34, 1.57, 0, 0, -1, 250, -1, 0);//ls1
	Ammo13PickupIn = CreateDynamicPickup(19130, 2, -1508.78, 2610.10, 55.83, 0, 0, -1, 250, -1, 0);//lv2
	AmmoPickupOut = CreateDynamicPickup(19130, 23, 285.7778, -86.8943, 1001.5348, -1, -1, -1, 300, -1, 0);
	UrbanShopIn = CreateDynamicPickup(19130, 23, 2572.06, 1904.63, 11.02, 0, 0, -1, 300, -1, 0);
	UrbanShopIn2 = CreateDynamicPickup(19130, 23, 2779.35, 2453.49, 11.06, 0, 0, -1, 300, -1, 0);
	UrbanShopIn3 = CreateDynamicPickup(19130, 23, 2090.63, 2224.19, 11.02, 0, 0, -1, 300, -1, 0);
	UrbanShopIn4 = CreateDynamicPickup(19130, 2, 500.23, -1359.48, 16.26, 0, 0, -1, 250, -1, 0);
	UrbanShopIn5 = CreateDynamicPickup(19130, 2, 2112.94, -1212.70, 23.96, 0, 0, -1, 250, -1, 0);
	UrbanShopIn6 = CreateDynamicPickup(19130, 2, -2490.70, -28.97, 25.61, 0, 0, -1, 250, -1, 0);
	UrbanShopIn7 = CreateDynamicPickup(19130, 2, -1695.12, 949.96, 24.89, 0, 0, -1, 250, -1, 0);
	UrbanShopOut = CreateDynamicPickup(19130, 23, 203.74, -50.10, 1001.80, 0, 1, -1, 300, -1, 0);
	Shop24In1 = CreateDynamicPickup(19130, 2, 2546.50, 1972.16, 10.82, 0, 0, -1, 250, -1, 0);
	Shop24In2 = CreateDynamicPickup(19130, 2, 2637.40, 1128.94, 11.17, 0, 0, -1, 250, -1, 0);
	Shop24In3 = CreateDynamicPickup(19130, 2, 2616.00, 1655.77, 11.02, 0, 0, -1, 250, -1, 0);
	Shop24In4 = CreateDynamicPickup(19130, 2, 2097.75, 2224.24, 11.02, 0, 0, -1, 250, -1, 0);
	Shop24In5 = CreateDynamicPickup(19130, 2, 1937.10, 2307.12, 10.82, 0, 0, -1, 250, -1, 0);
	Shop24In6 = CreateDynamicPickup(19130, 2, 1600.12, 2221.17, 11.06, 0, 0, -1, 250, -1, 0);
	Shop24In7 = CreateDynamicPickup(19130, 2, 1429.21, 2620.32, 11.39, 0, 0, -1, 250, -1, 0);
	Shop24In8 = CreateDynamicPickup(19130, 2, 2150.88, 2734.53, 11.17, 0, 0, -1, 250, -1, 0);
	Shop24In9 = CreateDynamicPickup(19130, 2, 2247.63, 2396.80, 10.82, 0, 0, -1, 250, -1, 0);
	Shop24In10 = CreateDynamicPickup(19130, 2, 1319.16, 1250.06, 10.82, 0, 0, -1, 250, -1, 0);//lv last
	Shop24In11 = CreateDynamicPickup(19130, 2, 662.71, 1716.76, 7.18, 0, 0, -1, 250, -1, 0);// lv country
	Shop24In12 = CreateDynamicPickup(19130, 2, -203.74, 1183.40, 19.74, 0, 0, -1, 250, -1, 0);
	Shop24In13 = CreateDynamicPickup(19130, 2, -329.63, 1536.51, 76.61, 0, 0, -1, 250, -1, 0);
	Shop24In14 = CreateDynamicPickup(19130, 2, -552.93, 2593.89, 53.93, 0, 0, -1, 250, -1, 0);
	Shop24In15 = CreateDynamicPickup(19130, 2, -254.51, 2603.27, 62.85, 0, 0, -1, 250, -1, 0);
	Shop24In16 = CreateDynamicPickup(19130, 2, -1271.64, 2713.05, 50.26, 0, 0, -1, 250, -1, 0);
	Shop24In17 = CreateDynamicPickup(19130, 2, -1465.75, 1873.12, 32.63, 0, 0, -1, 250, -1, 0);
	Shop24In18 = CreateDynamicPickup(19130, 2, -746.07, 1590.04, 26.97, 0, 0, -1, 250, -1, 0);
	Shop24In19 = CreateDynamicPickup(19130, 2, -2537.52, 2319.56, 4.98, 0, 0, -1, 250, -1, 0);// lv country last
	Shop24In20 = CreateDynamicPickup(19130, 2, -2430.81, -183.00, 35.32, 0, 0, -1, 250, -1, 0);// sf 
	Shop24In21 = CreateDynamicPickup(19130, 2, -2442.53, 754.28, 35.17, 0, 0, -1, 250, -1, 0);
	Shop24In22 = CreateDynamicPickup(19130, 2, -2767.31, 788.76, 52.78, 0, 0, -1, 250, -1, 0);
	Shop24In23 = CreateDynamicPickup(19130, 2, -1810.05, 902.74, 24.89, 0, 0, -1, 250, -1, 0);
	Shop24In24 = CreateDynamicPickup(19130, 2, -1675.84, 431.95, 7.17, 0, 0, -1, 250, -1, 0);
	Shop24In25 = CreateDynamicPickup(19130, 2, -79.28, -1169.76, 2.15, 0, 0, -1, 250, -1, 0);
	Shop24In26 = CreateDynamicPickup(19130, 2, 32.31, -2658.23, 40.52, 0, 0, -1, 250, -1, 0);
	Shop24In27 = CreateDynamicPickup(19130, 2, -1567.55, -2729.78, 48.74, 0, 0, -1, 250, -1, 0);
	Shop24In28 = CreateDynamicPickup(19130, 2, -2104.14, -2432.54, 30.62, 0, 0, -1, 250, -1, 0); // sf last
	Shop24In29 = CreateDynamicPickup(19130, 2, 332.48, -1338.07, 14.50, 0, 0, -1, 250, -1, 0);// ls
	Shop24In30 = CreateDynamicPickup(19130, 2, 876.12, -1565.62, 13.50, 0, 0, -1, 250, -1, 0);
	Shop24In31 = CreateDynamicPickup(19130, 2, 1352.07, -1758.62, 13.50, 0, 0, -1, 250, -1, 0);
	Shop24In32 = CreateDynamicPickup(19130, 2, 1833.11, -1842.67, 13.57, 0, 0, -1, 250, -1, 0);
	Shop24In33 = CreateDynamicPickup(19130, 2, 994.59, -1296.53, 13.54, 0, 0, -1, 250, -1, 0);
	Shop24In34 = CreateDynamicPickup(19130, 2, 1000.07, -920.20, 42.32, 0, 0, -1, 250, -1, 0);
	Shop24In35 = CreateDynamicPickup(19130, 2, 1315.39, -898.84, 39.57, 0, 0, -1, 250, -1, 0);
	Shop24In36 = CreateDynamicPickup(19130, 2, 2139.96, -1176.86, 23.99, 0, 0, -1, 250, -1, 0);
	Shop24In37 = CreateDynamicPickup(19130, 2, 2353.44, -1532.95, 24.00, 0, 0, -1, 250, -1, 0);
	Shop24In38 = CreateDynamicPickup(19130, 2, 2708.81, -1498.81, 30.58, 0, 0, -1, 250, -1, 0);
	Shop24In39 = CreateDynamicPickup(19130, 2, 2423.72, -1742.42, 13.54, 0, 0, -1, 250, -1, 0);
	Shop24In40 = CreateDynamicPickup(19130, 2, 2492.99, -1958.74, 13.58, 0, 0, -1, 250, -1, 0);
	Shop24In41 = CreateDynamicPickup(19130, 2, 2723.68, -2033.89, 13.54, 0, 0, -1, 250, -1, 0);
	Shop24In42 = CreateDynamicPickup(19130, 2, 977.41, -770.88, 112.20, 0, 0, -1, 250, -1, 0);// ls last
	Shop24In43 = CreateDynamicPickup(19130, 2, 143.30, -201.40, 1.57, 0, 0, -1, 250, -1, 0);// ls country
	Shop24In44 = CreateDynamicPickup(19130, 2, 1374.73, 468.51, 20.19, 0, 0, -1, 250, -1, 0);
	Shop24In45 = CreateDynamicPickup(19130, 2, 1311.05, 329.65, 19.91, 0, 0, -1, 250, -1, 0);
	Shop24In46 = CreateDynamicPickup(19130, 2, 671.55, -519.87, 16.33, 0, 0, -1, 250, -1, 0);
	Shop24In47 = CreateDynamicPickup(19130, 2, 2318.85, -88.65, 26.48, 0, 0, -1, 250, -1, 0);// last ls country
	Shop24In48 = CreateDynamicPickup(19130, 2, 888.44, 1908.33, 10.82, 0, 0, -1, 250, -1, 0); // new lv mag
	Shop24Out = CreateDynamicPickup(19130, 2, -26.01, -187.44, 1003.54, 0, 17, -1, 250, -1, 0);
	PizzaIn1 = CreateDynamicPickup(19130, 2, 2637.73, 1849.80, 11.02, 0, 0, -1, 250, -1, 0);
	PizzaIn2 = CreateDynamicPickup(19130, 2, 2330.62, 2532.94, 10.82, 0, 0, -1, 250, -1, 0);
	PizzaIn3 = CreateDynamicPickup(19130, 2, 2104.64, -1806.51, 13.55, 0, 0, -1, 250, -1, 0);
	PizzaIn4 = CreateDynamicPickup(19130, 2, -1722.52, 1359.77, 7.18, 0, 0, -1, 250, -1, 0);
	PizzaIn5 = CreateDynamicPickup(19130, 2, -2314.18, 14.94, 35.32, 0, 0, -1, 250, -1, 0);
	PizzaIn6 = CreateDynamicPickup(19130, 2, 203.45, -202.90, 1.57, 0, 0, -1, 250, -1, 0);
	PizzaIn7 = CreateDynamicPickup(19130, 2, 1367.12, 248.41, 19.56, 0, 0, -1, 250, -1, 0);
	PizzaIn8 = CreateDynamicPickup(19130, 2, 2332.56, 74.93, 26.62, 0, 0, -1, 250, -1, 0);
	PizzaIn9 = CreateDynamicPickup(19130, 2, -2501.26, 2319.31, 4.98, 0, 0, -1, 250, -1, 0);
	PizzaIn10 = CreateDynamicPickup(19130, 2, 2233.40, 1489.98, 11.05, 0, 0, -1, 250, -1, 0);
	PizzaIn11 = CreateDynamicPickup(19130, 2, 1253.31, -1860.78, 13.54, 0, 0, -1, 250, -1, 0);
	PizzaIn12 = CreateDynamicPickup(19130, 2, 507.05, -1607.53, 16.45, 0, 0, -1, 250, -1, 0);
	PizzaOut = CreateDynamicPickup(19130, 2, 372.21, -133.01, 1001.49, 0, 5, -1, 250, -1, 0);
	MusicStoreOut = CreateDynamicPickup(19130, 2, 835.53, -1352.31, 26.07, 22, 1, -1, 250, -1, 0);
	MusicIn = CreateDynamicPickup(19130, 2, 816.13, -1386.90, 13.60, 0, 0, -1, 250, -1, 0);
	// pickups Banks
	Bank1 = CreateDynamicPickup(19130, 23, 1958.0, 951.54, 10.82,0, 0, -1, 300, -1, 0);
	Bank2 = CreateDynamicPickup(19130, 23, 1481.04, -1770.62, 18.79,0, 0, -1, 300, -1, 0);
	Bank3 = CreateDynamicPickup(19130, 23, -2765.99, 375.58, 6.33,0, 0, -1, 300, -1, 0);
	BankOut = CreateDynamicPickup(19130, 23, 2144.184082, 1608.734741, 993.688171,-1, -1, -1, 300, -1, 0);
	CreateDynamicPickup(370, 2, 1318.9847, 1254.2101, 14.2731, 0, 0, -1, 300, -1, 0);
	CreateDynamicPickup(370, 2, 2607.9888, 2710.6157, 36.5386, 0, 0, -1, 300, -1, 0);
	CreateDynamicPickup(370, 2, 1426.2736, 2774.5740, 14.8203, 0, 0, -1, 300, -1, 0);
	// church
	ChurchOut = CreateDynamicPickup(19130, 2, -1959.07, 1203.51, 75.61, 22, 1, -1, 250, -1, 0);
	Church1 = CreateDynamicPickup(19130, 2, -1989.26, 1117.96, 54.46, 0, 0, -1, 250, -1, 0);
	Church2 = CreateDynamicPickup(19130, 2, 2491.28, 918.40, 11.02, 0, 0, -1, 250, -1, 0);
	Church3 = CreateDynamicPickup(19130, 2, -2482.07, 2406.71, 17.10, 0, 0, -1, 250, -1, 0);
	ChurchIndulg = CreateDynamicPickup(11712, 2, -1982.02, 1203.58, 76.61, 22, 1, -1, 300, -1, 0);
	// etc pickups
	StripPickupIn = CreateDynamicPickup(19130, 2, 693.66, 1966.66, 5.53, 0, 0, -1, 250, -1, 0);
	StripPickupIn2 = CreateDynamicPickup(19130, 2, 2543.23, 1024.62, 10.82, 0, 0, -1, 250, -1, 0);
	StripPickupIn3 = CreateDynamicPickup(19130, 2, 2317.88, 2115.39, 10.82, 0, 0, -1, 250, -1, 0);
	StripPickupIn4 = CreateDynamicPickup(19130, 2, 1455.03, 751.06, 11.02, 0, 0, -1, 250, -1, 0);
	StripPickupIn5 = CreateDynamicPickup(19130, 2, 1145.17, -1131.44, 23.82, 0, 0, -1, 250, -1, 0);
	StripPickupIn6 = CreateDynamicPickup(19130, 2, -2591.36, 169.56, 4.60, 0, 0, -1, 250, -1, 0);
	StripPickupOut = CreateDynamicPickup(19130, 2, 1204.80, -13.54, 1000.92, 0, 2, -1, 250, -1, 0);
	JizzyOut1 = CreateDynamicPickup(19130, 2, -2636.70, 1403.18, 906.46, 0, 3, -1, 250, -1, 0);
	JizzyOut2 = CreateDynamicPickup(19130, 2, -2661.057128, 1416.765258, 922.195312, 0, 3, -1, 250, -1, 0);
	UltorIn = CreateDynamicPickup(19130, 2, -1778.44, 805.60, 166.84, 0, 0, -1, 250, -1, 0);
	UltorOut = CreateDynamicPickup(19130, 2, -1750.07, 790.15, 167.65, 0, 0, -1, 250, -1, 0);
	//sexshops
	SexShopIn1 = CreateDynamicPickup(19130, 2, 2085.56, 2073.95, 11.05, 0, 0, -1, 250, -1, 0);
	SexShopIn2 = CreateDynamicPickup(19130, 2, 2139.30, -1743.34, 13.55, 0, 0, -1, 250, -1, 0);
	SexShopIn3 = CreateDynamicPickup(19130, 2, 953.81, -1336.83, 13.53, 0, 0, -1, 250, -1, 0);
	SexShopOut = CreateDynamicPickup(19130, 2, -100.31, -24.64, 1000.71, 0, 3, -1, 250, -1, 0);
	CreateDynamicPickup(321, 2, -105.53, -22.64, 1000.71, 0, 3, -1, 300, -1, 0);
	CreateDynamicPickup(324, 2, -107.92, -8.53, 1000.71, 0, 3, -1, 300, -1, 0);
	// bars
	BarIn1 = CreateDynamicPickup(19130, 2, -2242.82, -88.17, 35.32, 0, 0, -1, 250, -1, 0);
	BarIn2 = CreateDynamicPickup(19130, 2, 2441.14, 2064.50, 10.82, 0, 0, -1, 250, -1, 0);
	BarIn3 = CreateDynamicPickup(19130, 2, 2309.88, -1643.61, 14.82, 0, 0, -1, 250, -1, 0);
	BarIn4 = CreateDynamicPickup(19130, 2, 386.81, -1870.66, 7.83, 0, 0, -1, 250, -1, 0);
	BarIn5 = CreateDynamicPickup(19130, 2, 2480.95, -1536.66, 24.17, 0, 0, -1, 250, -1, 0);
	BarOut = CreateDynamicPickup(19130, 2, 501.87, -68.14, 998.75, 0, 11, -1, 250, -1, 0);
	//vice bar
	BarViceIn = CreateDynamicPickup(19130, 2, 2490.07, 2065.22, 10.82, 0, 0, -1, 250, -1, 0);
	BarViceOut = CreateDynamicPickup(19130, 2, -795.02, 489.80, 1376.19, 0, 1, -1, 250, -1, 0);
	//Flowers shop
	FlowersShopIn1 = CreateDynamicPickup(19130, 2, -2562.69, 310.06, 15.94, 0, 0, -1, 250, -1, 0);
	FlowersShopOut = CreateDynamicPickup(19130, 2, -2559.99, 314.13, 29.40, 22, 1, -1, 250, -1, 0);
	CreateDynamicPickup(325, 2, -2565.40, 312.41, 29.40, 22, 1, -1, 300, -1, 0);
	// etc pickups
	EtcPick1 = CreateDynamicPickup(19130, 2, 1484.84, -1881.38, 13.54, 0, 0, -1, 250, -1, 0); //ls rest
	EtcPickOut = CreateDynamicPickup(19130, 2, 1489.76, -1895.15, 22.21, 0, 0, -1, 250, -1, 0);
	EtcPick2 = CreateDynamicPickup(19130, 2, 1477.02, 2248.29, 11.02, 0, 0, -1, 250, -1, 0); // lv baseball stadium
	EtcPickOut2 = CreateDynamicPickup(19130, 2, 1376.41, 2215.15, 12.01, 0, 0, -1, 250, -1, 0);
	underwaterpickup = CreateDynamicPickup(19135, 2, 1628.25, 600.89, 1.75, 0, 0, -1, 200, -1, 0);
	// warzonepickups
	warrpg1 = CreateDynamicPickup(359, 2, 414.51, 2535.25, 23.24, 22, 0, -1, 300, -1, 0);
	warrpg2 = CreateDynamicPickup(359, 2, 402.71, 2458.64, 29.57, 22, 0, -1, 300, -1, 0);
	warrpg3 = CreateDynamicPickup(359, 2, 316.79, 2547.62, 16.81, 22, 0, -1, 300, -1, 0);
	warrpg4 = CreateDynamicPickup(359, 2, 390.59, 2592.67, 16.48, 22, 0, -1, 300, -1, 0);
	warrpg5 = CreateDynamicPickup(359, 2, 229.33, 2473.98, 31.96, 22, 0, -1, 300, -1, 0);
	warrpg6 = CreateDynamicPickup(359, 2, 229.74, 2533.33, 31.96, 22, 0, -1, 300, -1, 0);
	warrpg7 = CreateDynamicPickup(359, 2, 125.08, 2533.15, 32.68, 22, 0, -1, 300, -1, 0);
	warrpg8 = CreateDynamicPickup(359, 2, 112.40, 2405.90, 17.46, 22, 0, -1, 300, -1, 0);
	// Armwarzone
	CreateDynamicPickup(1242, 2, 372.46, 2446.37, 17.43, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 404.10, 2435.82, 16.50, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 436.91, 2501.64, 16.79, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 423.99, 2539.89, 16.49, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 381.25, 2591.98, 16.48, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 299.01, 2550.40, 16.82, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 189.53, 2534.47, 16.73, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 103.71, 2459.68, 16.48, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 189.82, 2411.58, 16.49, 22, 0, -1, 300, -1, 0);
	CreateDynamicPickup(1242, 2, 229.96, 2474.59, 23.56, 22, 0, -1, 300, -1, 0);
	// Weapons
	CreateDynamicPickup(358, 1, -2511.57, 1545.19, 17.32, 0, 0, -1, 200, -1, 0); // kempa (ship near the bridge)
	Create3DTextLabel("{FFD700}Sniper rifle{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$5.000",COLOR_WHITE,-2511.57, 1545.19, 17.32,10.0,0,0);
	CreateDynamicPickup(359, 1, -1433.92, 1485.59, 1.86, 0, 0, -1, 200, -1, 0); // rpg (ship near triads mission)
	Create3DTextLabel("{FFD700}RPG{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$1.000.000",COLOR_WHITE,-1433.92, 1485.59, 1.86,10.0,0,0);
	CreateDynamicPickup(361, 1, -546.96, -200.86, 78.40, 0, 0, -1, 200, -1, 0);// flamethrower ls race ferm
	Create3DTextLabel("{FFD700}Flamethrower{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$500.000",COLOR_WHITE,-546.96, -200.86, 78.40,10.0,0,0);
	CreateDynamicPickup(361, 1, -1300.04, 2528.60, 87.63, 0, 0, -1, 200, -1, 0);// flamethrower lv 2 
	Create3DTextLabel("{FFD700}Flamethrower{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$500.000",COLOR_WHITE,-1300.04, 2528.60, 87.63,10.0,0,0);
	CreateDynamicPickup(361, 1, -1071.98, -1169.82, 129.64, 0, 0, -1, 200, -1, 0);// flamethrower ferm sf
	Create3DTextLabel("{FFD700}Flamethrower{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$500.000",COLOR_WHITE,-1071.98, -1169.82, 129.64,10.0,0,0);
	CreateDynamicPickup(358, 1, -1064.65, -1186.69, 142.93, 0, 0, -1, 200, -1, 0);// kempa ferm sf
	Create3DTextLabel("{FFD700}Sniper rifle{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$5.000",COLOR_WHITE,-1064.65, -1186.69, 142.93,10.0,0,0);
	CreateDynamicPickup(359, 1, -559.37, -1486.12, 19.29, 0, 0, -1, 200, -1, 0);// rpg ferm sf near marsh
	Create3DTextLabel("{FFD700}RPG{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$1.000.000",COLOR_WHITE,-559.37, -1486.12, 19.29,10.0,0,0);
	CreateDynamicPickup(359, 1, -338.39, 1600.11, 80.96, 0, 0, -1, 200, -1, 0); // RPG uho
	Create3DTextLabel("{FFD700}RPG{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$1.000.000",COLOR_WHITE,-338.39, 1600.11, 80.96,10.0,0,0);
	CreateDynamicPickup(342, 1, -864.11, 1525.33, 26.65, 0, 0, -1, 200, -1, 0); //Grenades cow in lv 2
	Create3DTextLabel("{FFD700}Grenade{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,-864.11, 1525.33, 26.65,10.0,0,0);
	// molotov 
	CreateDynamicPickup(344, 1, 2550.30, 1045.62, 13.89, 0, 0, -1, 200, -1, 0); // biker club
	Create3DTextLabel("{FFD700}Коктейль Молотова{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,2550.30, 1045.62, 13.89,10.0,0,0);
	CreateDynamicPickup(344, 1, 2791.59, 2531.96, 10.82, 0, 0, -1, 200, -1, 0); // near rock hotel
	Create3DTextLabel("{FFD700}Коктейль Молотова{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,2791.59, 2531.96, 10.82,10.0,0,0);
	CreateDynamicPickup(344, 1, 1343.94, 1064.70, 10.82, 0, 0, -1, 200, -1, 0); // warehouse near lv air tricks
	Create3DTextLabel("{FFD700}Коктейль Молотова{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,1343.94, 1064.70, 10.82,10.0,0,0);
	// ammo weapons pickups
	CreateDynamicPickup(372, 1, 298.2955, -80.1032, 1000.6948, -1);
	Create3DTextLabel("{FFD700}TEC-9{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$2.500",COLOR_WHITE,298.2955,-80.1032,1000.6948,15.0,0,0);
	CreateDynamicPickup(350, 1, 296.2955, -80.1032, 1000.6948, -1);
	Create3DTextLabel("{FFD700}Sawn{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$2.500",COLOR_WHITE,296.2955, -80.1032, 1000.6948,15.0,0,0);
	CreateDynamicPickup(356, 1, 294.2955, -80.1032, 1000.6948, -1);
	Create3DTextLabel("{FFD700}M4{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$5.000",COLOR_WHITE,294.2955, -80.1032, 1000.6948,15.0,0,0);
	CreateDynamicPickup(348, 1, 292.2955, -80.1032, 1000.6948, -1);
	Create3DTextLabel("{FFD700}Deagle{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$2.500",COLOR_WHITE,292.2955, -80.1032, 1000.6948,15.0,0,0);
	// vip ammo 
	CreateDynamicPickup(358, 1, 295.45, -58.09, 1001.51, 0, 4, -1, 300, -1, 0);
	Create3DTextLabel("{FFD700}Sniper rifle{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$5.000",COLOR_WHITE, 295.45, -58.09, 1001.51,15.0,0,0);
	CreateDynamicPickup(342, 1, 295.42, -61.47, 1001.51, 0, 4, -1, 300, -1, 0);
	Create3DTextLabel("{FFD700}Grenade{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,295.42, -61.47, 1001.51,15.0,0,0);
	CreateDynamicPickup(344, 1, 295.49, -64.47, 1001.51, 0, 4, -1, 300, -1, 0);
	Create3DTextLabel("{FFD700}Коктейль Молотова{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$4.000",COLOR_WHITE,295.49, -64.47, 1001.51,15.0,0,0);
	CreateDynamicPickup(358, 1, -2678.42, 1398.92, 23.89, 0, 0, -1, 300, -1, 0); // jizzy
	Create3DTextLabel("{FFD700}Sniper rifle{FFFFFF} купить можно нажатием на колесико {FF0000}(RMB){FFFFFF}. Cтоимость:{336600}$5.000",COLOR_WHITE, -2678.42, 1398.92, 23.89,15.0,0,0);
	
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF} для входа в меню\nНажмите {336600}Num2{FFFFFF} чтобы пополнить хп и броню",COLOR_GREY,290.4018,-81.5178,1001.5156,10.0,0,0); // ammo menu
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF}",COLOR_GREY,2144.20, 1641.54, 993.57,20.0,0); // Bank text
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF}",COLOR_GREY,213.95, -41.59, 1002.02,20.0,0); // urbanshop
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF}",COLOR_GREY,-29.8588, -184.2855, 1003.5468,20.0,0); // 24-7
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF}",COLOR_GREY,-2649.342529, 1410.013549, 906.273437,30.0,0); //jizzy
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF}",COLOR_GREY,499.070373, -75.220703, 998.757812,20.0,0); // bar
	Create3DTextLabel("{FFD700}Отпустить грехи",COLOR_GREY,-1982.02, 1203.58, 76.61,20.22,4); // church
	//cw objects
	Create3DTextLabel(CwInfo3d,COLOR_GREY,1087.5364,1074.0182,10.8382,100.0,6,0);
	Create3DTextLabel("{336600}Батут{FFFFFF} работает на клавишу {336600}прыжка{FFFFFF}, стоимость {336600}2$",0xAFAFAFAA, 328.149749, -1828.953491, 6.119598,40.0,0);
	Create3DTextLabel("{FFFFFF}Ударьте автомат чтобы получить газировку, стоимость {336600}20$",0xAFAFAFAA, 313.98883, -1818.99890, 4.24365,20.0,0);
	Create3DTextLabel("{FFFFFF}Нажмите {336600}N{FFFFFF} для входа в меню",0xAFAFAFAA, -1425.990966, -1769.911621, 46.523677,20.0,0);
	// Mappers info
	Create3DTextLabel("{FFFFFF}Mapped {FFD700}by Gaia",0xAFAFAFAA,-1482.09, -1049.87, 168.52,20.0,0);
	Create3DTextLabel("{FFFFFF}Mapped {FFD700}by Gaia",0xAFAFAFAA,-1832.184082, 2429.528808, 85.483001,20.0,0);
	Create3DTextLabel("{FFFFFF}[Volt] fun team house mappers:{FFD700}Valkyrie, Gaia, Swefish mafia",0xAFAFAFAA,-3010.835937, -2658.769531, 8.547298,20.0,0);
	Create3DTextLabel("{FFFFFF}Mapped {FFD700}by heccberte",0xAFAFAFAA,-1479.980590, -1767.350219, 49.706047,20.0,0);
	Create3DTextLabel("{FFFFFF}Mapped {FFD700}by heccberte",0xAFAFAFAA,610.965209, 149.853225, 10.357770,20.0,0);
	Create3DTextLabel("{FFFFFF}Mapped {FFD700}by heccberte",0xAFAFAFAA,-792.292846, 678.281127, 12.340614,20.0,0);
	// Teleports 3D texts
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/rancho", 0x00FF00FF, -700.888549, 952.368713, 12.351770, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/ls",0x00FF00FF,1765.7373,-1895.3802,14.1300, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/sf",0x00FF00FF,-1984.3955,138.3253,27.9796, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/ammo",0x00FF00FF,2147.1230,1032.8364,11.1582, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/bayside",0x00FF00FF,-2256.1833,2364.7615,5.6276, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/bone",0x00FF00FF,43.8830,1173.1411,18.8473, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/flint",0x00FF00FF,-1064.1818,-1223.9795,130.1247, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/red",0x00FF00FF,1078.4608,-331.7300,74.8740, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	CreateDynamic3DTextLabel("{FFFFFF}You are on {FFD700}/whetstone",0x00FF00FF,-2095.4441,-2368.0361,31.3874, 50.0,INVALID_PLAYER_ID,INVALID_VEHICLE_ID,0,-1,-1,-1, 100.0);
	// Bonus packets
	// bonuspack1 = CreateDynamicPickup(1276, 14, 2166.135986, 885.339599, 9.785905); tests only
	bonuspack1 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10); 
	bonuspack2 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack3 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack4 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack5 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack6 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack7 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack8 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack9 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack10 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack11 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack12 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack13 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack14 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack15 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack16 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack17 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack18 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack19 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack20 = CreateDynamicPickup(1276, 3, random(1900), random(1900), random(100)+10);
	bonuspack21 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack22 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack23 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack24 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack25 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack26 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack27 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack28 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack29 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack30 = CreateDynamicPickup(1276, 3, random(1900)-2000, random(1900)-2000, random(100)+10);
	bonuspack31 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack32 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack33 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack34 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack35 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack36 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack37 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack38 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack39 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	bonuspack40 = CreateDynamicPickup(1276, 3, random(1900)-1000, random(1900)-1000, random(100)+10);
	// Vehs part
	new cwrhino1 = AddStaticVehicleEx(432,1051.5221,1155.6447,10.8214,130.0762,55,109,5); 
	new cwrhino2 = AddStaticVehicleEx(432,990.8580,1081.3264,10.8202,268.7997,55,109,5);  
	new cwpatriot1 = AddStaticVehicleEx(470,1082.6075,1144.1997,10.9916,186.4016,1,2,5); 
	new cwpatriot2 = AddStaticVehicleEx(470,1131.8021,1131.7103,10.9943,144.0452,1,2,5);  
	new cwpatriot3 = AddStaticVehicleEx(470,1158.4839,1088.1332,10.9928,103.8238,1,2,5);  
	new cwpatriot4 = AddStaticVehicleEx(470,1150.1078,1039.0090,10.9933,67.0824,1,2,5);  
	new cwpatriot5 = AddStaticVehicleEx(470,1020.0052,1102.2705,10.9955,239.3642,1,2,5); 
	SetVehicleVirtualWorld(cwrhino1, 6);
	SetVehicleVirtualWorld(cwrhino2, 6);
	SetVehicleVirtualWorld(cwpatriot1, 6);
	SetVehicleVirtualWorld(cwpatriot2, 6);
	SetVehicleVirtualWorld(cwpatriot3, 6);
	SetVehicleVirtualWorld(cwpatriot4, 6);
	SetVehicleVirtualWorld(cwpatriot5, 6);
	// Warzone 
	new wzone1 = CreateVehicle(592, 380.8286, 2500.2568, 17.4705, 89.8001, 1, 1, 60);
	new wzone2 = CreateVehicle(592, 257.0501, 2501.8076, 17.4705, 89.8001, 1, 1, 60);
	new wzone3 = CreateVehicle(447, 365.5356, 2537.4509, 16.6625, 0.0000, -1, -1, 60);
	new wzone4 = CreateVehicle(447, 308.3261, 2464.6765, 16.6625, 0.0000, -1, -1, 60);
	new wzone5 = CreateVehicle(432, 350.3785, 2538.0496, 16.6954, 179.9399, -1, -1, 60);
	new wzone6 = CreateVehicle(432, 326.3605, 2538.9675, 16.6954, 179.9399, -1, -1, 60);
	new wzone7 = CreateVehicle(433, 424.4128, 2519.9617, 16.9179, 68.0400, -1, -1, 60);
	new wzone8 = CreateVehicle(425, 414.9898, 2455.5596, 17.1540, 0.0000, -1, -1, 60);
	new wzone9 = CreateVehicle(425, 393.9906, 2455.0767, 17.1540, 0.0000, -1, -1, 60);
	new wzone10 = CreateVehicle(433, 364.2534, 2450.8015, 16.7882, 0.0000, -1, -1, 60);
	new wzone11 = CreateVehicle(432, 344.0792, 2467.9248, 16.0520, 0.0000, -1, -1, 60);
	new wzone12 = CreateVehicle(432, 210.3856, 2535.5105, 16.6954, 179.9399, -1, -1, 60);
	new wzone13 = CreateVehicle(432, 142.6217, 2535.7568, 16.6954, 179.9399, -1, -1, 60);
	new wzone14 = CreateVehicle(520, 78.5686, 2468.6865, 17.0753, 88.2000, -1, -1, 60);
	new wzone15 = CreateVehicle(432, 107.7632, 2446.0503, 16.3349, 0.0000, -1, -1, 60);
	new wzone16 = CreateVehicle(447, 90.9673, 2447.9905, 20.7281, 0.0000, -1, -1, 60);
	new wzone17 = CreateVehicle(433, 195.3508, 2470.2173, 16.6960, 0.0000, -1, -1, 60);
	new wzone18 = CreateVehicle(425, 277.4261,2774.6150,33.9831,210.3246,43,0, 60);
	new wzone19 = CreateVehicle(432,276.8443,2373.6565,16.4911,280.3846,43,0, 60);  
	new wzone20 = CreateVehicle(432,326.2047,2634.7175,16.2401,51.0376,43,0, 60); 
	new wzone21 = CreateVehicle(432,172.6957,2614.5286,16.4842,47.2457,43,0, 60); 
	new wzone22 = CreateVehicle(432,89.7329,2577.8613,16.4926,130.7242,43,0, 60); 
	new wzone23 = CreateVehicle(432,137.8144,2398.4287,16.4909,250.1439,43,0, 60);  
	new wzone24 = CreateVehicle(432,337.5805,2390.1592,16.4911,28.5299,43,0, 60);
	new atach_temp_obj0 = CreateObject(2985,0,0,0,0,0,0,100.0);
	new wzone25 = CreateVehicle(470,251.3732, 2575.7377, 16.3078, 0,43,0, 60);  
	AttachObjectToVehicle(atach_temp_obj0, wzone25, 0.000000, -1.914998, 0.024999, 0.000000, 0.000000, 90.449951); 
	SetVehicleVirtualWorld(wzone1, 22);
	SetVehicleVirtualWorld(wzone2, 22);
	SetVehicleVirtualWorld(wzone3, 22);
	SetVehicleVirtualWorld(wzone4, 22);
	SetVehicleVirtualWorld(wzone5, 22);
	SetVehicleVirtualWorld(wzone6, 22);
	SetVehicleVirtualWorld(wzone7, 22);
	SetVehicleVirtualWorld(wzone8, 22);
	SetVehicleVirtualWorld(wzone9, 22);
	SetVehicleVirtualWorld(wzone10, 22);
	SetVehicleVirtualWorld(wzone11, 22);
	SetVehicleVirtualWorld(wzone12, 22);
	SetVehicleVirtualWorld(wzone13, 22);
	SetVehicleVirtualWorld(wzone14, 22);
	SetVehicleVirtualWorld(wzone15, 22);
	SetVehicleVirtualWorld(wzone16, 22);
	SetVehicleVirtualWorld(wzone17, 22);
	SetVehicleVirtualWorld(wzone18, 22);
	SetVehicleVirtualWorld(wzone19, 22);
	SetVehicleVirtualWorld(wzone20, 22);
	SetVehicleVirtualWorld(wzone21, 22);
	SetVehicleVirtualWorld(wzone22, 22);
	SetVehicleVirtualWorld(wzone23, 22);
	SetVehicleVirtualWorld(wzone24, 22);
	SetVehicleVirtualWorld(wzone25, 22);
	// custom cars
	new atach_temp_obj1 = CreateObject(2229,0,0,0,0,0,0,100.0);
	new atach_temp_obj2 = CreateObject(2229,0,0,0,0,0,0,100.0);
	new atach_temp_obj3 = CreateObject(2232,0,0,0,0,0,0,100.0);
	new atach_temp_obj4 = CreateObject(1116,0,0,0,0,0,0,100.0);
	new atach_temp_obj5 = CreateObject(1188,0,0,0,0,0,0,100.0);
	new nyankibigfoot = AddStaticVehicle(444,-678.9631,966.0865,12.5040,89.1038,17,17);
	AttachObjectToVehicle(atach_temp_obj1, nyankibigfoot, -0.504999, -0.579999, 0.364999, 0.000000, 0.000000, 0.000000);
	AttachObjectToVehicle(atach_temp_obj2, nyankibigfoot, 1.154999, -0.579999, 0.364999, 0.000000, 0.000000, 0.000000);
	AttachObjectToVehicle(atach_temp_obj3 , nyankibigfoot, 0.004999, -0.944999, 1.574998, 0.000000, 0.000000, 0.000000); 
	AttachObjectToVehicle(atach_temp_obj4, nyankibigfoot, 0.000000, 2.940019, 0.399999, 18.090000, 0.000000, 0.000000);  
	AttachObjectToVehicle(atach_temp_obj5, nyankibigfoot, 0.899999, 2.780016, 0.244999, 2.010000, 0.000000, 0.000000); 
	new jizzyblade = AddStaticVehicle(536,-2689.7253,1412.1021,6.8171,167.2780,17,117);
	new atach_temp_obj6 = CreateObject(19314,0,0,0,0,0,0,100.0);
	AddVehicleComponent(jizzyblade, 1085);
	AttachObjectToVehicle(atach_temp_obj6 , jizzyblade, -0.004999, 2.505009, 0.020000, -270.345520, 0.000000, -90.449951);
	// Zones
	/*for(new i = 0; i < sizeof(GangZoneId); i++)
	{
		GangZoneId[i] = GangZoneCreate(GangZonesCoords[i][0],GangZonesCoords[i][1],GangZonesCoords[i][2],GangZonesCoords[i][3]);
		Zone[i] = CreateDynamicRectangle(GangZonesCoords[i][0],GangZonesCoords[i][1],GangZonesCoords[i][2],GangZonesCoords[i][3],0,0,-1);
		//GangZoneShowForAll(GangZoneCreate(GangZonesCoords[i][0],GangZonesCoords[i][1],GangZonesCoords[i][2],GangZonesCoords[i][3]), 0xFFFFFFAA);
		//GangZoneShowForAll(i);
	}*/
	warzonemap = GangZoneCreate(-240.9998779296875, 2182.5, 620.0001220703125, 2838.5);
	//ammoaircontrol = CreateDynamicRectangle(1680.9998779296875, 659, 2630.9998779296875, 1443, -1,-1,-1)
	// Logo
	Logo = TextDrawCreate(540.000000, 10.000000, "1nsaneDm"); 
    TextDrawBackgroundColor(Logo, 255); 
    TextDrawFont(Logo, 0); 
    TextDrawLetterSize(Logo, 0.6, 1.2); 
    //TextDrawColor(Logo, 0x121616AA); black style 
    TextDrawColor(Logo, -1); 
    TextDrawSetOutline(Logo, 0); 
    TextDrawSetProportional(Logo, 1); 
    TextDrawSetShadow(Logo, 0);
	// Clock
	gettime(gHour, gMinute, gSecond);
	format(TimeStr, sizeof TimeStr, "%02d:%02d", gHour, gMinute);
	TDTime = TextDrawCreate(547.000000,29.000000, TimeStr);
	TextDrawLetterSize(TDTime, 0.6, 1.6);
	TextDrawBackgroundColor(TDTime, 255);
	TextDrawSetProportional(TDTime, 1);
	TextDrawSetOutline(TDTime, 1);
	TextDrawColor(TDTime, -1);
	TextDrawFont(TDTime, 3);
	// BottomBar
	getdate(gYear, gMonth ,gDay);
	format(StatusBar, sizeof StatusBar,"~w~1nsaneDM ~g~v.%s ~w~Online:~g~%d  ~w~/dm: ~g~%d ~w~/tdm: ~g~%d ~w~/trz: ~g~%d ~w~/cs: ~g~%d ~w~/tcw: ~g~%d ~w~/warz: ~g~%d ~n~~w~changemap:~g~        ~w~[%d-%d-%d %02d:%02d ~g~MSK~w~ ]",
	MOD_VERSION, ONLINE, online_dmz, online_tdmz, online_trz, online_csz, online_tcw, online_warzone, gYear, gMonth ,gDay, gHour, gMinute);
	TDBottomBar = TextDrawCreate(30.000000,427.000000,StatusBar);
	TextDrawUseBox(TDBottomBar, 10000);
    TextDrawFont(TDBottomBar, 1);
	//TextDrawLetterSize(TDBottomBar,0.25,0.9);
	TextDrawLetterSize(TDBottomBar,0.3,1.0);
	TextDrawSetShadow(TDBottomBar,2);
	TextDrawSetOutline(TDBottomBar,1);
	TextDrawBoxColor(TDBottomBar, 0xFFFFFF00);
	//TextDrawBackgroundColor(TDBottomBar, 255);
	TextDrawColor(TDBottomBar,0xFFFFFFFF);
	// carcolor TD
	Draw[ 121 ] = TextDrawCreate(29.000000, 156.000000, ".");
	TextDrawBackgroundColor( Draw[ 121 ], 255), TextDrawFont( Draw[ 121 ], 1);
	TextDrawLetterSize( Draw[ 121 ], -0.009999, 19.700038), TextDrawColor( Draw[ 121 ], -1);
	TextDrawSetOutline( Draw[ 121 ], 0), TextDrawSetProportional( Draw[ 121 ], 1);
	TextDrawSetShadow( Draw[ 121 ], 1), TextDrawUseBox( Draw[ 121 ], 1);
	TextDrawBoxColor( Draw[ 121 ], 0x00000099), TextDrawTextSize( Draw[ 121 ], 231.000000, 6.000000);
	for ( new i, Float: x = X_SIZE, Float: y = Y_SIZE ; i != sizeof ccolor ; i ++ )
	{
		if ( x X_MAX ) x = X_SIZE, y Y_PLUS ;
		Draw[ i ] = TextDrawCreate(x, y, "."), TextDrawTextSize( Draw[ i ], x + 10.0, 10.00);
		TextDrawBackgroundColor( Draw[ i ], 0x00000000 ), TextDrawFont( Draw[ i ], 1);
		TextDrawLetterSize( Draw[ i ], 0.0, 1.00 ), TextDrawColor( Draw[ i ], -1);
		TextDrawSetOutline( Draw[ i ], 0), TextDrawSetProportional( Draw[ i ], 1);
		TextDrawSetShadow( Draw[ i ], 0), TextDrawUseBox( Draw[ i ], 1);
		TextDrawBoxColor( Draw[ i ], ccolor[ i ][ 1 ] ), x X_PLUS ;
		TextDrawSetSelectable ( Draw[ i ], true ) ;
	}
	// Fix ped movies. Non-rp run
	UsePlayerPedAnims();
	// Vehicles spawn
	LoadStaticVehiclesFromFile("vehicles/vehspawn.txt");
	LoadStaticVehiclesFromFile("vehicles/ls.txt");
	LoadStaticVehiclesFromFile("vehicles/country.txt");
	LoadStaticVehiclesFromFile("vehicles/sf.txt");
	LoadStaticVehiclesFromFile("vehicles/lv.txt");
	// Timers
	SetTimer("TechTimer",1000*60*15,true);// Global 15 minutes technical timer
	SetTimer("AuxUpdateTimer", 1000*30, true); //Global 30 sec timer
	SetTimer("FreqTimer", 1000*7, true); //Global 7 sec timer
	SetTimer("UpdateTimer", 1000, true); //Global second timer (replaces player update public)
	SetTimerEx("ChangeMapTimer", 1000*60*5, true, "i", 300); //Global 5 minutes map change timer
	changemaptime = 300;
	// Misc SAMP fn
	DisableInteriorEnterExits(); // Disable default interriors 
	// ShowPlayerMarkers(0); // Disable Markers
	EnableStuntBonusForAll(0); // Diasable stunt bonus messages
	CountDynObjects();
	CountDynPickups();
	LoadBadWords(); // Load anti-mat filter
	ResetDropPickups(); // weapon drop reset
	LimitPlayerMarkerRadius(600.0); // set the player marker radius.
	// FerrisWheel system
	gFerrisWheel = CreateObject( 18877, gFerrisOrigin[0], gFerrisOrigin[1], gFerrisOrigin[2], 0.0, 0.0, -90.0, 300.0 );
    gFerrisBase = CreateObject( 18878, gFerrisOrigin[0], gFerrisOrigin[1], gFerrisOrigin[2], 0.0, 0.0, -90.0, 300.0 );  							 
	new x=0;
	while(x != 10) {
        gFerrisCages[x] = CreateObject( 18879, gFerrisOrigin[0], gFerrisOrigin[1], gFerrisOrigin[2], 0.0, 0.0, -90.0, 300.0 ); 							 
        AttachObjectToObject( gFerrisCages[x], gFerrisWheel,
							  gFerrisCageOffsets[x][0],
							  gFerrisCageOffsets[x][1],
	  						  gFerrisCageOffsets[x][2],
							  0.0, 0.0, -90.0, 0 );		
		x++;
	}
	SetTimer("RotateWheel",3*1000,0);
	// attach objects editor
	for(new i; i < MAX_PLAYERS; i++)
	{
		gCurrentAttachIndex[i] = 0;
		gIndexModel[i][0] = 18636;

		for(new j; j < MAX_PLAYER_ATTACHED_OBJECTS; j++)
		{
			gIndexUsed[i][j] = false;
			gIndexBone[i][j] = 1;
			gIndexSca[i][j][ATPCOORD_X] = 1.0;
			gIndexSca[i][j][ATPCOORD_Y] = 1.0;
			gIndexSca[i][j][ATPCOORD_Z] = 1.0;
		}
	}
	// Load configfile
	if(fexist("mod.ini"))
	{
		LoadServerConfigfile();
	}
	else
	{
		LastAccountNumber = 0;
		ServerLocked = 0; // Lock server for all players
		RegisterLocked = 0; // Lock registration 
		ServerAntiflood = 1; // On-off antiflood
		ServerCensore = 1; // Chat censore
		FlyHackOn_AC = 1;
		SpeedHackOn_AC = 1;
		ChatAnticaps = 1;
		ServerAntiReklama = 1;
		ServerAntiFakeKill = 1;
		ServerAibreakOn_AC = 1;
		ServerCarshotOn = 0;
		ServerAntiVehHack = 1;
		ServerAimDetect = 1;
		ServerCheckPass = 1;
		ServerRemoveNewAccs = 1;
		ServerAntiTabFast = 0;
		ServerAntiSlide = 0;
		OffRPNick = 1;
	}
	// Bonus for newbies <3 
	return 1;
}

public OnGameModeExit()
{
	for(new x; x<MAX_PLAYERS; x++)
    {
        if(noclipdata[x][cameramode] == CAMERA_MODE_FLY) CancelFlyMode(x);
    }
	for ( new i ; i != sizeof Draw ; i ++ ) TextDrawHideForAll( Draw[ i ] ), TextDrawDestroy ( Draw[ i ] );
	SaveAccounts(); // save all acs
	GangSave();
	SaveServerConfigfile();
	db_close(EDITOR_DATABASE); // save database objects
	fremove("maps/test.txt"); // Remve temp files
	DestroyDropPickups(), ResetDropPickups(); // drop weapon system
	// FerrisWheel system 
	new x=0;
    DestroyObject(gFerrisWheel);
    DestroyObject(gFerrisBase);
	x=0;
	while(x != 10) {
	    DestroyObject(gFerrisCages[x]);
		x++;
	}
	// Attach objects editor unload
	for(new i; i < MAX_PLAYERS; i++)
	{
		if(gEditingAttachments[i])
		{
			for(new j; j < MAX_PLAYER_ATTACHED_OBJECTS; j++)
			{
				if(gIndexUsed[i][j])
					RemovePlayerAttachedObject(i, j);
			}
		}
	}
	return 1;
}

public OnPlayerRequestClass(playerid, classid)
{
	//SetPlayerPos(playerid, 2800.0786,-2604.4504,10.3470);
	//SetPlayerFacingAngle(playerid, 90.000);
	//SetPlayerCameraPos(playerid, 2793.0332,-2604.2632,10.55);
	//SetPlayerCameraLookAt(playerid, 2793.0332,-2604.2632,10.55);
	//ApplyAnimation(playerid,"DANCING","dnce_M_d",4.1,0,1,1,1,1);
	SetTimerEx("TimerLogged", 3*60*1000, false, "i", playerid); // 3 minute kick
	if(ServerLocked == 1) return SendClientMessage(playerid, COLOR_SYSTEM, "Вы не можете подключиться т.к вход на сервер временно заблокирован админом!");
    else if(ServerLocked == 0) return SpawnPlayer(playerid); 
	return 0;
}

public OnIncomingConnection(playerid, ip_address[], port)
{
	new connecting_ip[32+1];
	GetPlayerIp(playerid,connecting_ip,32);
	new num_players_on_ip = GetNumberOfPlayersOnThisIP(connecting_ip);
	if(num_players_on_ip > MAX_CONNECTIONS_FROM_IP)
	{
		printf("MAX IPs: Connecting player(%d) exceeded %d IP connections from %s.", playerid, MAX_CONNECTIONS_FROM_IP, connecting_ip);
	    Kick(playerid);
	    return 1;
	}
    new watIP[25];
 	GetPlayerIp(playerid, watIP, 25);
 	if(strcmp(ipCheck, watIP, false) == 0 && ( GetTickCount() - IPtime ) < MAX_REJOIN_TIME )
 	{
 	    IPfound++;
 	    if(IPfound > MAX_CONNECT_IN_ROW) Kick(playerid), IPfound=0;
 	}
 	else IPfound=0;
	format(ipCheck, 25, "%s", watIP);
	IPtime=GetTickCount();
	return 1;
}

public OnPlayerConnect(playerid)
{
	new BuildInfo[128];
	format(BuildInfo, sizeof(BuildInfo), "~w~MOD VERSION:~y~ %s ~w~BUILD:~y~ %s", MOD_VERSION, BUILD_VERSION);
	GameTextForPlayer(playerid, BuildInfo, 8000, 0);
	new ip[16], string[59], client_version[5],serial[41];
	GetPlayerIp(playerid, ip, sizeof ip);
	gpci(playerid,serial,40);
	new actionid = 0x5, memaddr = SOBEIT, retndata = 0x4;
    SendClientCheck(playerid, actionid, memaddr, NULL, retndata);
	//PlayerPlaySound(playerid,178,1418.5199,-1628.4789,54.6056); //login sound snoopdoggydog
	format(string, sizeof string, "www.shroomery.org/ythan/proxycheck.php?ip=%s", ip);
	HTTP(playerid, HTTP_GET, string, "", "ProxyHttpResponse");
	GetPlayerVersion(playerid, client_version, sizeof(client_version)); // anti-sobeit old 0.3e versions
	if(strcmp("0.3.7", client_version)) KickEx(playerid, COLOR_SYSTEM, "Incorrect client version [Reason: Bad client version]"); // kick if version != 0.3.7
	if(IsIP(PlayerName(playerid))) KickEx(playerid, COLOR_SYSTEM, "Incorrect Nickname. [Reason: Spamer Nickname]"); // Badnick checker
	new name[MAX_PLAYER_NAME];
	GetPlayerName(playerid,name,sizeof(name));
	if(strlen(name) > 20) KickEx(playerid, COLOR_SYSTEM, "Incorrect Nickname. [Reason: Long Nickname]"); // Badnick checker
	if (strfind(name, "admin", true) != -1 || strfind(name, "moder", true) != -1 || strfind(name, "admen", true) != -1){
		KickEx(playerid, COLOR_SYSTEM, "Incorrect Nickname [Reason: Bad Nickname]");
	}
	if(fexist("HwBan.txt"))
	{
		new serialid[164];
		gpci(playerid, serialid, sizeof(serialid));
		new File:sfile = fopen("HwBan.txt", io_read);
		if(sfile)
		{
			new banstr[512];
			while(fread(sfile, banstr))
			{
				if(strfind(banstr, serialid) != -1)
				{
					KickEx(playerid, COLOR_SYSTEM, "Вы забанены на этом сервере [Reason: Banned]");
					format(log, sizeof(log), "Попытка входа забаннегого игрока по serialid: %s под ником %s с ip:%s", serialid, name, ip);
					AdmLog(log);
				}
			}
			fclose(sfile);
		}
	}
	new __IP[ 64 ];
    GetPlayerIp(playerid, __IP, 64);
    if (slotUsed{ playerid } && !strcmp( playersIP[ playerid ], __IP, true)) {
        return Ban(playerid);
    }
    GetPlayerIp( playerid, playersIP[ playerid ], 64 );
    slotUsed{ playerid } = 1;
	_clearAim(playerid); // carshot init
	//InvisCount[playerid] =  GetTickCount(); // raknet invis detect
	AimbotWarnings[playerid] = 0; // anti-cheat aim
	Votekick[playerid] = 0; // Drop voteckick 
	SetPlayerWantedLevel(playerid,0);
	SetPVarInt(playerid, "Logged",0); // No logged pl check
	SetPVarInt(playerid, "pgm", 0); // Disable GM mode
	SetPVarInt(playerid, "GodVeh", 0);
	SetPVarInt(playerid, "EnterVehicle",0);
	SetPVarInt(playerid, "KnifeTime", -1); // knifebugfix
	SetPVarInt(playerid, "KnifePlayer", INVALID_PLAYER_ID);
	SetPVarInt(playerid, "RoundDeath", 0);
	SetPVarInt(playerid, "RoundKills", 0);
	SetPVarInt(playerid, "KD", 0);
	SetPVarInt(playerid, "BonusDmHeadshots",0);
	SetPVarInt(playerid, "BonusRoadRage",0);
	SetPVarInt(playerid, "ShowDopTableTD",-1);
	RemoveDefaultRoadObjects(playerid);
	Mapfix(playerid);
	FirstpersonOn[playerid] = 0; // First person mode init
	Invis[playerid] = 0; // Admin invis
	//SetPlayerColor(playerid,playerClistColors[random(200)]); // Random clist color
	noclipdata[playerid][cameramode] = CAMERA_MODE_NONE; // flymode 
    noclipdata[playerid][lrold] = 0;
    noclipdata[playerid][udold] = 0;
    noclipdata[playerid][mode] = 0;
    noclipdata[playerid][lastmove] = 0;
    noclipdata[playerid][accelmul] = 0.0;
	for (new i = 0; i < 13; i++) { // Clean weapon control function
        WeaponData[playerid][i][0] = 0; 
        WeaponData[playerid][i][1] = 0; 
	}
	// Widescreen detect.The aspect ratio can be one of three values: 
	// 4:3 (1.3333334, Float:0x3FAAAAAB) when widescreen is turned off
	// 5:4 (1.2470589, Float:0x3F9F9FA0) when letterbox mode is turned on
	// 16:9 (1.7764707, Float:0x3FE36364) when widescreen is turned on regardless of the letterbox mode.
	if(GetPlayerCameraAspectRatio(playerid) == 1.7764707) Widescreen[playerid] = 1; else Widescreen[playerid] = 0;
	foreach(Player, i)
	{
		// Kills Combo 
		Combo[i] = CreatePlayerTextDraw(i, 484.222229, 11.795553,"_");
		PlayerTextDrawAlignment(i, Combo[i],0);
		PlayerTextDrawBackgroundColor(i, Combo[i], 255);
		PlayerTextDrawFont(i, Combo[i],1);
		PlayerTextDrawLetterSize(i, Combo[i],0.4,1.6);
		PlayerTextDrawColor(i, Combo[i], 0xFFFFFFFF);
		PlayerTextDrawSetOutline(i, Combo[i],1);
		PlayerTextDrawSetProportional(i, Combo[i],1);
		PlayerTextDrawSetShadow(i, Combo[i],1);
		PlayerTextDrawHide(i, Combo[i]);
		// Expirience and Level textdraw
		format(ExpStr, sizeof ExpStr, "Level:%d/Exp:%d", PlayerInfo[i][pLevel],PlayerInfo[i][pExp]);
		TDExp[i] = CreatePlayerTextDraw(i, 499.0, 104.0, ExpStr);
		PlayerTextDrawBackgroundColor(i,TDExp[i], 255);
		PlayerTextDrawFont(i,TDExp[i], 3);
		PlayerTextDrawLetterSize(i,TDExp[i], 0.3, 1.0);
		PlayerTextDrawColor(i,TDExp[i], 0xFFFFFFFF);
		PlayerTextDrawSetOutline(i,TDExp[i], 1);
		PlayerTextDrawSetProportional(i,TDExp[i], 1);
		// FPS and ping textdraw
		FPS[i] = CreatePlayerTextDraw(i, 5.000000,420.000000,"_");
		PlayerTextDrawAlignment(i, FPS[i],0);
		PlayerTextDrawBackgroundColor(i, FPS[i], 255);
		PlayerTextDrawFont(i, FPS[i],1);
		PlayerTextDrawLetterSize(i, FPS[i],0.3,0.7);
		PlayerTextDrawColor(i, FPS[i], 0xFFFFFFFF);
		PlayerTextDrawSetOutline(i, FPS[i],1);
		PlayerTextDrawSetProportional(i, FPS[i],1);
		PlayerTextDrawSetShadow(i, FPS[i],1);
		PlayerTextDrawHide(i, FPS[i]);
		
		FPS2[i] = CreatePlayerTextDraw(i, 499.0, 97.0,"_");
		PlayerTextDrawAlignment(i, FPS2[i],0);
		PlayerTextDrawBackgroundColor(i, FPS2[i], 255);
		PlayerTextDrawFont(i, FPS2[i],1);
		PlayerTextDrawLetterSize(i, FPS2[i],0.3,0.7);
		PlayerTextDrawColor(i, FPS2[i], 0xFFFFFFFF);
		PlayerTextDrawSetOutline(i, FPS2[i],1);
		PlayerTextDrawSetProportional(i, FPS2[i],1);
		PlayerTextDrawSetShadow(i, FPS2[i],1);
		PlayerTextDrawHide(i, FPS2[i]);
		// Speedometr speed val
		Speed[i] = CreatePlayerTextDraw(i, 498.888671, 360.080017, " ");
		PlayerTextDrawLetterSize(i, Speed[i], 0.326190, 1.493333);
		PlayerTextDrawAlignment(i,Speed[i], 1);
		PlayerTextDrawColor(i,Speed[i], -1);
		PlayerTextDrawSetShadow(i,Speed[i], 0);
		PlayerTextDrawSetOutline(i,Speed[i], 1);
		PlayerTextDrawBackgroundColor(i,Speed[i], 51);
		PlayerTextDrawFont(i,Speed[i], 2);
		PlayerTextDrawSetProportional(i,Speed[i], 1);
		// Speedometr vehicle id
		Status[i] = CreatePlayerTextDraw(i,498.888671, 375.133331, "Vehicle:");
		PlayerTextDrawLetterSize(i, Status[i], 0.257999, 1.1);
		PlayerTextDrawAlignment(i, Status[i], 1);
		PlayerTextDrawColor(i, Status[i], -1);
		PlayerTextDrawSetShadow(i, Status[i], 0);
		PlayerTextDrawSetOutline(i, Status[i], 1);
		PlayerTextDrawBackgroundColor(i, Status[i], 51);
		PlayerTextDrawFont(i, Status[i], 2);
		PlayerTextDrawSetProportional(i, Status[i], 1);
		// Speedometr vehicle hp
		VehHp[i] = CreatePlayerTextDraw(i,498.888671, 385.133331, "Hp:");
		PlayerTextDrawLetterSize(i, VehHp[i], 0.257999, 1.1);
		PlayerTextDrawAlignment(i, VehHp[i], 1);
		PlayerTextDrawColor(i, VehHp[i], -1);
		PlayerTextDrawSetShadow(i, VehHp[i], 0);
		PlayerTextDrawSetOutline(i, VehHp[i], 1);
		PlayerTextDrawBackgroundColor(i, VehHp[i], 51);
		PlayerTextDrawFont(i, VehHp[i], 2);
		PlayerTextDrawSetProportional(i, VehHp[i], 1);
		// InfoTD
		InfoTD[i] = CreatePlayerTextDraw(i,458.888671, 400.133331, "");
		PlayerTextDrawLetterSize(i, InfoTD[i], 0.257999, 1.1);
		PlayerTextDrawAlignment(i, InfoTD[i], 1);
		PlayerTextDrawColor(i, InfoTD[i], -1);
		PlayerTextDrawSetShadow(i, InfoTD[i], 0);
		PlayerTextDrawSetOutline(i, InfoTD[i], 1);
		PlayerTextDrawBackgroundColor(i, InfoTD[i], 51);
		PlayerTextDrawFont(i, InfoTD[i], 2);
		PlayerTextDrawSetProportional(i, InfoTD[i], 1);
		// HP
		PlayerHp[i] = CreatePlayerTextDraw(i,568, 64, " ");
		PlayerTextDrawLetterSize(i, PlayerHp[i], 0.257999, 1.301334);
		PlayerTextDrawAlignment(i, PlayerHp[i], 1);
		PlayerTextDrawColor(i, PlayerHp[i], -1);
		PlayerTextDrawSetShadow(i, PlayerHp[i], 0);
		PlayerTextDrawSetOutline(i, PlayerHp[i], 1);
		PlayerTextDrawBackgroundColor(i, PlayerHp[i], 51);
		PlayerTextDrawFont(i, PlayerHp[i], 2);
		PlayerTextDrawSetProportional(i, PlayerHp[i], 1);
		// Armour
		PlayerArmour[i] = CreatePlayerTextDraw(i,568, 42, " ");
		PlayerTextDrawLetterSize(i, PlayerArmour[i], 0.257999, 1.301334);
		PlayerTextDrawAlignment(i, PlayerArmour[i], 1);
		PlayerTextDrawColor(i, PlayerArmour[i], 0xFF0000AA);
		PlayerTextDrawSetShadow(i, PlayerArmour[i], 0);
		PlayerTextDrawSetOutline(i, PlayerArmour[i], 1);
		PlayerTextDrawBackgroundColor(i, PlayerArmour[i], 51);
		PlayerTextDrawFont(i, PlayerArmour[i], 2);
		PlayerTextDrawSetProportional(i, PlayerArmour[i], 1);
		// MoneyHUD
		MoneyHUDBack[i] = CreatePlayerTextDraw(i, 498.888671, 74.515586, "$000000000");
		PlayerTextDrawLetterSize(i, MoneyHUDBack[i], 0.520, 2.5);
		PlayerTextDrawAlignment(i, MoneyHUDBack[i], 1);
		PlayerTextDrawColor(i, MoneyHUDBack[i], 255);
		PlayerTextDrawSetShadow(i, MoneyHUDBack[i], 2);
		PlayerTextDrawSetOutline(i, MoneyHUDBack[i], 1);
		PlayerTextDrawBackgroundColor(i, MoneyHUDBack[i], 255);
		PlayerTextDrawFont(i, MoneyHUDBack[i], 3);
		PlayerTextDrawSetProportional(i, MoneyHUDBack[i], 0);
		
		MoneyHUD[i] = CreatePlayerTextDraw(i, 498.888671, 74.515586, "$000000000");
		PlayerTextDrawLetterSize(i, MoneyHUD[i], 0.523, 2.6);
		PlayerTextDrawAlignment(i, MoneyHUD[i], 1);
		PlayerTextDrawColor(i, MoneyHUD[i], 0x1B3104AA);
		PlayerTextDrawSetShadow(i, MoneyHUD[i], 2);
		PlayerTextDrawSetOutline(i, MoneyHUD[i], 1);
		PlayerTextDrawBackgroundColor(i, MoneyHUD[i], 255);
		PlayerTextDrawFont(i, MoneyHUD[i], 3);
		PlayerTextDrawSetProportional(i, MoneyHUD[i], 0);
		// Bonus
		BonusExp[i] = CreatePlayerTextDraw(i, 540.0, 262, "_");
		PlayerTextDrawLetterSize(i, BonusExp[i], 0.4, 1.6);
		PlayerTextDrawAlignment(i, BonusExp[i], 1);
		PlayerTextDrawColor(i, BonusExp[i], -1);
		PlayerTextDrawSetShadow(i, BonusExp[i], 0);
		PlayerTextDrawSetOutline(i, BonusExp[i], 1);
		PlayerTextDrawBackgroundColor(i, BonusExp[i], 255);
		PlayerTextDrawFont(i, BonusExp[i], 2);
		PlayerTextDrawSetProportional(i, BonusExp[i], 1);
		// objects rate info
		Objrate[i] = CreatePlayerTextDraw(i, 34, 304, "_");
		PlayerTextDrawLetterSize(i, Objrate[i], 0.3, 1.8);
		PlayerTextDrawAlignment(i, Objrate[i], 1);
		PlayerTextDrawColor(i, Objrate[i], 0xDFA906AA);
		PlayerTextDrawSetShadow(i, Objrate[i], 1);
		PlayerTextDrawSetOutline(i, Objrate[i], 0);
		PlayerTextDrawBackgroundColor(i, Objrate[i], 255);
		PlayerTextDrawFont(i, Objrate[i], 3);
		PlayerTextDrawSetProportional(i, Objrate[i], 1);
		// DamageBar
		DamageBar[i] = CreatePlayerTextDraw(i, 144.666595, 369.199859, "_");
		PlayerTextDrawLetterSize(i, DamageBar[i], 0.23, 1.5);
		PlayerTextDrawAlignment(i, DamageBar[i], 1);
		PlayerTextDrawColor(i, DamageBar[i], -1);
		PlayerTextDrawSetShadow(i, DamageBar[i], 1);
		PlayerTextDrawSetOutline(i, DamageBar[i], 0);
		PlayerTextDrawBackgroundColor(i, DamageBar[i], 255);
		PlayerTextDrawFont(i, DamageBar[i], 2);
		PlayerTextDrawSetProportional(i, DamageBar[i], 1);
		// admin spec info
		SpecPlInfo[i] = CreatePlayerTextDraw(i, 50.000000, 183.000000, "_");
		PlayerTextDrawLetterSize(i, SpecPlInfo[i], 0.3, 0.7);
		PlayerTextDrawAlignment(i, SpecPlInfo[i], 1);
		PlayerTextDrawColor(i, SpecPlInfo[i], -1);
		PlayerTextDrawSetShadow(i, SpecPlInfo[i], 1);
		PlayerTextDrawSetOutline(i, SpecPlInfo[i], 1);
		PlayerTextDrawBackgroundColor(i, SpecPlInfo[i], 255);
		PlayerTextDrawFont(i, SpecPlInfo[i], 1);
		PlayerTextDrawSetProportional(i, SpecPlInfo[i], 1);
		// Killstat
		Killstat[i] = CreatePlayerTextDraw(playerid, 5.00, 405.000000, "~w~Kills:~n~ KD:~n~ Combo:~n~");
		PlayerTextDrawBackgroundColor(playerid, Killstat[i], 255);
		PlayerTextDrawFont(playerid, Killstat[i], 3);
		PlayerTextDrawLetterSize(playerid, Killstat[i], 0.3, 0.7);
		PlayerTextDrawColor(playerid, Killstat[i], -1);
		PlayerTextDrawSetOutline(playerid, Killstat[i], 1);
		PlayerTextDrawSetProportional(playerid, Killstat[i], 1);
		PlayerTextDrawSetShadow(playerid, Killstat[i], 2);
		PlayerTextDrawSetSelectable(playerid, Killstat[i], 0);
		// LOGO
		TextDrawShowForPlayer(i,Logo);
	}
	// Global mapicons
	CreateDynamicMapIcon(771.7980, 1871.7302, 8.0956, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammolv
	CreateDynamicMapIcon(-323.2652, 831.8027, 17.5454, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammolv 2
	CreateDynamicMapIcon(2158.84, 944.64, 13.58, 6, 0,  -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammolv 3
	CreateDynamicMapIcon(2539.3831, 2087.4385, 10.8203, 6, 0,  -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammolv 4
	CreateDynamicMapIcon(1368.08, -1279.71, 13.54, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammols 5
	CreateDynamicMapIcon(2400.49, -1981.23, 13.54, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0);//ammols 6
	CreateDynamicMapIcon(386.42, -1817.87, 7.84, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammols 7
	CreateDynamicMapIcon(-2626.68, 208.50, 4.59, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammosf 8
	CreateDynamicMapIcon(-2490.47, -16.93, 25.61, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammosf 9
	CreateDynamicMapIcon(-1881.60, 823.43, 35.17, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //ammosf 10
	CreateDynamicMapIcon(1958.097167, 951.541564, 10.820312, 52, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //bank lv
	CreateDynamicMapIcon(1481.02, -1769.83, 18.79, 52, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //bank ls
	CreateDynamicMapIcon(-2765.99, 375.58, 6.33, 52, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); //bank sf
	CreateDynamicMapIcon(-2093.25, -2464.47, 30.62, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0);//ammo gyg
	CreateDynamicMapIcon(242.37, -178.34, 1.57, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); // ammo ls1
	CreateDynamicMapIcon(-1508.78, 2610.10, 55.83, 6, 0, -1, -1, -1, 2000, MAPICON_LOCAL,-1,0); // ammo lv
	// strip
	CreateDynamicMapIcon(-2591.36, 169.56, 4.60, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);//sf new 
	CreateDynamicMapIcon(693.66, 1966.66, 5.53, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(2543.23, 1024.62, 10.82, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2317.88, 2115.39, 10.82, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1455.03, 751.06, 11.02, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1145.17, -1131.44, 23.82, 17, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2638.87, 1411.10, 23.55, 17, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);//jizzy
	//pizza
	CreateDynamicMapIcon(2635.20, 1849.69, 11.02, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(2330.48, 2529.13, 10.82, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2104.64, -1806.51, 13.55, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1722.52, 1359.77, 7.18, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2314.18, 14.94, 35.32, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(203.75, -205.16, 1.57, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1367.12, 248.41, 19.56, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2332.56, 74.93, 26.62, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2501.26, 2319.31, 4.98, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2233.40, 1489.98, 11.05, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1253.31, -1860.78, 13.54, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(509.53, -1606.80, 16.30, 29, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	// bar
	CreateDynamicMapIcon(-2244.97, -88.39, 35.32, 49, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(2441.06, 2062.85, 10.82, 49, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(2307.83, -1647.68, 14.82, 49, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(386.81, -1870.66, 7.83, 49, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	CreateDynamicMapIcon(2480.95, -1536.66, 24.17, 49, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0); 
	// shops urban
	CreateDynamicMapIcon(2572.22, 1901.94, 11.02, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2779.35, 2453.49, 11.06, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2090.63, 2224.19, 11.02, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(500.23, -1359.48, 16.26, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2112.94, -1213.00, 23.96, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2490.70, -28.97, 25.61, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1695.12, 949.96, 24.89, 45, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	// Music store 
	CreateDynamicMapIcon(816.339111, -1389.564819, 13.623005, 48, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
	// Armour mapicons LV
	CreateDynamicMapIcon(1958.6893, 711.2092, 18.3140, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2362.4268,1005.2446,14.2725, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2097.6819,2491.9795,14.8390, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1680.1334,1447.4886,14.9148, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1623.8242,607.2290,7.7813, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1487.1320,2773.8616,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2456.4338,1286.8278,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1091.5046,2093.4561,15.3504, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2629.0955,1823.6030,11.0161, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2160.7744,1645.6436,11.0925, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2787.0222,2535.3171,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1997.6655,2191.9739,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1306.8239,1252.6927,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1308.4121,2084.7930,10.8203, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2843.8303,1288.6624,11.3906, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1514.72, 2522.49, 55.83, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0); // lv2
	// Armour mapicons LS
	CreateDynamicMapIcon(2489.77, -1692.13, 14.76, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2263.59, -1432.39, 23.54, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2606.53, -1125.11, 65.80, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2031.58, -1406.52, 16.74, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1766.27, -1913.06, 13.10, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1578.79, -1636.24, 13.09, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(723.48, -1484.49, 1.96, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(319.979, -1811.014, 4.444, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1108.25, -1787.27, 16.59, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(2778.24, -2450.24, 13.63, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1178.74, -1323.63, 14.13, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1892.89, -2258.50, 13.53, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	// Armour mapicons SF
	CreateDynamicMapIcon(-1976.10, 154.33, 27.69, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1952.31, 689.95, 46.56, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1615.73, 685.68, 7.18, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1652.70, 1206.62, 21.14, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2653.05, 636.59, 14.11, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2665.71, -5.29, 10.99, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2763.01, -408.90, 6.80, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2080.50, -405.23, 38.73, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1704.34, 3.07, 3.21, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1315.28, 494.18, 17.89, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-1754.84, 960.06, 24.54, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2039.12, 1105.10, 52.94, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(1480.88, 2252.60, 11.02, 33, 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);// etc baseball stadium lv
	// country
	CreateDynamicMapIcon(-304.18, 1043.26, 26.01, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-863.60, 1536.78, 25.73, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	CreateDynamicMapIcon(-2284.25, 2288.00, 9.16, 22, -1, 0, -1, -1, 250, MAPICON_LOCAL,-1,0);
	// clearchat
	for(new i = 0; i <= 100; i ++ ) SendClientMessage(playerid,COLOR_WHITE, "" );
	// Check nickname
	new NewPlayerName[24];
	GetPlayerName(playerid, NewPlayerName, sizeof(NewPlayerName));
	if(strlen(NewPlayerName) < 3)
	{
		SendClientMessage(playerid,COLOR_SYSTEM, "Your name is too short. Please change nickname and try again!");
		SendClientMessage(playerid,COLOR_SYSTEM, "Твой никнейм слишком короткий. Выбери другой и перелогинься!");
		Kick(playerid);
	}
	if(IsRPNick(NewPlayerName))
	{
		if(OffRPNick > 0){
			KickEx(playerid, COLOR_SYSTEM, "Это DM сервер и вход RP игрокам здесь закрыт!");
		}
		else
		{
			SendClientMessage(playerid,COLOR_ORANGE, "Обращаем внимание! Это DM сервер тут нет RP стрельбы и администрацией не приветствуются отыгровки.");
			SendClientMessage(playerid,COLOR_ORANGE, "Вы можете взять бессмертие через /god и наслаждаться игрой без DM но не мешайте другим игрокам.");
			SendClientMessage(playerid,COLOR_ORANGE, "За RP отыгровки в чат администрация в праве выдать мут." );
		}
	}
	// anti-cheat spawn gun
	ResetPlayerWeapons(playerid);
	// Reset enviroments
	CarSpawn[playerid] = 0;
	dmzone[playerid] = 0;
	PlayerSpectateID[playerid] = -1;
	// online counters
	TOTALPlayers++;
	ONLINE++;
	// Register and login dialog
	new account[128];
    format(account,sizeof(account),"players/%s.ini",NewPlayerName); 
    if(!fexist(account)) 
    {
		if(RegisterLocked == 1)
		{
			SendClientMessage(playerid, COLOR_SYSTEM, "Вы не можете подключиться т.к. регистрация новых аккаунтов на данный момент закрыта админом!");
			return Kick(playerid);
		}
		else if(RegisterLocked == 0) return SPD(playerid,DIALOG_REGISTER,DIALOG_STYLE_INPUT, "Registration", RegisterMessageStr, "REGISTER", "");
    }
    else
    {
		// if(strcmp(PlayerInfo[playerid][pSerial], serial, true) == 0) add later autologin here
        SPD(playerid,DIALOG_LOGIN,DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "LOGIN", "");
    }
	return 1;
}

public OnPlayerDisconnect(playerid, reason)
{
	new Disconn_PlayerName[24], str[144];
	GetPlayerName(playerid, Disconn_PlayerName, sizeof(Disconn_PlayerName));
	// Kill player exit during the fight
	if(GetPVarInt(playerid,"EscapeTime") > gettime())
	{
		SendDeathMessage(INVALID_PLAYER_ID, playerid, reason);
		PlayerInfo[playerid][pDeaths]++;
		PlayerInfo[playerid][pKills]--;
	}
	if(CarSpawn[playerid] != 0) DestroyVehicle(CarSpawn[playerid]);
	if(ServerRemoveNewAccs > 0)
	{
		if(GetPVarInt(playerid, "Logged") > 0)
		{
			if(GetPlayerScore(playerid) < 2) RemoveAccount(playerid); else SaveAccount(playerid);
		}
	}
	//SaveAccount(playerid);
	//format(str, sizeof(str), "%s отключился от сервера", Disconn_PlayerName);
	// Clear player enviroments
	ClearVars(playerid);
	_clearAim(playerid); //carshot
	Delete3DTextLabel(Pgm3D{playerid});
	SetPlayerWantedLevel(playerid,0);
	ONLINE--;
	switch(reason)
	{
		case 0:	format(str, sizeof(str), "Игрок %s[%d] вышел с сервера (Timeout)", Disconn_PlayerName, playerid);
		case 1: format(str, sizeof(str), "Игрок %s[%d] вышел с сервера (Leaving)", Disconn_PlayerName, playerid);
		case 2: format(str, sizeof(str), "Игрок %s[%d] вышел с сервера (Kicked/Banned)", Disconn_PlayerName, playerid);
	}
	//if(GetPVarInt(playerid, "Logged") == 1) SendClientMessageToAll(COLOR_LIME, str);
	SendClientMessageToAll(COLOR_LIME, str);
	slotUsed{ playerid } = 0;
	return 1;
}

public OnPlayerSpawn(playerid)
{
	SetPVarInt(playerid, "Logged",1);
	/*if(!SpecialZone(playerid)){
		for(new i = 0; i < sizeof(GangZoneId); i++)
		{
			GangZoneShowForPlayer(playerid, GangZoneId[i], 0xFFFFFFAA);
		}
	}*/
	TogglePlayerDynamicCP(playerid, SF_CityTrash, 0);
	PreloadAllAnimLibs(playerid); // Pre-load anims
	//PlayerPlaySound(playerid,190,1418.5199,-1628.4789,54.6056); //stop music
	//for(new i = 0; i < MAX_GANGZONES; i++)
	//{
	//	GangZoneShowForAll(i, COLOR_FREEZONE);
	//}
	// Show textdraws
	if(PlayerInfo[playerid][pHudOn] > 0)
	{
		PlayerTextDrawShow(playerid, TDExp[playerid]);
		PlayerTextDrawShow(playerid, Combo[playerid]);
		PlayerTextDrawShow(playerid, PlayerHp[playerid]);
		PlayerTextDrawShow(playerid, PlayerArmour[playerid]);
		PlayerTextDrawShow(playerid, MoneyHUD[playerid]);
		PlayerTextDrawShow(playerid, MoneyHUDBack[playerid]);
		TextDrawShowForPlayer(playerid, TDTime);
		TextDrawShowForPlayer(playerid, Logo);
	}
	if(PlayerInfo[playerid][pFpsBar] == 1) PlayerTextDrawShow(playerid, FPS[playerid]);
	if(PlayerInfo[playerid][pFpsBar] == 2) PlayerTextDrawShow(playerid, FPS2[playerid]);
	if(PlayerInfo[playerid][pHealthBar] > 0 && PlayerInfo[playerid][pHudOn] != 0)
	{
		PlayerTextDrawHide(playerid, PlayerHp[playerid]);
		PlayerTextDrawHide(playerid, PlayerArmour[playerid]);
	}
	else
	{
		PlayerTextDrawShow(playerid, PlayerHp[playerid]);
		PlayerTextDrawShow(playerid, PlayerArmour[playerid]);
	}
	if(PlayerInfo[playerid][pExpBar] > 0 && PlayerInfo[playerid][pHudOn] != 0) PlayerTextDrawShow(playerid, TDExp[playerid]);
	if(PlayerInfo[playerid][pBottomBar] > 0) TextDrawShowForPlayer(playerid, TDBottomBar);
	PlayerTextDrawHide(playerid, Objrate[playerid]);
	PlayerTextDrawHide(playerid, DamageBar[playerid]);
	PlayerTextDrawHide(playerid, SpecPlInfo[playerid]);
	PlayerTextDrawHide(playerid, Killstat[playerid]);
	// Attach pObjects
	SetPlayerFightingStyle(playerid, PlayerInfo[playerid][pFightStyle]);
	if(PlayerInfo[playerid][pObjGlasses] > 0) SetPlayerAttachedObject(playerid, 2, PlayerInfo[playerid][pObjGlasses], 2, 0.09, 0.04, 0, 88, 75, 0);
	switch(PlayerInfo[playerid][pObjMask])
	{
		case 1: SetPlayerAttachedObject(playerid, 1, 19036, 2, 0.107, 0.020, 0.0, 90, 90, 0);
		case 2: SetPlayerAttachedObject(playerid, 1, 19037, 2, 0.107, 0.020, 0.0, 90, 90, 0);
		case 3: SetPlayerAttachedObject(playerid, 1, 19038, 2, 0.107, 0.020, 0.0, 90, 90, 0);
		case 4: SetPlayerAttachedObject(playerid, 1, 18974, 2, 0.098, 0.0258, 0.0, 90, 90, 0);
		case 5: SetPlayerAttachedObject(playerid, 1, 18952, 2, 0.105, 0.01, 0.0, 0, 0, 0);
	}
	switch(PlayerInfo[playerid][pObjHat])
	{
		case 1: SetPlayerAttachedObject( playerid, 3, 19065, 2, 0.121128, 0.023578, 0.001139, 222.540847, 90.773872, 211.130859, 1.098305, 1.122310, 1.106640 ); // SantaHat
		case 2: SetPlayerAttachedObject( playerid, 3, 19078, 1, 0.329150, -0.072101, 0.156082, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // TheParrot1
		case 3: SetPlayerAttachedObject( playerid, 3, 18939, 2, 0.147825, 0.010626, -0.004892, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // CapBack1 - Sapca RuTeN
		case 4: SetPlayerAttachedObject( playerid, 3, 1210, 6, 0.259532, -0.043030, -0.009978, 85.185333, 271.380615, 253.650283, 1.000000, 1.000000, 1.000000 ); // briefcase - briefcase
		case 5: SetPlayerAttachedObject( playerid, 3, 19098, 2, 0.147825, 0.010626, -0.004892, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000); // farmer hat
	}
	if(GetPVarInt(playerid, "restoreSprint"))
	{
        SetPlayerVirtualWorld(playerid, g_aiSpawnInfo[playerid][0]);
        SetPlayerInterior(playerid, g_aiSpawnInfo[playerid][1]);
        SetPlayerHealth(playerid, g_afSpawnHealth[playerid]);
        SetPlayerArmour(playerid, g_afSpawnArmour[playerid]);
        for ( new i = 0; i < 13; i ++ ) {
            if (!g_aiSpawnWeapons[playerid][i] || g_anSpawnAmmo[playerid][i] < 1) {
                continue;
            }
            if(GetPVarInt(playerid,"pgm") == 0) GivePlayerWeapon(playerid, g_aiSpawnWeapons[playerid][i], g_anSpawnAmmo[playerid][i]);
        }
        DeletePVar(playerid, "restoreSprint");
    }
	else
	{
		// Set weapon on spawn for all players
		GivePlayerWeapon(playerid, 4, 1); // [==)::::> knife
		GivePlayerWeapon(playerid, 24, 200);
		GivePlayerWeapon(playerid, 25, 50);
		GivePlayerWeapon(playerid, 31, 350); 
		if(PlayerInfo[playerid][pVip] > 0)
		{
			GivePlayerWeapon(playerid, 16, 2); // grenades
			GivePlayerWeapon(playerid, 34, 50); // sniper
		}
		if(PlayerInfo[playerid][pGang] > 0 && GangInfo[GetPVarInt(playerid,"gangid")][gWeap] > 0)
		{ 
			if(GangInfo[GetPVarInt(playerid,"gangid")][gWeap] == 1){
				GivePlayerWeapon(playerid, 22, 200);
				GivePlayerWeapon(playerid, 26, 600);
				GivePlayerWeapon(playerid, 32, 900);
				//GivePlayerWeapon(playerid, 16, 1); // grenades
			}
			if(GangInfo[GetPVarInt(playerid,"gangid")][gWeap] == 2){
				GivePlayerWeapon(playerid, 24, 600);
				GivePlayerWeapon(playerid, 25, 250);
				GivePlayerWeapon(playerid, 34, 100);
				//GivePlayerWeapon(playerid, 16, 1); // grenades
			}
			GivePlayerWeapon(playerid, 31, 350);
		}
	}
	if(GetPVarInt(playerid,"pgm") > 0) ResetPlayerWeapons(playerid);
	KillSeries[playerid] = 0; // reset kill series counter
	if(pDeathMode[playerid] == 1) pDeathMode[playerid] = 0; //death mode
	if(GetPVarInt(playerid,"Jailed") > gettime())
	{
		PutInJail(playerid);
		return 1;
	}
	if(PlayerInfo[playerid][pCheater] == 1)
	{
		PutInCheatWorld(playerid);
		return 1;
	}
	if(dmzone[playerid] > 0)
	{
		ResetPlayerWeapons(playerid);
		switch(dmzone[playerid])
		{
			case 1: //dmrand
			{
				if(DmRandomArenaId == 1){
					SetPlayerWorldBounds(playerid,1435.546875,1119.140625,2865.234375,2720.703125);
					new rand = random(sizeof(Map_Golfclub));
					SetPlayerPosEx(playerid,Map_Golfclub[rand][0], Map_Golfclub[rand][1], Map_Golfclub[rand][2],0,10,0);
				}
				else if(DmRandomArenaId == 2){
					SetPlayerWorldBounds(playerid,-327,-471,2293.5,2174.5);
					new rand = random(sizeof(Map_Svobase));
					SetPlayerPosEx(playerid,Map_Svobase[rand][0], Map_Svobase[rand][1], Map_Svobase[rand][2],0,10,0);
				}
				else if(DmRandomArenaId == 3){
					SetPlayerWorldBounds(playerid,816,417,1026.5,707.5);
					new rand = random(sizeof(Map_Carier));
					SetPlayerPosEx(playerid,Map_Carier[rand][0], Map_Carier[rand][1], Map_Carier[rand][2],0,10,0);
				}
				else if(DmRandomArenaId == 4){
					SetPlayerWorldBounds(playerid,2812.00012,2665.00012,-2328.5,-2583.5);
					new rand = random(sizeof(Map_LsPort));
					SetPlayerPosEx(playerid,Map_LsPort[rand][0], Map_LsPort[rand][1], Map_LsPort[rand][2],0,10,0);
				}
				else if(DmRandomArenaId == 5){
					SetPlayerWorldBounds(playerid,2858.00012,2821.00012,-2327.5,-2552.5);
					new rand = random(sizeof(Map_LsPortShip));
					SetPlayerPosEx(playerid,Map_LsPortShip[rand][0], Map_LsPortShip[rand][1], Map_LsPortShip[rand][2],0,10,0);
				}
				else if(DmRandomArenaId == 6){
					SetPlayerWorldBounds(playerid, 635.00,-33.999,2135.500,1601.50); 
					new rand = random(sizeof(Map_Zone51));
					SetPlayerPosEx(playerid,Map_Zone51[rand][0], Map_Zone51[rand][1], Map_Zone51[rand][2],0,10,0);
				}
				GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
				new randweap = random(sizeof(dmrandom_weapons));
				GivePlayerWeapon(playerid,dmrandom_weapons[randweap],10000);
				SetPlayerHealth(playerid,100);
				SetPlayerArmour(playerid,0);
			}
			case 24://dmdeagle
			{
				if(DmDeagleArenaId == 1){
					SetPlayerWorldBounds(playerid, 2433.59375, 2138.671875, 759.765625, 626.953125);
					new rand = random(sizeof(DmDeagleSpawn));
					SetPlayerPosEx(playerid,DmDeagleSpawn[rand][0], DmDeagleSpawn[rand][1], DmDeagleSpawn[rand][2],0,10,0);
				}
				else if(DmDeagleArenaId == 2){
					SetPlayerWorldBounds(playerid, -909.5,-1301.5,-834.5,-1143.5);
					new rand = random(sizeof(Map_Graveyard));
					SetPlayerPosEx(playerid,Map_Graveyard[rand][0], Map_Graveyard[rand][1], Map_Graveyard[rand][2],0,11,0);
				}
				GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
				GivePlayerWeapon(playerid,24,10000); 
				SetPlayerHealth(playerid,100);
				SetPlayerArmour(playerid,0);
			}
			case 10: //oneshot
			{
				SetPlayerWorldBounds(playerid, 287,103,1486.5,1333.5);
				new rand = random(sizeof(DmOneShotSpawn));
				SetPlayerPosEx(playerid,DmOneShotSpawn[rand][0], DmOneShotSpawn[rand][1], DmOneShotSpawn[rand][2],0,10,0);
				GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
				GivePlayerWeapon(playerid,24,10000); 
				SetPlayerHealth(playerid,15);
				SetPlayerArmour(playerid,0);
			}
			case 9: //chainsaw
			{
				if(DmChainsawArenaId == 1){
					SetPlayerWorldBounds(playerid, 94.9999,-99.00,1619.5,1437.5); 
					new rand = random(sizeof(DmChainsawSpawn));
					SetPlayerPosEx(playerid,DmChainsawSpawn[rand][0], DmChainsawSpawn[rand][1], DmChainsawSpawn[rand][2],0,23,0);
				}
				else if(DmChainsawArenaId == 2){
					SetPlayerWorldBounds(playerid, -968,-1231,-866.5,-1093.5); //ext1hecc
					new rand = random(sizeof(DmChainsaw2Spawn));
					SetPlayerPosEx(playerid,DmChainsaw2Spawn[rand][0], DmChainsaw2Spawn[rand][1], DmChainsaw2Spawn[rand][2],0,23,0);
				}
				else if(DmChainsawArenaId == 3){
					SetPlayerWorldBounds(playerid, -5.5,-352.5,231.5,-139.5); 
					new rand = random(sizeof(Map_BobbieGuillotine));
					SetPlayerPosEx(playerid,Map_BobbieGuillotine[rand][0], Map_BobbieGuillotine[rand][1], Map_BobbieGuillotine[rand][2],0,11,0);
				}
				GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
				GivePlayerWeapon(playerid,9,1); 
				SetPlayerHealth(playerid,100);
				SetPlayerArmour(playerid,0);
			}
			case 34: //dmsniper
			{
				if(DmSniperArenaId == 1){
					SetPlayerWorldBounds(playerid, -1933.59375,-1970.703125,-720.703125,-996.09375);
					new rand = random(sizeof(DmSniperSpawn));
					SetPlayerPosEx(playerid,DmSniperSpawn[rand][0], DmSniperSpawn[rand][1], DmSniperSpawn[rand][2],0,10,0);
				}
				else if(DmSniperArenaId == 2){
					SetPlayerWorldBounds(playerid, 1278.5, 721.5, 2795.5, 2202.5); 
					new rand = random(sizeof(Map_SmallSniperArena));
					SetPlayerPosEx(playerid,Map_SmallSniperArena[rand][0], Map_SmallSniperArena[rand][1], Map_SmallSniperArena[rand][2],0,10,0);
				}
				GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
				GivePlayerWeapon(playerid,34,10000); 
				SetPlayerHealth(playerid,100);
				SetPlayerArmour(playerid,0);
			}
		}
	}
	else if(tdmzone[playerid] > 0)
	{
		ResetPlayerWeapons(playerid);
		if(tdmzone[playerid] == 1)
		{
			SetPlayerWorldBounds(playerid, 2433.59375, 2138.671875, 759.765625, 626.953125);
			new rand = random(sizeof(DmDeagleSpawn));
			SetPlayerPosEx(playerid,DmDeagleSpawn[rand][0], DmDeagleSpawn[rand][1], DmDeagleSpawn[rand][2],0,17,0);
			GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
			GivePlayerWeapon(playerid,24,10000);
			GivePlayerWeapon(playerid,25,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
		}
		if(tdmzone[playerid] == 2)
		{
			SetPlayerWorldBounds(playerid, 1404.296875, 1294.921875, 2201.171875, 2097.65625);
			new rand = random(sizeof(TDM_LamoSpawn));
			SetPlayerPosEx(playerid,TDM_LamoSpawn[rand][0], TDM_LamoSpawn[rand][1], TDM_LamoSpawn[rand][2],0,12,0);
			GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
			GivePlayerWeapon(playerid,22,10000);
			GivePlayerWeapon(playerid,26,10000);
			GivePlayerWeapon(playerid,32,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
		}
		if(tdmzone[playerid] == 3)
		{
			if(TdmSniperArenaId == 1){
				SetPlayerWorldBounds(playerid, 17.578125, -155.2734375, 184.5703125, -131.8359375);
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperSpawnRED[rand][0], TDM_SniperSpawnRED[rand][1], TDM_SniperSpawnRED[rand][2],0,15,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperSpawnBLUE[rand][0], TDM_SniperSpawnBLUE[rand][1], TDM_SniperSpawnBLUE[rand][2],0,15,0);
				}
			}
			if(TdmSniperArenaId == 2){
				SetPlayerWorldBounds(playerid, 1278.5, 721.5, 2795.5, 2202.5); 
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperSmallSpawnRED[rand][0], TDM_SniperSmallSpawnRED[rand][1], TDM_SniperSmallSpawnRED[rand][2],0,11,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperSmallSpawnBLUE[rand][0], TDM_SniperSmallSpawnBLUE[rand][1], TDM_SniperSmallSpawnBLUE[rand][2],0,11,0);
				}
			}
			if(TdmSniperArenaId == 3){
				SetPlayerWorldBounds(playerid, 2702.00, 2303.00, 1268.5, 878.5);
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperPwnSpawnRED[rand][0], TDM_SniperPwnSpawnRED[rand][1], TDM_SniperPwnSpawnRED[rand][2],0,11,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperPwnSpawnBLUE[rand][0], TDM_SniperPwnSpawnBLUE[rand][1], TDM_SniperPwnSpawnBLUE[rand][2],0,11,0);
				}
			}
			if(TdmSniperArenaId == 4){
				SetPlayerWorldBounds(playerid, 1669.046264, 2002.079711, -2756.156738, -2537.468261);
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperCsLsDustpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperCsLsDustpawnRED[rand][0], TDM_SniperCsLsDustpawnRED[rand][1], TDM_SniperCsLsDustpawnRED[rand][2],0,25,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperCsLsDustpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperCsLsDustpawnBLUE[rand][0], TDM_SniperCsLsDustpawnBLUE[rand][1], TDM_SniperCsLsDustpawnBLUE[rand][2],0,25,0);
				}
			}
			GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,34,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
		}
	}
	else if(cszone[playerid] > 0)
	{
		ResetPlayerWeapons(playerid);
		SetPlayerWorldBounds(playerid, -909.5,-1301.5,-834.5,-1143.5);
		if(team[playerid] == TEAM_RED)
		{
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,22,10000);
			GivePlayerWeapon(playerid,27,10000);
			GivePlayerWeapon(playerid,30,10000);
			GivePlayerWeapon(playerid,16,1);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			SetPlayerTeam(playerid, 1);
			SetPlayerSkin(playerid,144);
			new rand = random(sizeof(CS1_SpawnTerrorists));
			SetPlayerPosEx(playerid,CS1_SpawnTerrorists[rand][0], CS1_SpawnTerrorists[rand][1], CS1_SpawnTerrorists[rand][2],0,24,0);
			GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
		}
		if(team[playerid] == TEAM_BLUE)
		{
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,23,10000);
			GivePlayerWeapon(playerid,25,10000);
			GivePlayerWeapon(playerid,31,10000);
			GivePlayerWeapon(playerid,16,1);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			SetPlayerTeam(playerid, 2);
			SetPlayerSkin(playerid,285);
			new rand = random(sizeof(CS1_SpawnSwat));
			SetPlayerPosEx(playerid,CS1_SpawnSwat[rand][0], CS1_SpawnSwat[rand][1], CS1_SpawnSwat[rand][2],0,24,0);
			GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
		}
	}
	else if(trainingzone[playerid] > 0)
	{
		ResetPlayerWeapons(playerid);
		if(trainingzone[playerid] == 1)
		{
			SetPlayerWorldBounds(playerid, 1190, 1078, 1374.5, 1197.5);
			new rand = random(sizeof(Map_LVAutoSchool));
			SetPlayerPosEx(playerid,Map_LVAutoSchool[rand][0], Map_LVAutoSchool[rand][1], Map_LVAutoSchool[rand][2],0,20,0);
			GivePlayerWeapon(playerid,22,10000);
			GivePlayerWeapon(playerid,26,10000);
			GivePlayerWeapon(playerid,32,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
		}
		if(trainingzone[playerid] == 2)
		{
			SetPlayerWorldBounds(playerid, -1918.9453125, -1983.3984375, -711.9140625, -1007.8125);
			new rand = random(sizeof(DmSniperSpawn));
			SetPlayerPosEx(playerid,DmSniperSpawn[rand][0], DmSniperSpawn[rand][1], DmSniperSpawn[rand][2],0,20,0);
			GivePlayerWeapon(playerid,34,10000); 
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
		}
		if(trainingzone[playerid] == 3)
		{
			SetPlayerWorldBounds(playerid, -2578.125, -2715.8203125, 1482.421875, 1309.5703125);
			new rand = random(sizeof(Map_SFJizzyClub));
			SetPlayerPosEx(playerid,Map_SFJizzyClub[rand][0], Map_SFJizzyClub[rand][1], Map_SFJizzyClub[rand][2],0,20,0);
			GivePlayerWeapon(playerid,24,10000);
			GivePlayerWeapon(playerid,25,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
		}
		if(trainingzone[playerid] == 4)
		{
			SetPlayerWorldBounds(playerid, -2595.703125, -2704.1015625, 43.9453125, -67.3828125);
			new rand = random(sizeof(Map_SFChainsawTraining));
			SetPlayerPosEx(playerid,Map_SFChainsawTraining[rand][0], Map_SFChainsawTraining[rand][1], Map_SFChainsawTraining[rand][2],0,20,0);
			GivePlayerWeapon(playerid,9,1);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
		}
	}
	else if(warzone[playerid] > 0)
	{
		warzone[playerid] = 1;
		ResetPlayerWeapons(playerid);
		GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
		SetPlayerWorldBounds(playerid, 620.00012, -240.9998, 2838.5, 2182.5);
		GivePlayerWeapon(playerid,4,1);
		GivePlayerWeapon(playerid,25,10000);
		GivePlayerWeapon(playerid,31,10000);
		SetPlayerHealth(playerid,100);
		SetPlayerArmour(playerid,0);
		new rand = random(sizeof(WarzoneSpawn));
		SetPlayerPosEx(playerid,WarzoneSpawn[rand][0], WarzoneSpawn[rand][1], WarzoneSpawn[rand][2],0,22,0);
	}
	else if(survzone[playerid] > 0)
	{
		survzone[playerid] = 1;
		ResetPlayerWeapons(playerid);
		GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
		SetPlayerWorldBounds(playerid, -12.5, -915.5, -2027.499, -2814.499);
		GivePlayerWeapon(playerid,31,500);
		SetPlayerHealth(playerid,100);
		SetPlayerArmour(playerid,20);
		new rand = random(sizeof(Map_DeathDesert));
		SetPlayerPosEx(playerid,Map_DeathDesert[rand][0], Map_DeathDesert[rand][1], Map_DeathDesert[rand][2],0,10,0);
	}
	else if(GetPVarFloat(playerid,"LastPosX") != 0.0 && GetPVarFloat(playerid,"LastPosY") != 0.0 && GetPVarFloat(playerid,"LastPosZ") != 0.0)
	{
		if(dmzone[playerid] == 0 && tdmzone[playerid] == 0 && trainingzone[playerid] == 0)
		{// Fix random world spawn
			SetPlayerVirtualWorld(playerid,0);
			SetPlayerInterior(playerid,0);
			if(GetPVarInt(playerid,"pgm") > 0) SetPlayerArmour(playerid, 10000), SetPlayerHealth(playerid, 10000);
			else{
				if(PlayerInfo[playerid][pVip] > 0) SetPlayerArmour(playerid, 100.0); else SetPlayerArmour(playerid, 0.0), SetPlayerHealth(playerid, 100.0);
			}
			if(GetPVarType(playerid, "FlyMode")){
				SetPlayerPosEx(playerid,GetPVarFloat(playerid,"LastPosX"),GetPVarFloat(playerid,"LastPosY"),GetPVarFloat(playerid,"LastPosZ"),0,GetPVarInt(playerid, "LastWorld"),GetPVarInt(playerid, "LastInterior"));
				DeletePVar(playerid, "FlyMode");
			} else { SetPlayerPos(playerid,GetPVarFloat(playerid,"LastPosX"),GetPVarFloat(playerid,"LastPosY"),GetPVarFloat(playerid,"LastPosZ"));}
			//PlayerInfo[playerid][pLastPosX] = 0, PlayerInfo[playerid][pLastPosY] = 0, PlayerInfo[playerid][pLastPosZ] = 0;
		}
	}
	else
	{
		// Fix random world spawn
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerInterior(playerid,0);
		if(GetPVarInt(playerid,"pgm") > 0)
		{
			SetPlayerArmour(playerid, 10000);
			SetPlayerHealth(playerid, 10000);
		}
		else
		{
			if(PlayerInfo[playerid][pVip] > 0) SetPlayerArmour(playerid, 100.0); else SetPlayerArmour(playerid, 0.0);
			Spawnkill(playerid, 1);
		}
		if(PlayerInfo[playerid][pSavedPosX] != 0){
			SetPlayerPos(playerid,PlayerInfo[playerid][pSavedPosX], PlayerInfo[playerid][pSavedPosY], PlayerInfo[playerid][pSavedPosZ]);
		}
		else if(GangInfo[GetPVarInt(playerid,"gangid")][gPosX] != 0){
			SetPlayerPos(playerid,GangInfo[GetPVarInt(playerid,"gangid")][gPosX], GangInfo[GetPVarInt(playerid,"gangid")][gPosY], GangInfo[GetPVarInt(playerid,"gangid")][gPosZ]);
		} else {
			new rand = random(sizeof(RandomSpawn));
			SetPlayerPos(playerid,RandomSpawn[rand][0], RandomSpawn[rand][1], RandomSpawn[rand][2]);
		}
	}
	SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
	return 1;
}

public OnPlayerDeath(playerid, killerid, reason)
{
	//if(!IsPlayerConnected(killerid)) return 0;
	if(killerid == INVALID_PLAYER_ID) return 1;  
	SetPlayerWantedLevel(playerid,0);
	new SerialKillMess[128], KillBubbleMes[128];
	new SerialKiller[MAX_PLAYER_NAME];
	if(IsValidObject(firstperson[playerid])){ DestroyObject(firstperson[playerid]);FirstpersonOn[playerid] = 0;} //firstpersonfix
	if(dmzone[killerid] == 0 || tdmzone[killerid] == 0){
		SendDeathMessage(killerid, playerid, reason);
		if(!SpecialZone(playerid)) drop_player_weapons(playerid, 0);
	}
	
	KillTimer(pDeathModeTimer[playerid]);
    KillTimer(pDeathModeWait[playerid]);
    pDeathMode[playerid] = 1;
	
	GetPlayerName(killerid, SerialKiller, sizeof(SerialKiller));
	if(GetPlayerWeapon(killerid) == 38) PutInCheatWorld(killerid);
    if(ServerAntiFakeKill > 0)
	{
		Antifakekill[playerid] ++;
		SetTimerEx("Antifakekill", 1000,false,"i",playerid);
	}
	format(KillBubbleMes, sizeof(KillBubbleMes), "Убит игроком %s", PlayerName(killerid));
	SetPlayerChatBubble(playerid, KillBubbleMes, COLOR_YELLOW, 100.0, 3000);
	// chat informer
	if(PlayerInfo[killerid][pDamageInfo] > 0)
	{
		if(reason == 34)
		{
			SendFormattedText(killerid, COLOR_WHITE,"Вы убили {C0C0C0}%s{F8F8FF} с расстояния {DAA520}%.0f{F8F8FF} м.",PlayerName(playerid),GetPVarFloat(killerid,"ShotDistance"));
			if(GetPVarInt(killerid, "BonusDmHeadshots") == 10){
				SendClientMessage(playerid, COLOR_ORANGE, "Вам начислен бонус за 10 хеадшотов подряд");
				SetMoney(killerid, 20000);
				PlayerPlaySound(killerid, 1057, 0, 0, 0);
				AddExp(killerid, 50);
			}
		}
		else SendFormattedText(killerid, COLOR_WHITE,"Вы убили {C0C0C0}%s{F8F8FF} у вас осталось {DAA520}%.0f:хп {F8F8FF}и {DAA520}%.0f:брони",PlayerName(playerid),PlayerInfo[killerid][pHealth],PlayerInfo[killerid][pArmour]);
	}
	if(PlayerInfo[playerid][pDamageInfo] > 0)
	{
		SendFormattedText(playerid, COLOR_WHITE, "{F8F8FF}Вы оставили {C0C0C0}%s {DAA520}%.0f:хп {F8F8FF}и {DAA520}%.0f:брони", PlayerName(killerid),PlayerInfo[killerid][pHealth],PlayerInfo[killerid][pArmour]);
	}
	if(reason == 4)
	{
		SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за убийство игрока ножом +5.000$");
		SetMoney(killerid, 5000);
		PlayerPlaySound(killerid, 1057, 0, 0, 0);
		AddExp(killerid,20);
	}
	if(reason == 6)
	{
		SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за убийство игрока лопатой +5.000$");
		SetMoney(killerid, 5000);
		PlayerPlaySound(killerid, 1057, 0, 0, 0);
		AddExp(killerid,20);
	}
	if(reason == 8)
	{
		SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за убийство игрока катаной +5.000$");
		SetMoney(killerid, 5000);
		PlayerPlaySound(killerid, 1057, 0, 0, 0);
		AddExp(killerid,20);
	}
	if(reason == 41 || reason == 42)
	{
		SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за изощрённый способ убийства +5.000$");
		SetMoney(killerid, 5000);
		PlayerPlaySound(killerid, 1057, 0, 0, 0);
		AddExp(killerid,20);
	}
	if(reason == 49 || reason == 50)
	{
		if(IsGreenZone(killerid))
		{
			PutInJail(killerid, 5); // protection from heli pilots 
			SendClientMessage(killerid, COLOR_SYSTEM, "Ваc посадило в тюрьму за убийство в безопастной зоне [Reason: GreenZone kill]");
			return 1;
		} else {
			SetPVarInt(killerid, "BonusRoadRage", GetPVarInt(killerid, "BonusRoadRage") + 1);
			if(GetPVarInt(killerid, "BonusRoadRage") == 10){
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за убийство при помощи транспорта +10.000$");
				SetMoney(killerid, 10000);
				PlayerPlaySound(killerid, 1057, 0, 0, 0);
				AddExp(killerid,30);
			}
			SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за убийство при помощи транспорта +3.000$");
			SetMoney(killerid, 3000);
			PlayerPlaySound(killerid, 1057, 0, 0, 0);
			AddExp(killerid,10);
		}
	}
	// reward 
	if(PlayerInfo[playerid][pReward] > 100)
	{
		if (killerid != playerid)
		{
			SetMoney(playerid, PlayerInfo[playerid][pReward]);
			format(SerialKillMess, sizeof(SerialKillMess), "%s получил награду за голову %s", PlayerName(killerid), PlayerName(playerid));
			SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
		}
	}
	// Anti Drive-by
	if(killerid != INVALID_PLAYER_ID && GetPlayerState(killerid) == PLAYER_STATE_DRIVER)
    {
		new vehicleid = GetPlayerVehicleID(killerid);
		if(GetVehicleModel(vehicleid) != 425 && GetVehicleModel(vehicleid) != 432 && GetVehicleModel(vehicleid) != 447 && GetVehicleModel(vehicleid) != 520 && GetVehicleModel(vehicleid) != 476)
		{
			//GameTextForPlayer(killerid, "~R~Drive By", 5000, 1);
			SendTexdrawMessage(killerid, "~R~Drive By");
			SendClientMessage(killerid, COLOR_RED, "Убийства с водительского сиденья запрещены.");
		}
    }
	SetMoney(playerid, 100); // dirtyfix moneybug
	if(killerid != playerid && PlayerInfo[playerid][pCheater] == 0)
	{
		AddExp(killerid,10);
		DeathCounter[killerid] = 0;
		PlayerInfo[killerid][pSerialKills]++;
		PlayerInfo[killerid][pKills]++;
		// if player many dies count death disabled
		if (DeathCounter[playerid] < 5 || trainingzone[playerid] > 0)
		{
			PlayerInfo[playerid][pDeaths]++;
		}
		// drop money on hand
		if(GetPlayerVirtualWorld(playerid) == 0)
		{
			PlayerInfo[killerid][pMoney] = PlayerInfo[killerid][pMoney] + PlayerInfo[playerid][pMoney];
			PlayerInfo[playerid][pMoney] = 0;
			ResetPlayerMoney(playerid);
			SetMoney(killerid, 5000);// default kill
			SetMoney(playerid, 10000); 
		}
	}
	if(!SpecialZone(killerid)) //just for default world 
	{
		switch (PlayerInfo[killerid][pSerialKills])
		{
			case 2: SendTexdrawMessage(killerid, "~y~~>~DOUBLE KILL~<~");
			case 3:
			{
				SetMoney(killerid, 5000); AddExp(killerid,20);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 3 убийств +5.000$");
				SendTexdrawMessage(killerid, "~y~~>~TRIPLE KILL~<~");
			}
			case 6:
			{
				SetMoney(killerid, 10000);
				AddExp(killerid,20);
				if(GetPlayerVirtualWorld(killerid) == 0)
				{
					SetPlayerArmour(killerid, 100.0);
					SetPlayerHealth(killerid, 100.0);
				}
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 6 убийств +10.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s совершил серию убийств!!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
				SendTexdrawMessage(killerid, "~y~~>~SERIAL KILL~<~");
			}
			case 10:
			{
				SetMoney(killerid, 20000); AddExp(killerid,20);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 10 убийств +20.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s в ярости, совершил серию из 10 убийств!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
			}
			case 15:
			{
				SetMoney(killerid, 30000); AddExp(killerid,30);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 15 убийств +30.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s бесподобен, совершил серию из 15 убийств!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
			}
			case 20:
			{
				SetMoney(killerid, 40000); AddExp(killerid,30);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 20 убийств +40.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s маньяк со стажем, совершил серию из 20 убийств!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
			}
			case 25:
			{
				SetMoney(killerid, 50000); AddExp(killerid,35);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 25 убийств +50.000$");
			}
			case 30:
			{
				SetMoney(killerid, 60000); AddExp(killerid,35);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 30 убийств +60.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s непреодолим, совершил серию из 30 убийств!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
			}
			case 40:
			{
				SetMoney(killerid, 80000); AddExp(killerid,40);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 40 убийств +80.000$");
				format(SerialKillMess, sizeof(SerialKillMess), "%s подобен богу, совершил серию из 40 убийств!", SerialKiller);
				SendClientMessageToAll(COLOR_ORANGE, SerialKillMess);
			}
			case 50:
			{
				SetMoney(killerid, 100000);	AddExp(killerid,50);
				SendClientMessage(killerid, COLOR_ORANGE, "Вам начислен бонус за серию из 50 убийств +100.000$");
			}
		}
	}
	if(dmzone[killerid] > 0)
	{
		PlayerInfo[killerid][pDmKillsTotal]++;
		new RoundKills = GetPVarInt(killerid,"RoundKills");
		SetPVarInt(killerid,"RoundKills", RoundKills++);
		new RoundDeath = GetPVarInt(playerid,"RoundDeath");
		SetPVarInt(playerid,"RoundDeath", RoundDeath++);
		if(dmzone[killerid] != 10) SetPlayerHealth(killerid, 100);// if !dmoneshot 
		SetMoney(killerid, 50);
		if(dmzone[killerid] == 24)
		{
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,24: AddExp(killerid,35);
				default: PutInCheatWorld(killerid);
			}
		}
		if(dmzone[killerid] == 10)
		{
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,24: AddExp(killerid,35);
				default: PutInCheatWorld(killerid);
			}
		}
		if(dmzone[killerid] == 9)
		{
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,9: AddExp(killerid,35);
				default: PutInCheatWorld(killerid);
			}
		}
		if(dmzone[killerid] == 34)
		{
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,34: AddExp(killerid,35);
				default: PutInCheatWorld(killerid);
			}
		}
	}
	if(survzone[killerid] > 0)
	{
		switch(GetPlayerWeapon(killerid))
		{
			case 16 .. 32: AddExp(killerid,25);
			default: PutInCheatWorld(killerid);
		}
	}
	if(tdmzone[killerid] > 0)
	{
		PlayerInfo[killerid][pDmKillsTotal]++;
		SetPlayerHealth(killerid, 100);
		SetMoney(killerid, 60);
		if(tdmzone[killerid] == 1)
		{
			if(team[killerid] == TEAM_RED) tdmdeagle_score_red += 1;
			if(team[killerid] == TEAM_BLUE) tdmdeagle_score_blue += 1;
			SendFormattedText(killerid, COLOR_WHITE,"Team score: {FF0000}RED {FFFFFF}team:{FF0000}%d  {FFFFFF}-   {0000FF}BLUE {FFFFFF}team:{0000FF}%d", tdmdeagle_score_red, tdmdeagle_score_blue);
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,24,25: AddExp(killerid,45);
				default: PutInCheatWorld(killerid);
			}
		}
		if(tdmzone[killerid] == 2)
		{
			if(team[killerid] == TEAM_RED) tdmlamo_score_red += 1;
			if(team[killerid] == TEAM_BLUE) tdmlamo_score_blue += 1;
			SendFormattedText(killerid, COLOR_WHITE,"Team score: {FF0000}RED {FFFFFF}team:{FF0000}%d  {FFFFFF}-   {0000FF}BLUE {FFFFFF}team:{0000FF}%d", tdmlamo_score_red, tdmlamo_score_blue);
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,22,26,32: AddExp(killerid,45);
				default: PutInCheatWorld(killerid);
			}
		}
		if(tdmzone[killerid] == 3)
		{
			if(team[killerid] == TEAM_RED) tdmsniper_score_red += 1;
			if(team[killerid] == TEAM_BLUE) tdmsniper_score_blue += 1;
			SendFormattedText(killerid, COLOR_WHITE,"Team score: {FF0000}RED {FFFFFF}team:{FF0000}%d  {FFFFFF}-   {0000FF}BLUE {FFFFFF}team:{0000FF}%d", tdmsniper_score_red, tdmsniper_score_blue);
			switch(GetPlayerWeapon(killerid))
			{
				case 0,1,4,34: AddExp(killerid,45);
				default: PutInCheatWorld(killerid);
			}
		}
	}
	if(cwzone[killerid] > 0)
	{
		if(team[killerid] == TEAM_ATTACKERS) ATTACKERS_SCORE++;
		if(team[killerid] == TEAM_DEFENDERS) DEFENDERS_SCORE++;
	}
	if(trainingzone[killerid] > 0)
	{
		AddExp(killerid, 10);
	}
	SetPVarFloat(playerid, "LastPosX", 0);
	SetPVarFloat(playerid, "LastPosY", 0);
	SetPVarFloat(playerid, "LastPosZ", 0);
	if(PlayerInfo[playerid][pLevel] < 10 && !SpecialZone(playerid)) SendClientMessage(playerid, COLOR_INFO, "Если вас убьют вы теряете деньги на руках, храните их в банке.");
	return 1;
}

public OnClientCheckResponse(playerid, actionid, memaddr, retndata)
{
	switch(retndata)
	{
		case 0xA0: SendClientMessage(playerid, COLOR_WHITE,"Loading..");
		default:
		{
			SendClientMessage(playerid, COLOR_SYSTEM,"Installed illegal mod, remove sobeit");
			Kick(playerid);
		}
	}
	return 1;
}

public OnPlayerGiveDamage(playerid, damagedid, Float:amount, weaponid) 
{
	if(desync[playerid] > 0 || desync[damagedid] > 0) return 0;
	SetPVarInt(playerid,"EscapeTime",gettime() + 10);
	SetPVarInt(damagedid,"EscapeTime",gettime() + 10);
	return 1;
}

public OnPlayerGiveDamageDynamicActor(playerid, actorid, Float:amount, weaponid, bodypart)
{
	if(PlayerInfo[playerid][pAdmin] >= 3){
		new string[128], Float:pos[3];
		GetDynamicActorPos(actorid, pos[0], pos[1], pos[2]);
		format(string, sizeof(string), "~w~actorid:~y~%i ~n~~w~%.2f, %.2f, %.2f", actorid, pos[0], pos[1], pos[2]); 
		SendTexdrawMessage(playerid, string);
		return 1;
	}
	//ApplyDynamicActorAnimation(actorid, "BLOWJOBZ", "BJ_Stand_Loop_P", 4.1, 1, 0, 0, 0, 0);
	return 1;
}

bool:IsPlayerAimingAtPlayer(playerid, target)
{
    new Float:x, Float:y, Float:z;
    GetPlayerPos(target, x, y, z);
    if (IsPlayerAimingAt(playerid, x, y, z-0.75, 0.25)) return true;
    if (IsPlayerAimingAt(playerid, x, y, z-0.25, 0.25)) return true;
    if (IsPlayerAimingAt(playerid, x, y, z+0.25, 0.25)) return true;
    if (IsPlayerAimingAt(playerid, x, y, z+0.75, 0.25)) return true;
    return false;
}

public OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{
	//This function will only work when lag compensation is enabled. 
	/* The standard value range
	new Float:WeaponRange[] =
	{
		45.0, // 22 - Colt 45
		45.0, // 23 - Silenced
		45.0, // 24 - Deagle
		50.0, // 25 - Shotgun
		45.0, // 26 - Sawed-off
		50.0, // 27 - Spas
		45.0, // 28 - UZI
		55.0, // 29 - MP5
		100.0, // 30 - AK47
		120.0, // 31 - M4
		45.0, // 32 - Tec9
		110.0, // 33 - Cuntgun
		320.0, // 34 - Sniper
		0.0, // 35 - Rocket launcher
		0.0, // 36 - Heatseeker
		0.0, // 37 - Flamethrower
		85.0  // 38 - Minigun
	};  
	*/
	/*
	Colt 45: 10-15/shot, 17 rounds per clip.
	Silenced Colt: 10-15/shot, 17 rounds per clip.
	Desert Eagle: 46/shot, 7 rounds per clip.

	Tec-9/ Uzi: 10/shot, 50 rounds per clip.
	MP5: 25/shot, 30 rounds per clip.

	Shotgun: 5/pellet (range varies), pump action.
	Sawn-Off Shotgun: 10/pellet (range varies), 2 shells per reload.
	Combat Shotgun: 15/pellet (range varies), 7 rounds per clip.

	M4: 19/shot, 50 rounds per clip.
	AK-47: 10/shot, 30 rounds per clip.

	Rifle: 25/shot, bolt action.
	Sniper Rifle: 41/shot, bolt action.
	*/
	//Weapon crasher FIX by JernejL
	//* PROBLEM:  	Illegal weapons and bullets can crash server.
	//* SOLUTION:    Detect under OnPlayerWeaponShot and desync when invalid.
	if (weaponid < 22 || weaponid > 38)
 	{
	 	return 0;
	}
	new	Float:x, Float:y, Float:z;
    GetPlayerPos(playerid, x, y, z);
	if (! (-20000.0 <= z <= 20000.0))
 	{
	 	return 0;
	}
	// end weapon fix
	new shots = GetPVarInt(playerid,"Shots");
	SetPVarInt(playerid,"Shots", shots++);
	if(weaponid == 38 && GetPVarInt(playerid,"pAdmin") < 3) PutInCheatWorld(playerid);
    if(hittype == BULLET_HIT_TYPE_PLAYER)
	{
		//new szString[144];
		new Float:distance,
		Float:fOriginX, Float:fOriginY, Float:fOriginZ,
		Float:fHitPosX, Float:fHitPosY, Float:fHitPosZ;
		GetPlayerLastShotVectors(playerid, fOriginX, fOriginY, fOriginZ, fHitPosX, fHitPosY, fHitPosZ);
		distance = VectorSize(fOriginX-fHitPosX, fOriginY-fHitPosY, fOriginZ-fHitPosZ);
		SetPVarFloat(playerid,"ShotDistance",floatabs(distance));
		// counters
		new shothits = GetPVarInt(playerid,"Shothits");
		SetPVarInt(playerid,"Shothits", shothits++);
		// anticheat. check-range shots to keep track of cheats to increase the range when players are shooting with an Uzi from a distance of m4 available
		switch(weaponid)
		{
			case 22..29, 32: 
			{
				if(distance >= 60){
					new weaponname[24];
					GetWeaponName(weaponid, weaponname, sizeof (weaponname));
					SendClientMessage(playerid, COLOR_SYSTEM, "Вас отправило в чит мир по причине несоответствия дальности выстрелов стандартным значениям.[Reason: Damage hacks]");
					SendFormattedText(playerid, COLOR_SYSTEM, "Weapon %s weaponid: %d distance: %f", weaponname, weaponid, distance);
					PutInCheatWorld(playerid);
				}
			}
		}
		// debug info
		//format(szString, sizeof(szString), "Попадание в игрока %s с расстояния %.0f метров", PlayerName(hitid), floatabs(distance));
		// format(lsString, sizeof(lsString), "Last Shot Information: Origin: %f, %f, %f. Hit position: %f, %f, %f", fOriginX, fOriginY, fOriginZ, fHitPosX, fHitPosY, fHitPosZ);
		// debug info if(PlayerInfo[playerid][pDamageInfo] > 0) SendClientMessage(playerid, COLOR_GREY, szString);
		
	}
	if(ServerAimDetect > 0)
	{
		switch(weaponid){ case 0..18, 39..54: return 1;}//invalid weapons
	 
		if(hittype == BULLET_HIT_TYPE_PLAYER && IsPlayerConnected(hitid) && !IsPlayerNPC(hitid))
		{
			new Float:Shot[3], Float:Hit[3];
			GetPlayerLastShotVectors(playerid, Shot[0], Shot[1], Shot[2], Hit[0], Hit[1], Hit[2]);
	 
			new playersurf = GetPlayerSurfingVehicleID(playerid);
			new hitsurf = GetPlayerSurfingVehicleID(hitid);
			new Float:targetpackets = NetStats_PacketLossPercent(hitid);
			new Float:playerpackets = NetStats_PacketLossPercent(playerid);
	 
			if(~(playersurf) && ~(hitsurf) && !IsPlayerInAnyVehicle(playerid) && !IsPlayerInAnyVehicle(hitid))
			{			
				if(!IsPlayerAimingAtPlayer(playerid, hitid) && !IsPlayerInRangeOfPoint(hitid, 5.0, Hit[0], Hit[1], Hit[2]))
				{
					new string[128], issuer[24];
					GetPlayerName(playerid, issuer, 24);
					AimbotWarnings[playerid] ++;
					//format(string, sizeof(string), " %s возможно использует aimbot or lag [Target PL: %f | Shooter PL:%f]!", issuer, targetpackets, playerpackets);
					SendAdminMessage(COLOR_RED, string);
					if(AimbotWarnings[playerid] > 10)
					{
						if(targetpackets < 1.2 && playerpackets < 1.2) return PutInCheatWorld(playerid);
						else
						{	      
							format(string, sizeof(string), " %s отправлен в чит-мир по причине [AIM]!", issuer);
							SendAdminMessage(COLOR_RED, string);
						}
					}
					return 0;
				}
				else return 1;		    
			}
			else return 1;
		}
		if(hittype != BULLET_HIT_TYPE_NONE) // bounds arena aiming
		{
			if(!(BULLET_HIT_TYPE_NONE <= hittype <= BULLET_HIT_TYPE_PLAYER_OBJECT)) return 0;
			if(!(-1000.0 <= fX <= 1000.0) || !(-1000.0 <= fY <= 1000.0) || !(-1000.0 <= fZ <= 1000.0)) return 0;
		}
		// NORELOAD AC Anti-NoReload & Anti-RapidFire Creator: JR_Junior
		if(IsWeaponWithAmmo(weaponid) && weaponid != 38)//Not works with Minigun, sometimes get false positives!
		{
			
			new count = 0;
			if(weaponid != CurrentWeapon[playerid]) CurrentWeapon[playerid] = weaponid, CurrentAmmo[playerid] = GetPlayerWeaponAmmo(playerid,weaponid), count++;
			if(GetPlayerWeaponAmmo(playerid,weaponid) > CurrentAmmo[playerid] || GetPlayerWeaponAmmo(playerid,weaponid) < CurrentAmmo[playerid])
			{
				
				CurrentAmmo[playerid] = GetPlayerWeaponAmmo(playerid,weaponid);
				NoReloading[playerid] = 0;
				count++;
			}
			if(GetPlayerWeaponAmmo(playerid,weaponid) != 0 && GetPlayerWeaponAmmo(playerid,weaponid) == CurrentAmmo[playerid] && count == 0)
			{
				
				NoReloading[playerid]++;
				if(NoReloading[playerid] >= 7)
				{
					
					NoReloading[playerid] = 0;
					CurrentWeapon[playerid] = 0;
					CurrentAmmo[playerid] = 0;
					new string[144];
					format(string,sizeof(string),"Игрок %s[%d] отправлен в чит-мир по причине: [No-reload]",PlayerName(playerid),playerid);
					SendAdminMessage(COLOR_ADM,string);
					AdmLog(string);
					PutInCheatWorld(playerid);
					//Ban(playerid);
					return 0; //Returning 0 so that the damage doesn't occur and also the rest codes under OnPlayerWeaponShot won't get called.
				}
			}
		}
	}
	//format(szString, sizeof(szString), "Weapon %i fired. hittype: %i   hitid: %i   pos: %f, %f, %f", weaponid, hittype, hitid, fX, fY, fZ);
    //SendClientMessage(playerid, -1, szString);
    return 1;
}

public OnPlayerTakeDamage(playerid, issuerid, Float: amount, weaponid, bodypart)
{  
	if(desync[playerid] > 0) return 0;
	if(GetPVarInt(playerid,"pgm") > 0) SendTexdrawMessage(issuerid, "~w~Player is ~r~GM");
	if(pAfk[playerid] == 1)	SendTexdrawMessage(issuerid, "~w~Player is ~g~inactive");
    if(issuerid != INVALID_PLAYER_ID)
    {
		new Float:HP;
		if(bodypart == 9 && (weaponid == 34 || weaponid == 33 || weaponid == 31))
		{
			Headshots[issuerid]++;
			SendTexdrawMessage(issuerid, "~y~Headshot");
			if(dmzone[playerid] == 34){
				SetPlayerHealth(playerid, 0);
				SetPVarInt(issuerid, "BonusDmHeadshots", GetPVarInt(issuerid,"BonusDmHeadshots") + 1);
			}
		}
		/*GetPlayerHealth(playerid, HP);
		if(HP <= 15)
        {
            //SetPlayerHealth(playerid, 100);
            TogglePlayerControllable(playerid, false);
            SetTimerEx("PlayerDeathMode", 1500, false,"i", playerid);
        }*/
		issuer_FPS = floatabs(GetPlayerFPS(issuerid));
		issuer_Ping = GetPlayerPing(issuerid);
		issuer_Loss = NetStats_PacketLossPercent(issuerid);
		if(GetPVarInt(issuerid,"pgm") > 0)
		{
			SetTimerEx("Freeze",1000*10,false,"i",issuerid);
			TogglePlayerControllable(issuerid, 0);
			SendClientMessage(issuerid, COLOR_SYSTEM, "Бессмертным запрещено наносить урон!");
			SendTexdrawMessage(issuerid, "~r~No fighting on GM");
		}
		if(IsGreenZone(issuerid) || GetPlayerInterior(issuerid) == 4)
		{
			if(GetPlayerState(issuerid) == PLAYER_STATE_ONFOOT)
			{
				SetTimerEx("Freeze",1000*6,false,"i",issuerid);
				TogglePlayerControllable(issuerid, 0);
				SendClientMessage(issuerid, COLOR_INFO, "DM protect: В данной зоне запрещен дм!");
			}
		}
		new playsound = PlayerInfo[issuerid][pBell];
		if(PlayerInfo[issuerid][pBell] > 0) PlayerPlaySound(issuerid,playsound,0,0,0);
		if(team[playerid] == team[issuerid] && tdmzone[playerid] > 0)
		{
			GetPlayerHealth(playerid, HP); 
  			if(GetPlayerWeapon(issuerid)) SetPlayerHealth(playerid, HP-0); 
			return 1;
		}
		if(PlayerInfo[issuerid][pGang] == PlayerInfo[playerid][pGang] && PlayerInfo[issuerid][pGang] > 0)
		{
			GetPlayerHealth(playerid, HP); 
  			if(GetPlayerWeapon(issuerid)) SetPlayerHealth(playerid, HP-0); 
			return 0;
		}
		PlayerTextDrawShow(playerid, DamageBar[playerid]);
		PlayerTextDrawShow(issuerid, DamageBar[issuerid]);
		if(PlayerInfo[issuerid][pDamageInfo] > 0)
		{
			SetPVarInt(playerid,"EscapeTime",gettime() + 10);
			SetPVarInt(issuerid,"EscapeTime",gettime() + 10);
			//new string[128];
			new weaponname[24], victim[MAX_PLAYER_NAME], attacker[MAX_PLAYER_NAME];
			GetPlayerName(playerid, victim, sizeof (victim));
			GetPlayerName(issuerid, attacker, sizeof (attacker));
			GetWeaponName(weaponid, weaponname, sizeof (weaponname));
			new BubbleDamage[16];
			format(BubbleDamage, sizeof(BubbleDamage), "- %.0f",amount);
			if(GetPVarInt(playerid,"pgm") == 0 && PlayerInfo[issuerid][pGang] != PlayerInfo[playerid][pGang]) SetPlayerChatBubble(playerid, BubbleDamage, 0xFF0000FF, 100.0, 1500);
			//format(string, sizeof(string), "%s нанес урон %.0f здоровья %s, оружием: %s.", attacker, amount, victim, weaponname);
			//format(string, sizeof(string), "%s повредил %d на %.0f здоровья %s, оружие: %s", attacker, bodypart, amount, victim, weaponname);
			//if(GetPVarInt(playerid,"pgm") == 0) SendClientMessage(issuerid, COLOR_GREY, string);
		}
		if(weaponid == 52) return 0; // police boat id 430
	}
	return 1;
}

IPacket:UNOCCUPIED_SYNC(playerid, BitStream:bs)
{
    new unoccupiedData[PR_UnoccupiedSync];
 
    BS_IgnoreBits(bs, 8);
    BS_ReadUnoccupiedSync(bs, unoccupiedData);
 
    if(floatcmp(floatabs(unoccupiedData[PR_roll][0]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_roll][1]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_roll][2]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_direction][0]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_direction][1]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_direction][2]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_position][0]), 20000.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_position][1]), 20000.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_position][2]), 20000.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_angularVelocity][0]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_angularVelocity][1]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_angularVelocity][2]), 1.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_velocity][0]), 100.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_velocity][1]), 100.00000) == 1
        || floatcmp(floatabs(unoccupiedData[PR_velocity][2]), 100.00000) == 1
    ) {
        return false;
    }
    return true;
}

/* IPacket:VEHICLE_SYNC(playerid, BitStream:bs)
{
	// Bad sync, now diasabled.fix it later...
    //InvisCount[playerid] = GetTickCount();
    new inCarData[PR_InCarSync];
    BS_IgnoreBits(bs, 8);
    BS_ReadInCarSync(bs, inCarData);
    new Float:x, Float:y, Float:z;
   	GetPlayerPos(playerid, x, y, z);
	if(GetDistanceBetweenPoints(x,y,z,inCarData[PR_position][0],inCarData[PR_position][1],inCarData[PR_position][2])>5.0)
	{
        new string[256];
        format(string, sizeof(string), "%s[%d] возможно использует VehFlooder!", PlayerName(playerid),playerid);
        SendClientMessageToAll(-1, string);
        SetVehiclePos(inCarData[PR_vehicleId], x,y,z);
        SetVehicleHealth(inCarData[PR_vehicleId], 1000);
 	}
    ProccessVehFloodCheckCar(playerid, inCarData[PR_velocity][0], inCarData[PR_velocity][1], inCarData[PR_velocity][2]);
    BS_SetWriteOffset(bs, 8);
    BS_WriteInCarSync(bs, inCarData);
    return 1;
} */

public OnIncomingPacket(playerid, packetid, BitStream:bs)
{
/* 	if((GetTickCount() - InvisCount[playerid]) > 30000 && packetid!=200)
	{
		new string[256];
		format(string, sizeof(string), "%s[%i] возможно использует Invis!", PlayerName(playerid), playerid);
		SendAdminMessage(COLOR_ADM, string);
		InvisCount[playerid] = GetTickCount();
	} */
    if (packetid == PLAYER_SYNC)
    {
        new onFootData[PR_OnFootSync];

        BS_IgnoreBits(bs, 8); // ignore packetid (byte)
        BS_ReadOnFootSync(bs, onFootData);

        if (onFootData[PR_surfingVehicleId] != 0 &&
            onFootData[PR_surfingVehicleId] != INVALID_VEHICLE_ID
        ) {
            if ((floatabs(onFootData[PR_surfingOffsets][0]) >= 10.0) ||
                (floatabs(onFootData[PR_surfingOffsets][1]) >= 10.0) ||
                (floatabs(onFootData[PR_surfingOffsets][2]) >= 10.0)
            ) {
                return 0; // ignore bad packet
            } 
        }
		// anti cleo fly
		if(onFootData[PR_animationId] == 958 && onFootData[PR_weaponId] != WEAPON_PARACHUTE || onFootData[PR_animationId] == 959 && onFootData[PR_weaponId] != WEAPON_PARACHUTE){
			if(GetPVarInt(playerid,"TimeDive") < gettime() && PlayerInfo[playerid][pLevel] < 10){
				new string[144];
				format(string,sizeof(string),"Игрок %s[%d] отправлен в чит-мир по причине: [CleoFly]",PlayerName(playerid),playerid);
				SendAdminMessage(COLOR_ADM,string);
				SendClientMessage(playerid, COLOR_SYSTEM, "Вы были отправлены в чит мир по причине: [CleoFly]");
				AdmLog(string);
				string[0] = EOS;
				PutInCheatWorld(playerid);
			}
		}
    }
	if (packetid == PASSENGER_SYNC)
    {
		if(GetPlayerVehicleSeat(playerid) == 0){
			new string[144];
			format(string,sizeof(string),"Игрок %s[%d] отправлен в чит-мир по причине: [Anti-CrasherHack (InvalidSeat)]",PlayerName(playerid),playerid);
			SendAdminMessage(COLOR_ADM,string);
			SendClientMessage(playerid, COLOR_SYSTEM, "Вы были отправлены в чит мир по причине: [Anti-CrasherHack (InvalidSeat)]");
			AdmLog(string);
			string[0] = EOS;
			PutInCheatWorld(playerid);
		}
	}
	if (packetid == BULLET_SYNC)
    {
		new bulletData[PR_BulletSync];
		BS_IgnoreBits(bs, 8);
		BS_ReadBulletSync(bs, bulletData);
		if(PlayerInfo[playerid][pAdmin] == 0 && bulletData[PR_weaponId] == WEAPON_MINIGUN){
			new string[144];
			format(string,sizeof(string),"Игрок %s[%d] отправлен в чит-мир по причине: [Anti-Invisible Weapon Minigun]",PlayerName(playerid),playerid);
			SendAdminMessage(COLOR_ADM,string);
			AdmLog(string);
			string[0] = EOS;
			PutInCheatWorld(playerid);
		}
	}
	if (packetid == VEHICLEDESTROYED_SYNC)
    {
		// part of AntiVehicleSpawn
		new vehicleid;
		BS_ReadUint16(bs, vehicleid);
		if (GetVehicleModel(vehicleid) < 400 || vehicleid == 0)
		{
			return 0;
		}
		return OnVehicleDeathRequest(vehicleid, playerid);
	}
    return 1;
}
public OnVehicleSpawn(vehicleid)
{
	return 1;
}

public OnVehicleDeath(vehicleid, killerid)
{
	return 1;
}

public OnVehicleDeathRequest(vehicleid, killerid)
{
    new Float:health;
    GetVehicleHealth(vehicleid, health);
    if (health >= 250.0)
    {
        return 0;
    }
    return 1;
}

public OnUnoccupiedVehicleUpdate(vehicleid, playerid, passenger_seat, Float:new_x, Float:new_y, Float:new_z, Float:vel_x, Float:vel_y, Float:vel_z)
{
	//Simple VehSync
	//new Float: VPos[3];
    //GetVehiclePos(vehicleid, VPos[0], VPos[1], VPos[2]);
    //if(VPos[0] != VehPos[0][vehicleid] || VPos[1] != VehPos[1][vehicleid] || VPos[2] != VehPos[2][vehicleid]) SetVehiclePos(vehicleid, VehPos[0][vehicleid], VehPos[1][vehicleid], VehPos[2][vehicleid]);
	
	// Anti vehteleporter
	// Disable. A lot of false positives
	/*static
		Float:distance,
		Float:max_distance,
		Float:pos_x,
		Float:pos_y,
		Float:pos_z,
		Float:angle;

	GetVehiclePos(vehicleid, pos_x, pos_y, pos_z);
	GetVehicleZAngle(vehicleid, angle);
	distance = VectorSize(pos_x - new_x, pos_y - new_y, pos_z - new_z);
	max_distance = 50;

	if (distance > max_distance && pos_z > -45.0) {
		// report
		new string[256];
		format(string, sizeof(string), "%s[%i] отправлен в чит-мир по причине [Vehicle teleport]!", PlayerName(playerid), playerid);
		SendAdminMessage(COLOR_ADM, string);
		PutInCheatWorld(playerid);
		// set right pos and angle
		SetVehiclePos(vehicleid, pos_x, pos_y, pos_z);
		SetVehicleZAngle(vehicleid, angle);
		return 0;
	}*/
	return 1;
}

public OnTrailerUpdate(playerid, vehicleid)
{
	// Anti-cheat Vehicle-attaching
	switch(GetVehicleModel(vehicleid))
	{
		case 403,514,515: {}
		default: if(IsTrailerAttachedToVehicle(vehicleid)) DetachTrailerFromVehicle(vehicleid);
	}
    return 0;
}

public OnPlayerText(playerid, text[])
{
	new string[128];
	//if(text[0] == '.')//point ot slash
	//{
	//	text[0] = '/';
	//	OnPlayerCommandText(playerid,text);
	//	return 0; 
	//}
	// Clanchat
	if(text[0] == '!' || text[1] == '!' || text[2] == '!' && PlayerInfo[playerid][pGang] > 0)
	{
		strdel(text, 0, 1); // delete ! symbol
		if(GetPVarInt(playerid, "GangMute") == 0)
		{ 
			foreach(Player,i)
			{
				if(PlayerInfo[playerid][pGang] == PlayerInfo[i][pGang])
				{
					PlayerPlaySound(i, 45400, 0.0, 0.0, 0.0);// clanchatsound
					format(string, 128, "%s[%d] [Cоклан]: %s" ,PlayerName(playerid), playerid, text);
					SendClientMessage(i, COLOR_CYAN, string);
				}
			}
		}
		else SendClientMessage(playerid, COLOR_YELLOW, "Вы заглушены в клан-чате");
		return 0;
	}
	//Adminchat
	if(text[0] == '#' || text[1] == '#' || text[2] == '#' && PlayerInfo[playerid][pAdmin] >= 1)
  	{
		new admchatstr[128], name[24];
		GetPlayerName(playerid, name, 24);
		format(admchatstr, 128, "{ff3333}[Admin Chat] %s[%d]: %s", name,playerid, text[1]);
		SendClientMessage(playerid,COLOR_WHITE,admchatstr);
		return 0;
	}
	// chatparsers
	if(CloseCmdAccess[playerid] > 0) return 0;
	if(PlayerInfo[playerid][pCommonChatOFF] > 0) return 0;
	if(GetPVarInt(playerid,"Muted") > gettime())
	{
		new mz_string[128];
		format(mz_string, sizeof(mz_string), "Вы заглушены оставшееся время заглушки %d(сек)",(GetPVarInt(playerid,"Muted") - gettime()) );
		SendClientMessage(playerid, COLOR_YELLOW, mz_string);
		//format(text, 128, "[DirtyRoom] %s[%d]: %s", PlayerName(playerid), playerid, text);
		//foreach(Player,i)
		//{
		//	if(GetPVarInt(i, "DirtyRoom") > 0 || GetPVarInt(i,"Muted") > gettime()) SendClientMessage(i, COLOR_DIRTY, text);
		//}
		return 0;
	}
	if(PlayerInfo[playerid][pChatColor] == 0) format(PlayerInfo[playerid][pChatColor], 7, "FFFFFF");
	if(ServerAntiflood == 1)
	{
		if(GetPVarInt(playerid,"ANTIFLOOD") > gettime())
		{
			SendClientMessage(playerid, COLOR_YELLOW, "Предупреждение: Не флудите!");
			return 0;
		}
		SetPVarInt(playerid,"ANTIFLOOD",gettime()+3);
	}
	if(ServerAntiReklama == 1)
	{
		if(IsIP(text))
		{
			SendClientMessage(playerid, COLOR_RED, "Подозрение на рекламу!");
			format(string,sizeof(string),"[Спамер] %s[%d] игрок пытался ввести IP либо сайт.", PlayerName(playerid), playerid);
			SendAdminMessage(COLOR_ADM, string);
			SendAdminMessage(COLOR_ADM, text);
			return 0;
		}
	}
	// Censore
	if(ServerCensore == 1 && GetPVarInt(playerid, "DirtyRoom") == 0)
	{
		if(strcmp(text, "петух", true) == 0 || strcmp(text, "нулина", true) == 0 || strcmp(text, "питух", true) == 0)
		{
			SetPVarInt(playerid,"Muted", gettime() + (5*60));
			if(PlayerInfo[playerid][pVip] == 0) SetPlayerSkin(playerid, 167);
			SendFormattedTextToAll(COLOR_LIGHTGREEN, "Игрок %s[%i] был автоматически заглушен системой на 5 минут.", PlayerName(playerid), playerid);
			return false;
		}
		if(strcmp(text, "чит", true) == 0 || strcmp(text, "аим", true) == 0 || strcmp(text, "собейт", true) == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "Используй /report для отправки жалобы. Читер увидит сообщение в чате и может отключить читы");
			return false;
		}
		if(strcmp(text, "мама", true) == 0 || strcmp(text, "mq", true) == 0 || strcmp(text, "сестр", true) == 0 || strcmp(text, "маму", true) == 0)
		{
			SetPVarInt(playerid,"Muted", gettime() + (60*60));
			SendFormattedTextToAll(COLOR_LIGHTGREEN, "Игрок %s[%i] был автоматически заглушен системой на 1 час", PlayerName(playerid), playerid);
			return false;
		}
		if(BadWordsCheck(text))
		{
			SetPVarInt(playerid,"Muted", gettime() + (15*60));
			SendFormattedTextToAll(COLOR_LIGHTGREEN, "Игрок %s[%i] был автоматически заглушен системой на 15 минут.", PlayerName(playerid), playerid);
			format(string,sizeof(string),"[Blocked mess] %s[%d]>> %s", PlayerName(playerid), playerid, text);
			SendAdminMessage(COLOR_ADM, string);
			return false;
		}
	}
	// global anticaps
	if(ChatAnticaps > 0) if(IsTextUppercase(text)) UpperToLower(text);
	// muted chat
	if(GetPVarInt(playerid, "DirtyRoom") > 0)
	{
		format(text, 128, "[DirtyRoom] %s[%d]: %s", PlayerName(playerid), playerid, text);
		foreach(Player,i)
		{
			if(GetPVarInt(i, "DirtyRoom") > 0)  SendClientMessage(i, COLOR_DIRTY, text);
		}
		return 0;
	}
	// global chat
	if(text[0] == '*')
	{
		strdel(text, 0, 1); // delete * symbol
		if(strlen(text) >= 80)// chat text transfer to the second line if text is more than 80 characters
		{
			new mess[128];
			SetPlayerChatBubble(playerid, text, 0xFFFFFFAA, 100.0, 20000);
			strmid(string,text,64,128,128);
			strdel(text,64,128);
			format(text, 104, "%s[%d]: {%s}%s", PlayerName(playerid), playerid, PlayerInfo[playerid][pChatColor], text);
			foreach(Player,i)
			{
				if(PlayerInfo[i][pCommonChatOFF] == 0)  SendClientMessage(i, GetPlayerColor(playerid), text);
			}
			//SendClientMessageToAll(GetPlayerColor(playerid),text);
			format(mess, 88, "%s[%d]: {%s}%s", PlayerName(playerid), playerid, PlayerInfo[playerid][pChatColor], string);
			//SendClientMessageToAll(GetPlayerColor(playerid),mess);
			foreach(Player,i)
			{
				if(PlayerInfo[i][pCommonChatOFF] == 0)  SendClientMessage(i, GetPlayerColor(playerid), mess);
				if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
				{ 
					ApplyAnimation(playerid,"PED","IDLE_chat",4.1,0,1,1,1,1);
					SetTimerEx("ClearAnimations", 1400, 0, "d", playerid);
				}
			}
			return 0;
		}
		else
		{
			SetPlayerChatBubble(playerid, text, 0xFFFFFFAA, 100.0, 20000);
			format(text, 104, "%s [%d]: {%s}%s", PlayerName(playerid), playerid, PlayerInfo[playerid][pChatColor], text);
			//SendClientMessageToAll(GetPlayerColor(playerid),text);
			foreach(Player,i)
			{
				if(PlayerInfo[i][pCommonChatOFF] == 0)  SendClientMessage(i, GetPlayerColor(playerid), text);
				if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
				{ 
					ApplyAnimation(playerid,"PED","IDLE_chat",4.1,0,1,1,1,1);
					SetTimerEx("ClearAnimations", 1400, 0, "d", playerid);
				}
			}
			return 0;
		}
	}
	// radius chat
	//GetPlayerName(playerid, sendername, sizeof(sendername));
	format(string, 128, "%s [%d] (рядом): {%s}%s" ,PlayerName(playerid), playerid, PlayerInfo[playerid][pChatColor], text);
	//if(strfind(string, "@", true) != -1) strreplace(string, "@", PlayerName(playerid));
	ProxDetector(20.0, playerid, string, GetPlayerColor(playerid), GetPlayerColor(playerid), GetPlayerColor(playerid), GetPlayerColor(playerid), GetPlayerColor(playerid));
	return 0;
}

public OnPlayerCommandText(playerid, cmdtext[])
{
	return 0;
}

// Replaced by PAWNCMD plugin
/* public OnPlayerCommandPerformed(playerid, cmdtext[],success)
{
	if(CloseCmdAccess[playerid] == 1)
	{
		SendClientMessage(playerid, COLOR_RED, "Вам запрещен доступ к командам!");
		return 0;
	}
    return 1;
}   */

public OnPlayerCommandReceived(playerid, cmd[], params[], flags)
{
	if(CloseCmdAccess[playerid] == 1 && !IsPlayerAdmin(playerid)) return 0;
	if ((flags & ADMIN_CMD) && GetPVarInt(playerid,"pAdmin") == 0) return 0;	
	if ((flags & VIP_CMD) && PlayerInfo[playerid][pVip] == 0) return 0;	
	//if ((flags & CW_CMD) && cwzone[playerid] == 0) return 0;	
    return 1; 
}

public OnPlayerCommandPerformed(playerid, cmd[], params[], result, flags)
{
    if(result == -1){
		//SendClientMessage(playerid, 0xFFFFFFFF, "SERVER: Unknown command.");
		//GameTextForPlayer(playerid, "~w~Unknown command", 3000, 1); 
		//PlayerTextDrawSetString(playerid,InfoTD[playerid], "~r~Unknow ~w~command!");
		//PlayerTextDrawShow(playerid, InfoTD[playerid]);
		SendTexdrawMessage(playerid, "~r~Unknow ~w~command!");
		PlayerPlaySound(playerid, 1135, 0, 0, 0);//bad command
		return 0;
	}  
    return 1; 
} 

public OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
	new Float:x,Float:y,Float:z;
   	switch(GetVehicleModel(vehicleid))
	{
		case 520:
		{
			// Hydra sniper bug fix - When entering a hydra aircraft with sniper rifle, it disturbs the view/camera
			if(GetPlayerWeapon(playerid) == 34) SetPlayerArmedWeapon(playerid, 0);
		    if(!IsPlayerAdmin(playerid) || GetPlayerVirtualWorld(playerid) == 6)
		    {
				if(GetPVarInt(playerid,"pgm") > 0)
				{
					GetPlayerPos(playerid,x,y,z);
					SetPlayerPos(playerid,x,y,z);
					RemovePlayerFromVehicle(playerid);
					SendClientMessage(playerid,COLOR_RED,"Можно смотреть но руками не трогать!");
				}
		    }
		}
		case 406,407,430,432,425,447,464,476,601:
		{
			if(GetPVarInt(playerid,"pgm") > 0)
			{
				GetPlayerPos(playerid,x,y,z);
				SetPlayerPos(playerid,x,y,z);
				RemovePlayerFromVehicle(playerid);
				SendClientMessage(playerid,COLOR_YELLOW,"Недоступно в режиме бессмертия");
			}
		}
		case 416: //refill players health
		{
			if(PlayerInfo[playerid][pLevel] > 10) SendClientMessage(playerid, COLOR_INFO, "Данный транспорт используется только для восстановления хп, им нельзя управлять");
			new engine, lights, alarm, doors, bonnet, boot, objective;
			GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
			SetVehicleParamsEx(vehicleid,false,false,false,false,false,false,false);
			if(GetPVarInt(playerid,"pgm") > 0)
			{
				GetPlayerPos(playerid,x,y,z);
				SetPlayerPos(playerid,x,y,z);
				RemovePlayerFromVehicle(playerid);
			}
			else
			{
				SetPlayerHealth(playerid, 100);
				RemovePlayerFromVehicle(playerid);
			}
		}
		case 409, 412, 428, 461, 490, 442, 508, 532, 600 ,603:
		{
			new bool:finded = false;
			foreach(Player,i) { if(CarSpawn[i] == vehicleid) finded = true; }
			if(finded == false){
				TogglePlayerDynamicCP(playerid, SF_CityTrash, 1);
				TrashMapicon = CreateDynamicMapIcon(-916.672302, -500.956115, 26.937171, 11, 0, -1, -1, -1, 1500, MAPICON_GLOBAL,-1,0);
				SendClientMessage(playerid, COLOR_INFO, "Вы можете доставить этот транспорт по метке и получить вознаграждение");
			}
		}
	}
	SetPVarInt(playerid,"EnterVehicle",1);
	//ApplyAnimation(playerid,"FAT","IDLE_tired",4.0,1,0,0,0,0,1);
	return 1;
}

public OnEnterExitModShop(playerid, enterexit, interiorid)
{
	//Fixes a bug when a player does not debit money in the workshop
    if(enterexit == 0) SetMoney(playerid,1); 
    return 1;
}

public OnPlayerExitVehicle(playerid, vehicleid)
{
	if(Invis[playerid] == 1) EraseVehicle(vehicleid);
	if(GetVehicleModel(vehicleid) == 449) SetCameraBehindPlayer(playerid);
	SetPVarInt(playerid,"EnterVehicle",0);
	TogglePlayerDynamicCP(playerid, SF_CityTrash, 0);
	DestroyDynamicMapIcon(TrashMapicon);
	if(g_veh[playerid] != 0){
		RemovePlayerFromVehicle(g_veh[playerid]);
		g_veh[playerid] = 0;
	}
	return 1;
}

public OnPlayerStateChange(playerid, newstate, oldstate)
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(newstate == PLAYER_STATE_DRIVER || newstate == PLAYER_STATE_PASSENGER)
    {
        SetPlayerArmedWeapon(playerid,0);
    }
	if(oldstate == PLAYER_STATE_WASTED && newstate == PLAYER_STATE_SPAWNED)
	{
		if(PlayerSpec[playerid] != -1)
		{
			foreach(Player, i)
			{
				if(IsPlayerConnected(i))
				{
					if(PlayerSpectateID[i] == playerid) UpdateSpectatingStatus(i, playerid);
				}
			}
		}
	}
	if(oldstate == PLAYER_STATE_ONFOOT && newstate == PLAYER_STATE_PASSENGER)
    {
        new bool:DRIVER;
        foreach(Player, i)
		{
            if(GetPlayerVehicleID(i) != vehicleid) continue;
            if(GetPlayerVehicleSeat(i) != 0) continue;
            DRIVER = true;
            break;
        }
        if(!DRIVER)
        {
            SendClientMessage(playerid, COLOR_YELLOW, "В этом транспорте нет водителя!");
            RemovePlayerFromVehicle(playerid);
        }
    }
	if(newstate == PLAYER_STATE_DRIVER && GetPVarInt(playerid,"pgm") != 0) // antifall
	{
        g_veh[playerid] = GetPlayerVehicleID(playerid);
	}
	else if(newstate == PLAYER_STATE_ONFOOT && oldstate == PLAYER_STATE_DRIVER && GetPVarInt(playerid,"pgm") != 0)
	{
		//switch (GetVehicleModel(vehicleid)){
			//case 509,481,510,461,462,463,448,581,521,522,523,586,468,471: PutPlayerInVehicle(playerid, g_veh[playerid], 0);
		//}
		PutPlayerInVehicle(playerid, g_veh[playerid], 0);
	}
	if(ServerAntiVehHack > 0)
	{
		if(IsPlayerInAnyVehicle(playerid) || newstate == PLAYER_STATE_DRIVER || newstate == PLAYER_STATE_PASSENGER)
		{
			pVehicles[playerid]++;
			SetTimerEx("VehicleEnterReset", 3000, 0, "i", playerid);
			if(pVehicles[playerid] >= 3)
			{
			    SendClientMessage(playerid, COLOR_RED, "ANTI-CHEAT: Вас отправило в ЧМ по подозрению [VEHICLE HACKS]");
				PutInCheatWorld(playerid);
			}
		}
	}
	return 1;
}

public OnPlayerEnterCheckpoint(playerid)
{
	return 1;
}

public OnPlayerLeaveCheckpoint(playerid)
{
	return 1;
}

public OnPlayerEnterRaceCheckpoint(playerid)
{
	return 1;
}

public OnPlayerLeaveRaceCheckpoint(playerid)
{
	return 1;
}

public OnRconCommand(cmd[])
{
	return 1;
}

public OnPlayerRequestSpawn(playerid)
{
	return 1;
}

public OnObjectMoved(objectid)
{
	if(objectid != gFerrisWheel) return 0;
    SetTimer("RotateWheel",3*1000,0);
    return 1;
}

public OnPlayerObjectMoved(playerid, objectid)
{
	return 1;
}
 
public OnPlayerPickUpPickup(playerid, pickupid)
{
	//https://wiki.sa-mp.com/wiki/Pickup_help#Pickup_Type
	if(GetPVarInt(playerid,"pgm") == 0)
	{
		//new string[128];
		for(new i = 0; i < MAX_PICKUPS; i++) {		
			if(pickupid == DropInfo[i][ID] && DropInfo[i][ID] != -1) {	
				if(DropInfo[i][Type] == 1) {
					//SendClientMessage(playerid, COLOR_YELLOW, "You picked up medic kit. (+10 hp)");
					new Float: HP;
					GetPlayerHealth(playerid, HP);
					if(HP < 50) SetPlayerHealth(playerid, HP+50);
					else SetPlayerHealth(playerid, 100);
				}
				else {
					new gunname[32];
					GetWeaponName(DropInfo[i][Weapon], gunname, sizeof(gunname));
					//format(string, sizeof(string), "You picked up weapon %s (%d ammo).", gunname, DropInfo[i][Ammo]);
					//SendClientMessage(playerid, COLOR_PICK, string);
					GivePlayerWeapon(playerid, DropInfo[i][Weapon], DropInfo[i][Ammo]);
				}			
				DestroyPickup(DropInfo[i][ID]);
				Delete3DTextLabel(DropInfo[i][Label]);
				DropInfo[i][Type] = 0;
				DropInfo[i][ID] = -1;
				PlayerPlaySound(playerid, 1150, 0.0, 0.0, 10.0);	
			}	
		}
	}
	return 1;
}

public OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
	if(pickupid == ArmourAmmoPickup){
		SetPlayerArmour(playerid, 100);
		SetMoney(playerid,-100);
	}
	if(pickupid == VipArmourPickup1){
		SetPlayerArmour(playerid, 100);
		SetMoney(playerid,-100);
	}
	if(pickupid == AmmoVipPickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		if(PlayerInfo[playerid][pVip] > 0 || PlayerInfo[playerid][pAdmin] > 0) SetPlayerPosEx(playerid,300.534484, -72.544860, 1001.515625, 0,0,4);
		else SendClientMessage(playerid, COLOR_INFO, "Вход только для VIP");
	}
	if(pickupid == AmmoVipPickupOut)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		if(PlayerInfo[playerid][pVip] > 0 || PlayerInfo[playerid][pAdmin] > 0) SetPlayerPosEx(playerid,301.527221, -79.502754, 1001.515625, 182.048324,0,4);
		else SendClientMessage(playerid, COLOR_INFO, "Вход только для VIP");
	}
	if(pickupid == AmmoPickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 1;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625, 0,0,4);
	}
	if(pickupid == Ammo2PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 2;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo3PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 3;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo4PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 4;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo5PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 5;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo6PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 6;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo7PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 7;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo8PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 8;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo9PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 9;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo10PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 10;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo11PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 11;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo12PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 12;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == Ammo13PickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		AmmoInt[playerid] = 13;
		SetPlayerPosEx(playerid,286.800994,-82.547599,1001.515625,0,0,4);
	}
	if(pickupid == AmmoPickupOut)
	{
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		if(AmmoInt[playerid] == 1) SetPlayerPosEx(playerid,2153.1233,942.8078,10.8203,0,0,0);
		if(AmmoInt[playerid] == 2) SetPlayerPosEx(playerid,2536.0776,2083.7642,10.8203,0,0,0);
		if(AmmoInt[playerid] == 3) SetPlayerPosEx(playerid,780.0023,1871.4041,4.8989,0,0,0);
		if(AmmoInt[playerid] == 4) SetPlayerPosEx(playerid,-312.6954,830.3723,15.1333,0,0,0);
		if(AmmoInt[playerid] == 5) SetPlayerPosEx(playerid,1364.230468, -1280.023437, 13.546875,0,0,0);
		if(AmmoInt[playerid] == 6) SetPlayerPosEx(playerid,2400.517578, -1977.935180, 13.546875,0,0,0);
		if(AmmoInt[playerid] == 7) SetPlayerPosEx(playerid,383.293701, -1817.707885, 7.833105,0,0,0);
		if(AmmoInt[playerid] == 8) SetPlayerPosEx(playerid,-2626.228515, 211.592071, 4.608609,0,0,0);
		if(AmmoInt[playerid] == 9) SetPlayerPosEx(playerid,-2494.761230, -16.499082, 25.765625,0,0,0);
		if(AmmoInt[playerid] == 10) SetPlayerPosEx(playerid,-1884.608398, 826.225402, 35.172172,0,0,0);
		if(AmmoInt[playerid] == 11) SetPlayerPosEx(playerid,-2091.570068, -2462.125976, 30.625000,0,0,0);
		if(AmmoInt[playerid] == 12) SetPlayerPosEx(playerid,238.814590, -178.609054, 1.578125,0,0,0);
		if(AmmoInt[playerid] == 13) SetPlayerPosEx(playerid,-1508.612182, 2607.612060, 55.835937,0,0,0);
	}
	if(pickupid == Bank1)
	{
		BankInt[playerid] = 1;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,2143.8938,1615.0919,993.6882,0,0,1);
	}
	if(pickupid == Bank2)
	{
		BankInt[playerid] = 2;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,2143.8938,1615.0919,993.6882,0,0,1);
	}
	if(pickupid == Bank3)
	{
		BankInt[playerid] = 3;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,2143.8938,1615.0919,993.6882,0,0,1);
	}
	if(pickupid == BankOut)
	{
		if(BankInt[playerid] == 1) SetPlayerPosEx(playerid, 1958.668212, 946.589965, 10.820312,0,0,0);
		if(BankInt[playerid] == 2) SetPlayerPosEx(playerid, 1480.360473, -1764.980102, 18.795755,0,0);
		if(BankInt[playerid] == 3) SetPlayerPosEx(playerid, -2762.317382, 375.531829, 5.580818,0,0);
	}
	if(pickupid == Church1)
	{
		ChurchInt[playerid] = 1;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,-1963.306518, 1203.215087, 75.612586, 89.026313, 22, 1);
	}
	if(pickupid == Church2)
	{
		ChurchInt[playerid] = 2;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,-1963.306518, 1203.215087, 75.612586, 89.026313, 22, 1);
	}
	if(pickupid == Church3)
	{
		ChurchInt[playerid] = 3;
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,-1963.306518, 1203.215087, 75.612586, 89.026313, 22, 1);
	}
	if(pickupid == ChurchOut)
	{
		if(ChurchInt[playerid] == 1) SetPlayerPosEx(playerid,-1982.576293, 1118.112426, 53.125534, 282.605804, 0, 0);
		if(ChurchInt[playerid] == 2) SetPlayerPosEx(playerid, 2485.923828, 918.282836, 10.820312, 89.927856, 0, 0);
		if(ChurchInt[playerid] == 3) SetPlayerPosEx(playerid, -2484.215087, 2405.191162, 16.195499, 120.007415, 0, 0);
	}
	if(pickupid == ChurchIndulg)
	{
		SetPlayerWantedLevel(playerid, 0);
		SendClientMessage(playerid, COLOR_INFO, "Вам отпустили грехи, приходите на исповедь в воскресенье");
	}
	if(pickupid == UrbanShopIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 1;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 2;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 3;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn4)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 4;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn5)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 5;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn6)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 6;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopIn7)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		ShopInt[playerid] = 7;
		SetPlayerPosEx(playerid,203.777999,-48.492397,1001.804687,0,0,1);
	}
	if(pickupid == UrbanShopOut)
	{
		SendClientMessage(playerid, COLOR_INFO, "{ffffff}Купленная одежда и аксессуары со временем слетают, ведь ничто не вечно");
		if(ShopInt[playerid] == 1) SetPlayerPosEx(playerid,2572.039794, 1900.686767, 11.023437, 0, 0, 0);
		if(ShopInt[playerid] == 2) SetPlayerPosEx(playerid,2777.037841, 2453.037597, 11.062500, 0, 0, 0);
		if(ShopInt[playerid] == 3) SetPlayerPosEx(playerid,2091.029052, 2221.843017, 10.820312, 0, 0, 0);
		if(ShopInt[playerid] == 4) SetPlayerPosEx(playerid,501.302062, -1356.985961, 16.132812, 0, 0, 0);
		if(ShopInt[playerid] == 5) SetPlayerPosEx(playerid,2112.783203, -1215.551391, 23.968864, 0, 0, 0);
		if(ShopInt[playerid] == 6) SetPlayerPosEx(playerid,-2495.140380, -29.325080, 25.765625, 0, 0, 0);
		if(ShopInt[playerid] == 7) SetPlayerPosEx(playerid,-1697.906982, 947.184387, 24.890625, 0, 0, 0);
	}
	if(pickupid == Shop24In1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 1;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 2;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 3;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In4)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 4;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In5)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 5;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In6)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 6;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In7)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 7;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In8)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 8;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In9)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 9;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In10)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 10;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In11)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 11;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In12)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 12;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In13)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 13;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In14)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 14;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In15)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 15;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In16)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 16;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In17)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 17;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In18)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 18;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In19)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 19;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In20)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 20;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In21)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 21;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In22)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 22;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In23)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 23;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In24)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 24;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In25)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 25;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In26)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 26;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In27)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 27;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In28)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 28;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In29)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 29;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In30)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 30;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In31)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 31;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In32)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 32;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In33)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 33;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In34)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 34;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In35)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 35;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In36)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 36;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In37)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 37;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In38)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 38;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In39)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 39;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In40)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 40;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In41)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 41;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In42)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 42;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In43)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 43;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In44)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 44;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In45)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 45;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In46)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 46;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In47)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 47;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24In48)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Shop24Int[playerid] = 48;
		SetPlayerPosEx(playerid,-19.769964, -183.626846, 1003.546875,0,0,17);
	}
	if(pickupid == Shop24Out)
	{
		if(Shop24Int[playerid] == 1) SetPlayerPosEx(playerid,2546.415283, 1970.828125, 10.820312, 178.915008, 0, 0);
		if(Shop24Int[playerid] == 2) SetPlayerPosEx(playerid,2638.108886, 1126.460815, 10.820312, 178.537261, 0, 0);
		if(Shop24Int[playerid] == 3) SetPlayerPosEx(playerid,2615.656494, 1658.088867, 10.820312, 356.958496, 0, 0);
		if(Shop24Int[playerid] == 4) SetPlayerPosEx(playerid,2097.857177, 2221.445068, 10.820312, 175.158859, 0, 0);
		if(Shop24Int[playerid] == 5) SetPlayerPosEx(playerid,1933.725219, 2307.363769, 10.820312, 91.358192, 0, 0);
		if(Shop24Int[playerid] == 6) SetPlayerPosEx(playerid,1602.353393, 2220.048828, 11.062500, 228.508834, 0, 0);
		if(Shop24Int[playerid] == 7) SetPlayerPosEx(playerid,1431.696533, 2620.017089, 11.392614, 274.531188, 0, 0);
		if(Shop24Int[playerid] == 8) SetPlayerPosEx(playerid,2150.337158, 2736.497558, 11.176349, 357.992706, 0, 0);
		if(Shop24Int[playerid] == 9) SetPlayerPosEx(playerid,2247.254394, 2399.112792, 10.820312, 354.722595, 0, 0);
		if(Shop24Int[playerid] == 10) SetPlayerPosEx(playerid,1318.980468, 1256.173950, 10.820312, 1.221572, 0, 0);
		if(Shop24Int[playerid] == 11) SetPlayerPosEx(playerid,661.014404, 1717.733276, 7.187500, 33.713390, 0, 0);
		if(Shop24Int[playerid] == 12) SetPlayerPosEx(playerid,-200.650238, 1184.024780, 19.742187, 268.778808, 0, 0);
		if(Shop24Int[playerid] == 13) SetPlayerPosEx(playerid,-324.414398, 1536.766235, 75.562500, 267.838958, 0, 0);
		if(Shop24Int[playerid] == 14) SetPlayerPosEx(playerid,-546.479675, 2593.912109, 53.583782, 269.217834, 0, 0);
		if(Shop24Int[playerid] == 15) SetPlayerPosEx(playerid,-250.094070, 2605.571044, 62.858154, 319.248962, 0, 0);
		if(Shop24Int[playerid] == 16) SetPlayerPosEx(playerid,-1275.701904, 2710.302978, 50.266281, 119.362388, 0, 0);
		if(Shop24Int[playerid] == 17) SetPlayerPosEx(playerid,-1463.116577, 1870.840820, 32.632812, 212.556564, 0, 0);
		if(Shop24Int[playerid] == 18) SetPlayerPosEx(playerid,-748.743835, 1588.581176, 26.960937, 131.446014, 0, 0);
		if(Shop24Int[playerid] == 19) SetPlayerPosEx(playerid,-2537.517822, 2322.636230, 4.984375, 2.193566, 0, 0);
		if(Shop24Int[playerid] == 20) SetPlayerPosEx(playerid,-2428.174804, -183.880477, 35.320312, 236.377456, 0, 0);
		if(Shop24Int[playerid] == 21) SetPlayerPosEx(playerid,-2442.938476, 749.074829, 35.178627, 184.113952, 0, 0);
		if(Shop24Int[playerid] == 22) SetPlayerPosEx(playerid,-2763.983886, 789.572753, 52.781250, 271.770385, 0, 0);
		if(Shop24Int[playerid] == 23) SetPlayerPosEx(playerid,-1806.893676, 904.632751, 24.890625, 319.350433, 0, 0);
		if(Shop24Int[playerid] == 24) SetPlayerPosEx(playerid,-1671.842895, 429.611968, 7.179687, 231.985671, 0, 0);
		if(Shop24Int[playerid] == 25) SetPlayerPosEx(playerid,-82.367958, -1171.383911, 2.207332, 73.009498, 0, 0);
		if(Shop24Int[playerid] == 26) SetPlayerPosEx(playerid,29.932226, -2660.435302, 40.538349, 84.070556, 0, 0);
		if(Shop24Int[playerid] == 27) SetPlayerPosEx(playerid,-1572.769531, -2726.625000, 48.743457, 63.367668, 0, 0);
		if(Shop24Int[playerid] == 28) SetPlayerPosEx(playerid,-2106.296142, -2434.569091, 30.625000, 136.908981, 0, 0);
		if(Shop24Int[playerid] == 29) SetPlayerPosEx(playerid,334.042938, -1341.526611, 14.507812, 207.992721, 0, 0);
		if(Shop24Int[playerid] == 30) SetPlayerPosEx(playerid,877.889953, -1568.885253, 13.539081, 200.386444, 0, 0);
		if(Shop24Int[playerid] == 31) SetPlayerPosEx(playerid,1352.103759, -1756.257080, 13.507812, 0.816373, 0, 0);
		if(Shop24Int[playerid] == 32) SetPlayerPosEx(playerid,1829.383422, -1842.675170, 13.578125, 89.836723, 0, 0);
		if(Shop24Int[playerid] == 33) SetPlayerPosEx(playerid,995.361083, -1299.493041, 13.389896, 180.758483, 0, 0);
		if(Shop24Int[playerid] == 34) SetPlayerPosEx(playerid,997.205444, -919.995849, 42.179687, 100.172210, 0, 0);
		if(Shop24Int[playerid] == 35) SetPlayerPosEx(playerid,1315.768920, -901.544738, 39.570823, 175.139404, 0, 0);
		if(Shop24Int[playerid] == 36) SetPlayerPosEx(playerid,2143.109619, -1176.548950, 23.992187, 268.110290, 0, 0);
		if(Shop24Int[playerid] == 37) SetPlayerPosEx(playerid,2354.152832, -1530.086547, 24.000000, 9.064815, 0, 0);
		if(Shop24Int[playerid] == 38) SetPlayerPosEx(playerid,2712.673095, -1499.151977, 30.453125, 258.141723, 0, 0);
		if(Shop24Int[playerid] == 39) SetPlayerPosEx(playerid,2421.034423, -1740.291870, 13.546875, 41.012153, 0, 0);
		if(Shop24Int[playerid] == 40) SetPlayerPosEx(playerid,2493.452880, -1955.268554, 13.409244, 5.752308, 0, 0);
		if(Shop24Int[playerid] == 41) SetPlayerPosEx(playerid,2720.656005, -2033.465209, 13.547199, 93.304275, 0, 0);
		if(Shop24Int[playerid] == 42) SetPlayerPosEx(playerid,976.951660, -766.381591, 112.200485, 1.774205, 0, 0);
		if(Shop24Int[playerid] == 43) SetPlayerPosEx(playerid,141.118423, -203.067138, 1.578125, 139.629104, 0, 0);
		if(Shop24Int[playerid] == 44) SetPlayerPosEx(playerid,1373.455444, 463.839447, 20.033819, 161.695266, 0, 0);
		if(Shop24Int[playerid] == 45) SetPlayerPosEx(playerid,1312.724853, 323.432312, 19.554687, 209.446304, 0, 0);
		if(Shop24Int[playerid] == 46) SetPlayerPosEx(playerid,673.991333, -521.595947, 16.328144, 228.671569, 0, 0);
		if(Shop24Int[playerid] == 47) SetPlayerPosEx(playerid,2319.106201, -92.172943, 26.484375, 184.880111, 0, 0);
		if(Shop24Int[playerid] == 48) SetPlayerPosEx(playerid,893.050415, 1908.584228, 10.820312, 272.312561, 0, 0);
	}
	if(pickupid == PizzaIn1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 1;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 2;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 3;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn4)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 4;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn5)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 5;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn6)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 6;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn7)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 7;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn8)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 8;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn9)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 9;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn10)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 10;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn11)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 11;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaIn12)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		PizzaInt[playerid] = 12;
		SetPlayerPosEx(playerid,371.552429, -130.435440, 1001.492187,0,0,5);
	}
	if(pickupid == PizzaOut)
	{
		if(PizzaInt[playerid] == 1) SetPlayerPosEx(playerid,2634.568847, 1849.302612, 11.023437, 0, 0, 0);
		if(PizzaInt[playerid] == 2) SetPlayerPosEx(playerid,2331.097412, 2529.578125, 10.820312, 176.093292, 0, 0);
		if(PizzaInt[playerid] == 3) SetPlayerPosEx(playerid,2100.298828, -1806.741821, 13.554687, 89.978393, 0, 0);
		if(PizzaInt[playerid] == 4) SetPlayerPosEx(playerid,-1726.465332, 1358.982055, 7.187500, 93.147430, 0, 0);
		if(PizzaInt[playerid] == 5) SetPlayerPosEx(playerid,-2320.857421, 14.862968, 35.320312, 88.914878, 0, 0);
		if(PizzaInt[playerid] == 6) SetPlayerPosEx(playerid,203.759918, -205.167770, 1.578125, 174.880157, 0, 0);
		if(PizzaInt[playerid] == 7) SetPlayerPosEx(playerid,1359.940551, 251.669311, 19.566932, 62.792484, 0, 0);
		if(PizzaInt[playerid] == 8) SetPlayerPosEx(playerid,2337.775634, 75.016426, 26.479238, 265.208892, 0, 0);
		if(PizzaInt[playerid] == 9) SetPlayerPosEx(playerid,-2502.104492, 2323.256835, 4.984375, 1.306711, 0, 0);
		if(PizzaInt[playerid] == 10) SetPlayerPosEx(playerid,2237.720703, 1489.956787, 10.820312, 264.199798, 0, 0);
		if(PizzaInt[playerid] == 11) SetPlayerPosEx(playerid,1252.968994, -1857.746704, 13.546875, 1.632547, 0, 0);
		if(PizzaInt[playerid] == 12) SetPlayerPosEx(playerid,507.765289, -1603.206054, 15.848935, 1.856356, 0, 0);
	}
	if(pickupid == MusicIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid, 833.248352, -1352.151367, 26.073820, 93.374137, 22, 1);
	}
	if(pickupid == MusicStoreOut)
	{
		SetPlayerPosEx(playerid, 816.339111, -1389.564819, 13.623005, 178.601699, 0, 0);
	}
	if(pickupid == BarIn1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		BarInt[playerid] = 1;
		SetPlayerPosEx(playerid,502.949645, -70.717254, 998.757812, 176.071640,0,11);
	}
	if(pickupid == BarIn2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		BarInt[playerid] = 2;
		SetPlayerPosEx(playerid,502.949645, -70.717254, 998.757812, 176.071640,0,11);
	}
	if(pickupid == BarIn3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		BarInt[playerid] = 3;
		SetPlayerPosEx(playerid,502.949645, -70.717254, 998.757812, 176.071640,0,11);
	}
	if(pickupid == BarIn4)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		BarInt[playerid] = 4;
		SetPlayerPosEx(playerid,502.949645, -70.717254, 998.757812, 176.071640,0,11);
	}
	if(pickupid == BarIn5)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		BarInt[playerid] = 5;
		SetPlayerPosEx(playerid,502.949645, -70.717254, 998.757812, 176.071640,0,11);
	}
	if(pickupid == BarOut)
	{
		if(BarInt[playerid] == 1) SetPlayerPosEx(playerid,-2244.834472, -88.095146, 35.320312, 85.227638, 0, 0);
		if(BarInt[playerid] == 2) SetPlayerPosEx(playerid,2441.404785, 2060.702392, 10.820312,0, 0, 0);
		if(BarInt[playerid] == 3) SetPlayerPosEx(playerid,2307.991943, -1646.536376, 14.827047, 130.614654, 0, 0);
		if(BarInt[playerid] == 4) SetPlayerPosEx(playerid,383.908416, -1871.099365, 7.835937, 86.770416, 0, 0);
		if(BarInt[playerid] == 5) SetPlayerPosEx(playerid, 2483.750732, -1537.596435, 23.998996, 276.701995, 0, 0);
	}
	if(pickupid == BarViceIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,-794.806396,497.738037,1376.195312,0,0,1);
	}
	if(pickupid == BarViceOut)
	{
		SetPlayerPosEx(playerid, 2490.504150, 2059.533935, 10.820312, 180.458007, 0, 0);
	}
	if(pickupid == SexShopIn1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SexShopInt[playerid] = 1;
		SetPlayerPosEx(playerid, -100.473480, -21.651708, 1000.718750, 356.506042, 0, 3);
	}
	if(pickupid == SexShopIn2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SexShopInt[playerid] = 2;
		SetPlayerPosEx(playerid, -100.473480, -21.651708, 1000.718750, 356.506042, 0, 3);
	}
	if(pickupid == SexShopIn3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SexShopInt[playerid] = 3;
		SetPlayerPosEx(playerid, -100.473480, -21.651708, 1000.718750, 356.506042, 0, 3);
	}
	if(pickupid == SexShopOut)
	{
		if(SexShopInt[playerid] == 1) SetPlayerPosEx(playerid, 2088.866699, 2073.707763, 10.820312, 271.325866, 0, 0);
		if(SexShopInt[playerid] == 2) SetPlayerPosEx(playerid, 2139.475097, -1746.602172, 13.552230, 178.326828, 0, 0);
		if(SexShopInt[playerid] == 3) SetPlayerPosEx(playerid, 954.100524, -1332.687255, 13.530903, 3.156534, 0, 0);
	}
	if(pickupid == FlowersShopIn1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid, -2559.832519, 311.045013, 29.403326, 185.759735, 22, 1);
	}
	if(pickupid == FlowersShopOut)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid, -2558.749755, 310.015228, 15.945312, 266.553924, 0, 0);
	}
	if(pickupid == underwaterpickup)
	{
		SetPlayerPosEx(playerid, 1763.1593,504.5499,-24.2935,0,0,0);
	}
	if(pickupid == EtcPick1)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,1484.881591, -1895.435546, 22.244857, 88.940628,0,0);
	}
	if(pickupid == EtcPickOut)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,1484.559570, -1878.461425, 13.546875, 359.980224,0,0);
	}
	if(pickupid == EtcPick2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,1375.229248, 2211.945800, 12.015625, 178.578231,0,0);
	}
	if(pickupid == EtcPickOut2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		SetPlayerPosEx(playerid,1480.889160, 2252.608886, 11.029067, 310.829803,0,0);
	}
	if(pickupid == StripPickupIn)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 1;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupIn2)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 2;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupIn3)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 3;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupIn4)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 4;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupIn5)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 5;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupIn6)
	{
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		StripInt[playerid] = 6;
		PlayerPlaySound(playerid, 170, 0, 0, 0);
		SetPlayerPosEx(playerid,1204.809937,-11.586800,1001.089966,0,0,2);
	}
	if(pickupid == StripPickupOut)
	{
		if(StripInt[playerid] == 1) SetPlayerPosEx(playerid,693.676879, 1960.746704, 5.539, 0, 0, 0);
		if(StripInt[playerid] == 2) SetPlayerPosEx(playerid,2543.687500, 1021.109741, 10.820312, 0, 0, 0);
		if(StripInt[playerid] == 3) SetPlayerPosEx(playerid,2328.923095, 2119.744628, 10.828125, 0, 0, 0);
		if(StripInt[playerid] == 4) SetPlayerPosEx(playerid,1450.191040, 750.517028, 11.023437, 0, 0, 0);
		if(StripInt[playerid] == 5) SetPlayerPosEx(playerid, 1144.965087, -1134.520385, 23.828125, 180.481735, 0, 0);
		if(StripInt[playerid] == 6) SetPlayerPosEx(playerid, -2590.968505, 164.709228, 4.328125, 189.583587, 0, 0);
		PlayerPlaySound(playerid, 0, 0, 0, 0);
	}
	if(pickupid == JizzyOut1) SetPlayerPosEx(playerid,-2622.563964, 1404.362060, 7.101562, 200.511749, 0, 0);
	if(pickupid == JizzyOut2) SetPlayerPosEx(playerid,-2661.941650, 1425.300415, 23.898437, 7.206552, 0, 0);
	if(pickupid == UltorIn) SetPlayerPosEx(playerid, -1746.991088, 791.930480, 167.656250, 6.117119, 0, 0);
	if(pickupid == UltorOut) SetPlayerPosEx(playerid, -1781.352294, 805.626220, 166.843643, 99.867256, 0, 0);
	if(pickupid == giftpickup) GetGiftPlayer(playerid);
	//warrpg
	if(pickupid == warrpg1 || pickupid == warrpg2 || pickupid == warrpg3 || pickupid == warrpg4 || pickupid == warrpg5 || pickupid == warrpg6 || pickupid == warrpg7 || pickupid == warrpg8)
	{
		GivePlayerWeapon(playerid,35,11);
	}
	// survival
	if(pickupid == BulletsPack1 ||
	pickupid == BulletsPack2 ||
	pickupid == BulletsPack3 ||
	pickupid == BulletsPack4 ||
	pickupid == BulletsPack5 ||
	pickupid == BulletsPack6 ||
	pickupid == BulletsPack7 ||
	pickupid == BulletsPack8 ||
	pickupid == BulletsPack9 ||
	pickupid == BulletsPack10 ||
	pickupid == BulletsPack11 ||
	pickupid == BulletsPack12)
	{
		GivePlayerWeapon(playerid, GetPlayerWeapon(playerid), 100);
		SendTexdrawMessage(playerid, "~g~+100 ammo");
		PlayerPlaySound(playerid, 36401, 0, 0, 0);
	}
	// hidden packets
	if(pickupid == bonuspack1) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack1);}
	if(pickupid == bonuspack2) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack2);}
	if(pickupid == bonuspack3) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack3);}
	if(pickupid == bonuspack4) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack4);}
	if(pickupid == bonuspack5) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack5);}
	if(pickupid == bonuspack6) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack6);}
	if(pickupid == bonuspack7) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack7);}
	if(pickupid == bonuspack8) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack8);}
	if(pickupid == bonuspack9) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack9);}
	if(pickupid == bonuspack10) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack10);}
	if(pickupid == bonuspack11) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack11);}
	if(pickupid == bonuspack12) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack12);}
	if(pickupid == bonuspack13) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack13);}
	if(pickupid == bonuspack14) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack14);}
	if(pickupid == bonuspack15) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack15);}
	if(pickupid == bonuspack16) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack16);}
	if(pickupid == bonuspack17) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack17);}
	if(pickupid == bonuspack18) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack18);}
	if(pickupid == bonuspack19) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack19);}
	if(pickupid == bonuspack20) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack20);}
	if(pickupid == bonuspack21) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack21);}
	if(pickupid == bonuspack22) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack22);}
	if(pickupid == bonuspack23) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack23);}
	if(pickupid == bonuspack24) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack24);}
	if(pickupid == bonuspack25) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack25);}
	if(pickupid == bonuspack26) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack26);}
	if(pickupid == bonuspack27) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack27);}
	if(pickupid == bonuspack28) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack28);}
	if(pickupid == bonuspack29) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack29);}
	if(pickupid == bonuspack30) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack30);}
	if(pickupid == bonuspack31) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack31);}
	if(pickupid == bonuspack32) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack32);}
	if(pickupid == bonuspack33) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack33);}
	if(pickupid == bonuspack34) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack34);}
	if(pickupid == bonuspack35) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack35);}
	if(pickupid == bonuspack36) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack36);}
	if(pickupid == bonuspack37) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack37);}
	if(pickupid == bonuspack38) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack38);}
	if(pickupid == bonuspack39) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack39);}
	if(pickupid == bonuspack40) {Bonuspack(playerid); DestroyDynamicPickup(bonuspack40);}
    return 1;
}

public OnPlayerEnterDynamicArea(playerid, areaid)
{
	DynamicZone[playerid] = areaid;
}

public OnPlayerEnterDynamicCP(playerid, checkpointid) 
{
	if(checkpointid == SF_CityTrash){
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER && GetPlayerState(playerid) != PLAYER_STATE_PASSENGER){
			new vehicleid = GetPlayerVehicleID(playerid);
			switch(GetVehicleModel(vehicleid))
			{
				case 409, 412, 428, 461, 490, 442, 508, 532, 600 ,603:
				{
					foreach(Player,i) { if(CarSpawn[i] == vehicleid) return SendClientMessage(playerid, COLOR_INFO, "Это заказной транспорт!"); }
					SetMoney(playerid, 5000);
					AddExp(playerid,20);
					SendTexdrawMessage(playerid, "~w~Transport delivered!!");
					SendClientMessage(playerid, COLOR_WHITE, "Транспорт успешно доставлен");
					PlayerPlaySound(playerid, 1058 , 0, 0, 0);
					TogglePlayerDynamicCP(playerid, SF_CityTrash, 0);
					DestroyDynamicMapIcon(TrashMapicon);
					SetVehicleToRespawn(vehicleid);
				}
			}
		}
	}
	return 1;
}

public OnVehicleMod(playerid, vehicleid, componentid)
{
	// Crasher detection
	if(ServerAntiVehHack > 0)
	{
		pVehicleMods[playerid]++;
		SetTimerEx("VehicleModReset", 3000, 0, "i", playerid);
		if(pVehicleMods[playerid] >= 5)
		{
		    SendClientMessage(playerid, COLOR_RED, "ANTI-CHEAT: Вы были отправлены в ЧМ по причине [CRASH HACK]");
			PutInCheatWorld(playerid);
		}
	}
	return 1;
}

public OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	return 1;
}

public OnVehicleRespray(playerid, vehicleid, color1, color2)
{
	if(vehicleid == 432) SetVehicleHealth(vehicleid, 3000);
	return 1;
}

public OnPlayerSelectedMenuRow(playerid, row)
{
	return 1;
} 

public OnPlayerExitedMenu(playerid)
{
	return 1;
}

public OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid)
{
	//AllowInteriorWeapons(0); Disable weapon in all interiors
	// 4 interior - ammo-nation.
	// This code fixes a bug with displaying the player's color in the interior.
	if(newinteriorid == 4)
	{
		if(GetPlayerColor(playerid) != 0xFFFFFF00)
		{
			TempColor[playerid] = GetPlayerColor(playerid);
			SetPlayerColor(playerid,0xFFFFFF00);
		}
	}
	if(oldinteriorid == 4)
	{
		SetPlayerColor(playerid,TempColor[playerid]);
	}
	return 1;
}

public OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{
	// https://wiki.sa-mp.com/wiki/OnPlayerKeyStateChange
	// https://wiki.sa-mp.com/wiki/Keys
	// Open main menu on press Y (rcon give full menu)
	if(newkeys == 65536){
		if(CloseMenuAccess[playerid] == 0 || IsPlayerAdmin(playerid) && cwzone[playerid] == 0) MAIN_MENU(playerid);
		if(cwzone[playerid] > 0) SPD(playerid, DIALOG_CW, DIALOG_STYLE_LIST, "CW", CwMenu,"[Ok]","[X]");
	}
	if(newkeys == 8192) Sync(playerid); //Num 4 
	if((newkeys & KEY_WALK) && (newkeys & KEY_CROUCH)){
		if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)	drop_player_weapons(playerid, 1); //ALT + C
	}
	if((newkeys & KEY_ACTION) && (newkeys & KEY_CROUCH)){
		if(ServerAntiTabFast > 0){
			if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)	ApplyAnimation(playerid,"BEACH","ParkSit_M_loop",4.1,1,0,0,0,0,1), IsAnimLoop[playerid]=1; //TAB + C
		}
	}
	if(ServerAntiSlide > 0)
	{
		if(GetPVarInt(playerid, "Slide") == 1 && GetPlayerWeapon(playerid) == 24 && newkeys & KEY_SPRINT && newkeys & KEY_HANDBRAKE){
			ApplyAnimation(playerid, "PED", "getup_front", 4.0, 0, 0, 1, 0, 0); //Anti-Slide by OKstyle
		}
	}
	if(newkeys == KEY_CROUCH || newkeys == KEY_CTRL_BACK || newkeys == KEY_ACTION)
	{
		//newkeys == KEY_JUMP disabled unnecessarily working out
		if(GetPVarInt(playerid, "EnterVehicle") > 0 && GetPlayerState(playerid) != PLAYER_STATE_DRIVER && GetPlayerState(playerid) != PLAYER_STATE_PASSENGER)
		{
			new Float:vx, Float:vy, Float:vz;				
			new Float:x,Float:y,Float:z;
			GetPlayerPos(playerid,x,y,z);
			for(new v; v < MAX_VEHICLES; v++)
			{
				GetVehiclePos(v, vx, vy, vz);
				if(IsPlayerInRangeOfPoint(playerid, 3.0, vx,vy,vz)){
					SetPlayerPos(playerid,x,y,z);
					SetTimerEx("Freeze",1000*3,false,"i",playerid);
					ApplyAnimation(playerid,"FAT","IDLE_tired",4.0,1,0,0,0,0,1);
				}
			}
		}
	}
	// Show target player Stats on press ALT + RMB
	if((newkeys & KEY_WALK) && (newkeys & 128)){
		if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) PlayerStatistics(GetPlayerTargetPlayer(playerid), playerid);
	}
	if(newkeys == 1024)	// Endspec on press ALT
	{
		if(PlayerSpectateID[playerid] >= 0 && GetPlayerState(playerid) != PLAYER_STATE_ONFOOT && GetPlayerState(playerid) != PLAYER_STATE_DRIVER)
		{
			if(GetPVarInt(playerid, "Logged") != 1) return 0;
			SetPlayerPos(playerid,GetPVarFloat(playerid,"LastPosX"),GetPVarFloat(playerid,"LastPosY"),GetPVarFloat(playerid,"LastPosZ"));
			TogglePlayerSpectating(playerid, 0);
            SetCameraBehindPlayer(playerid);
			PlayerSpec[PlayerSpectateID[playerid]] = -1;
            PlayerSpectateID[playerid] = -1;
			SendClientMessage(playerid,COLOR_YELLOW,"Слежка окончена.");
		}
		//new targetplayer = GetPlayerTargetPlayer(playerid);
		//if(targetplayer != INVALID_PLAYER_ID) PlayerStatistics(targetplayer, playerid);
	}
	// Auto tuning press 2
	if(newkeys == 512)
	{
		new WheelsIDs[14] = {1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085};
		// http://wiki.sa-mp.com/wiki/Car_Component_ID
		new RandomWheel = random(sizeof(WheelsIDs));
		new VehicleID = GetPlayerVehicleID(playerid);
		if (IsPlayerInAnyVehicle(playerid))
		{
			ChangeVehicleColor(VehicleID, random(120), random(120));
			switch(GetVehicleModel(GetPlayerVehicleID(playerid)))
			{
				case 446,432,448,452,424,453,454,461,462,463,468,471,430,472,449,473,481,484,493,509,510,521,538,522,523,532,537,570,581,586,590,569,595,604,611: return 0;
			}
			AddVehicleComponent(VehicleID, WheelsIDs[RandomWheel]);
		}
	}
	if(newkeys == 262144 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) //H
	{
		ApplyAnimation(playerid, "PAULNMAC", "Piss_loop", 4.0, 1, 1, 1, 1, 0);
		SetPlayerSpecialAction(playerid, 68);
		IsAnimLoop[playerid] = 1;
	}
	if(newkeys == 16) // ENTER + KEY_EXIT_VEHICLE
	{
		// antifall exit veh fix
		if(g_veh[playerid] != 0){
			RemovePlayerFromVehicle(g_veh[playerid]);
			g_veh[playerid] = 0;
		}
	}
	if(newkeys == KEY_SECONDARY_ATTACK) // ENTER
	{
		if(GetPVarType(playerid, "FlyMode")) CancelFlyMode(playerid), SpawnPlayer(playerid); // stop fly mode on F key
		if(!IsPlayerInAnyVehicle(playerid))
		{
			new Float:x, Float:y, Float:z;
			GetPlayerPos(playerid, x, y, z);
			for(new veh; veh<MAX_VEHICLES; veh++)
			{
				GetVehiclePos(veh, x, y, z);
				if(IsPlayerInRangeOfPoint(playerid, 5.0, x, y, z))
				{
					new model = GetVehicleModel(veh);
					switch(model)
					{
						case 441, 464, 501, 465, 564, 594: PutPlayerInVehicle(playerid, veh, 0); //RC TOY in
						case 449: PutPlayerInVehicle(playerid, veh, 0); //tram
					}
				}
			}
		}
		else
		{
			new model = GetVehicleModel(GetPlayerVehicleID(playerid));
			switch(model)
			{
				case 441, 464, 501, 465, 564, 594:
				{
						new Float:x, Float:y, Float:z;
						GetPlayerPos(playerid, x, y, z);
						SetPlayerPos(playerid, x, y, z+0.5);//RCTOY exit
				}
				case 449: SetCameraBehindPlayer(playerid);// Tram camera fix
			}
		}
	}
	if(newkeys == 131072) //N
	{
		if(GetPlayerInterior(playerid) == 4) MSelect_Show(playerid, MSelect:weapons); // If press N on Ammo interior
		if(GetPlayerInterior(playerid) == 11) SPD(playerid, DIALOG_BARMENU, DIALOG_STYLE_TABLIST_HEADERS, "{FFD700}Меню для сомелье",BarMenueLst,"Заказать","Хватит"); // If press N on bar
		if(GetPlayerInterior(playerid) == 3 && IsPlayerInRangeOfPoint(playerid, 30.0, -2649.342529, 1410.013549, 906.273437)){ // jizzy bar
			SPD(playerid, DIALOG_BARMENU, DIALOG_STYLE_TABLIST_HEADERS, "{FFD700}Меню для сомелье",BarMenueLst,"Заказать","Хватит");
		}
		if (IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == 2)
		{
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
		// Mapedit for players disabled
		// if(GetPlayerVirtualWorld(playerid) > 100 && GetPlayerVirtualWorld(playerid) < 200) SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		if(GetPVarInt(playerid,"Mapedit") > 0) SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		if(GetPVarInt(playerid,"MaterialEdit") > 0) {
			SetPVarInt(playerid,"MaterialEdit",0);
			TogglePlayerControllable(playerid,1);
		}
		if(SpecialZone(playerid)) SPD(playerid, DIALOG_DMEXMENU, DIALOG_STYLE_LIST, "DM меню", DmExMenuLst,"Выбрать","Отмена");
		if(IsPlayerInRangeOfPoint(playerid, 5.0, 2144.20, 1641.54, 993.57)) SPD(playerid, DIALOG_BANKMENU, DIALOG_STYLE_LIST, "Операции со счетом", BankMenuLst,"Выбрать","Назад");
		if(IsPlayerInRangeOfPoint(playerid, 5.0, 213.95, -41.59, 1002.02)) SPD(playerid, DIALOG_PLAYEROBJ, DIALOG_STYLE_LIST, "Объекты к игроку", ShopObjList, "Выбрать", "Назад");
		if(IsPlayerInRangeOfPoint(playerid, 5.0, -1425.990966, -1769.911621, 46.52367)) SPD(playerid, DIALOG_BONUSASK, DIALOG_STYLE_INPUT, "Question","{FFFFFF}Первый публичный релиз San Andreas Multiplayer состоялся в каком году?","Ответить","Отказ");
		if(IsPlayerInRangeOfPoint(playerid, 5.0, -29.858898, -184.285537, 1003.546875)) SPD(playerid, DIALOG_SHOPMENU, DIALOG_STYLE_TABLIST_HEADERS, "Shopping", ShopMenuLst, "Выбрать", "Назад");
	}
	/*if(newkeys == KEY_CROUCH) // C key, unfrezze player on mapeditor textdraw select
	{
		if(GetPVarInt(playerid,"Mapedit") > 0) TogglePlayerControllable(playerid,0);
	}*/
	if(newkeys == 4096) //num2 on ammo int
	{
		if(GetPlayerInterior(playerid) == 4){
			SetPlayerArmour(playerid, 100);
			SetPlayerHealth(playerid,100);
			SetMoney(playerid, -100);
		}
	}
	if(newkeys == 16384) //Num6
	{
		if(CarLocked[playerid] == 0)
		{
			for(new carid=0;carid<MAX_PLAYERS;carid++)
			{
				if(IsPlayerInAnyVehicle(playerid))
				{
					if(carid != playerid) SetVehicleParamsForPlayer(GetPlayerVehicleID(playerid),carid, 0, 1);
					CarLocked[playerid] = 1;
				}
			}
			GameTextForPlayer(playerid, "~y~Locked", 2000, 3);  
		}
		else
		{
			for(new carid=0;carid<MAX_PLAYERS;carid++)
			{
				SetVehicleParamsForPlayer(GetPlayerVehicleID(playerid),carid, 0, 0);
				CarLocked[playerid] = 0;
			}
			GameTextForPlayer(playerid, "~y~Unlocked", 2000, 3); 
		}
	}
	// NITRO power
	if(newkeys == 1 || newkeys == 9 || newkeys == 33 && oldkeys != 1 || oldkeys != 9 || oldkeys != 33)
	{
		if(GetPVarInt(playerid,"GodVeh") > 0) FixCar(playerid);
		switch(GetVehicleModel(GetPlayerVehicleID(playerid)))
		{
			case 446,432,448,452,424,453,454,461,462,463,468,471,430,472,449,473,481,484,493,509,510,521,538,522,523,532,537,570,581,586,590,569,595,604,611: return 0;
		}
		AddVehicleComponent(GetPlayerVehicleID(playerid), 1010);
	}
	// Flip use CAPCLOCK
	if(newkeys & KEY_CROUCH && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) FlipCar(GetPlayerVehicleID(playerid));
	// Clear anim piss
	if((newkeys & KEY_SECONDARY_ATTACK) && !(oldkeys & KEY_SECONDARY_ATTACK))
    {
		if(IsAnimLoop[playerid] == 1)
		{			
			ClearAnimations(playerid);
			IsAnimLoop[playerid] = 0; //clear loop piss anim
        }
    }
	// Anti Drive-by
	if(newkeys == 256 || newkeys == 64) // Q or E
    {
		if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
        {
            if(GetPlayerWeapon(playerid) == 28 || GetPlayerWeapon(playerid) == 29 || GetPlayerWeapon(playerid) == 32)
            {
				SetPlayerArmedWeapon(playerid, 0);
			}
		}
	}
	// knifebug
	if(newkeys & KEY_FIRE && oldkeys & 128)
	{
		if(GetPlayerWeapon(playerid) == 4)
		{
			if(GetPlayerAnimationIndex(playerid) == 747)
			{
				new knifeid = GetPlayerTargetPlayer(playerid);
				if(knifeid != INVALID_PLAYER_ID)
				{
					if(GetPlayerSpeed(playerid) > 10)
					{
						ClearAnimations(playerid);
						ClearAnimations(knifeid);
						new time = GetPlayerPing(playerid) + GetPlayerPing(knifeid);
						SetPVarInt(knifeid, "KnifePlayer", playerid);
						SetPVarInt(knifeid, "KnifeTime", GetTickCount() + time);
					}
				}
			}
		}
	}
	// fix bug with player desync
	if(newkeys & KEY_FIRE && newkeys & 128) // 128 == KEY_AIM
	{
		if(GetPlayerWeapon(playerid) == 4)
		{
			new targetid = GetPlayerTargetPlayer(playerid);
			if(targetid != INVALID_PLAYER_ID)
			{
				if(PlayerInfo[playerid][pGang] == PlayerInfo[targetid][pGang] || GetPVarInt(targetid,"pgm") > 0)
				{
					SetTimerEx("Freeze",1000*5,false,"i",playerid);
					TogglePlayerControllable(playerid, 0);
					SetPlayerArmedWeapon(playerid, 0);
					ClearAnimations(playerid); 
					ClearAnimations(targetid);
				}
			}
		}
	}
	// Carshot system
	if(ServerCarshotOn > 0)
	{
		if(PRESSED(KEY_FIRE))
		{
			if(newkeys & KEY_HANDBRAKE && damageGun(playerid))
			{
				if(!IsPlayerInAnyVehicle(playerid)) carshot_update[playerid] = SetTimerEx("vehicleShot", 794, true, "i", playerid);
			}
			else
			{
				_clearAim(playerid);
			}
		}
		else if(oldkeys & KEY_FIRE || oldkeys & KEY_HANDBRAKE) _clearAim(playerid);
	}
	if(newkeys == KEY_JUMP) 
	{
		if(IsPlayerInRangeOfPoint(playerid, 3.0, 328.149749, -1828.953491, 6.119598) && PlayerInfo[playerid][pMoney] >= 2)// batut los-santos
		{
			new Float:x, Float:y, Float:z;
			GetPlayerPos(playerid, x, y, z);
			SetPlayerPos(playerid, x, y, z+4);
			SetMoney(playerid, -2);
		}
	}
	/*if(newkeys == 4 || newkeys == 1)
	{
		// not working
		if(GetVehicleModel(GetPlayerVehicleID(playerid)) == 425 && GetPlayerVirtualWorld(playerid) == 0) return 0; // disable rockets (hunter helicopter)
	}*/ 
	if(newkeys == KEY_FIRE) 
	{
		if(IsPlayerInRangeOfPoint(playerid, 2.0, 313.98883, -1818.99890, 4.24365) || 
		IsPlayerInRangeOfPoint(playerid, 2.0, -32.498477, -185.906265, 1003.546875) ||
		IsPlayerInRangeOfPoint(playerid, 2.0, 2086.587158, 2071.370361, 11.057899) ||
		IsPlayerInRangeOfPoint(playerid, 2.0, 2325.956787, -1645.985839, 14.827047) &&
		PlayerInfo[playerid][pMoney] >= 10)// sprunk santa-maria
		{
			if(GetPVarInt(playerid,"pgm") == 0)
			{
				if(PlayerInfo[playerid][pHealth] < 70) SetPlayerHealth(playerid,PlayerInfo[playerid][pHealth]+30); else SetPlayerHealth(playerid,100);
				PlayerPlaySound(playerid, 42600, 0, 0, 0);
				SetPlayerSpecialAction(playerid,SPECIAL_ACTION_DRINK_SPRUNK); 
				SetMoney(playerid, -10);
			}
		}
		if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) //veh booster
		{
			if(PlayerInfo[playerid][pAdmin] >= 3 && GetPVarInt(playerid,"pgm") > 0)
			{
				new Float:vx,Float:vy,Float:vz;
				GetVehicleVelocity(GetPlayerVehicleID(playerid),vx,vy,vz);
				SetVehicleVelocity(GetPlayerVehicleID(playerid), vx * 1.2, vy *1.2, vz * 1.2);
			}
			/*else 
			{
				switch(GetVehicleModel(GetPlayerVehicleID(playerid)))
				{
					case 481,509,510:
					{
						new Float:x, Float:y, Float:z;
						GetVehicleVelocity(GetPlayerVehicleID(playerid),x,y,z);
						SetVehicleVelocity(GetPlayerVehicleID(playerid),x,y,z+0.3);
					}
				}
			}*/
		}
	}
	if(newkeys == 128)
	{
		if(GetPVarInt(playerid,"MaterialEdit") > 0){
			//if(LAST_MATERIAL_INDEX[playerid] != 0) {
			TogglePlayerControllable(playerid,0);
			if(LAST_MATERIAL_INDEX[playerid]) {
				LAST_MATERIAL_INDEX[playerid]--;
				if(GetPVarInt(playerid,"MaterialSlot") > 0) SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid], GetPVarInt(playerid,"MaterialSlot")); //previous
				else SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid]); //previous
			} else { 
				return SendTexdrawMessage(playerid, "~w~material index: 0");
			}
		}
	}
	if(newkeys == 4)
	{
		if(GetPVarInt(playerid,"MaterialEdit") > 0){
			if(!GetPVarType(playerid, "FlyMode")) TogglePlayerControllable(playerid,0);
			if(LAST_MATERIAL_INDEX[playerid] != MAX_MATERIAL_INDEX){
				LAST_MATERIAL_INDEX[playerid]++;
				if(GetPVarInt(playerid,"MaterialSlot") > 0) SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid], GetPVarInt(playerid,"MaterialSlot")); //next 
				else SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid]); //next 
			} else {
				return SendTexdrawMessage(playerid, "~r~Last ~w~material index");
			}
		}
	}
	if(newkeys == 32)
	{
		if(GetPVarInt(playerid,"MaterialEdit") > 0){
			if(!GetPVarType(playerid, "FlyMode")) TogglePlayerControllable(playerid,0);
			if(LAST_MATERIAL_INDEX[playerid] != MAX_MATERIAL_INDEX){
				LAST_MATERIAL_INDEX[playerid] = LAST_MATERIAL_INDEX[playerid] + 50;
				if(LAST_MATERIAL_INDEX[playerid] > MAX_MATERIAL_INDEX) LAST_MATERIAL_INDEX[playerid] = 0;
				if(GetPVarInt(playerid,"MaterialSlot") > 0) SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid], GetPVarInt(playerid,"MaterialSlot")); //next 
				else SelectMaterialIndex(playerid, LAST_MATERIAL_INDEX[playerid], EDIT_OBJECT_ID[playerid]);
			}
		}
	}
	if(newkeys == 8)
	{
		if(GetPVarInt(playerid,"MaterialEdit") > 0) TogglePlayerControllable(playerid,1);
	}
	if(newkeys == KEY_LOOK_BEHIND)
	{
		if(IsPlayerInRangeOfPoint(playerid, 1.0, -2511.57, 1545.19, 17.32) ||
		IsPlayerInRangeOfPoint(playerid, 1.0, -1064.65, -1186.69, 142.93))
		{
			if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -5000);
			GivePlayerWeapon(playerid, 34,100);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Кемпу");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, -1433.92, 1485.59, 1.86) ||
		IsPlayerInRangeOfPoint(playerid, 1.0,-559.37, -1486.12, 19.29) ||
		IsPlayerInRangeOfPoint(playerid, 1.0,-338.39, 1600.11, 80.96))
		{
			if(GetPlayerMoney(playerid) < 1000000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -1000000);
			GivePlayerWeapon(playerid, 35,1);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели RPG");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, -546.96, -200.86, 78.40) ||
		IsPlayerInRangeOfPoint(playerid, 1.0, -1300.04, 2528.60, 87.63) ||
		IsPlayerInRangeOfPoint(playerid, 1.0, -1071.98, -1169.82, 129.64))
		{
			if(GetPlayerMoney(playerid) < 500000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -500000);
			GivePlayerWeapon(playerid, 37,3000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Огнемет");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 2550.30, 1045.62, 13.89) ||
		IsPlayerInRangeOfPoint(playerid, 1.0, 2791.59, 2531.96, 10.82) ||
		IsPlayerInRangeOfPoint(playerid, 1.0,1343.94, 1064.70, 10.82))
		{
			if(GetPlayerMoney(playerid) < 4000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -4000);
			GivePlayerWeapon(playerid, 18,1);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Коктейль Молотова");
		}
		// ammo weapons buy
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 298.2955, -80.1032, 1000.6948))
		{
			if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -2500);
			GivePlayerWeapon(playerid, 32,1500);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Теки");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 296.2955, -80.1032, 1000.6948))
		{
			if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
			SetMoney(playerid, -2500);
			GivePlayerWeapon(playerid, 26,500);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Савны");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 294.2955, -80.1032, 1000.6948))
		{
			if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 31,1000);
			SetMoney(playerid, -5000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели M4");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 292.2955, -80.1032, 1000.6948))
		{
			if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 24,500);
			SetMoney(playerid, -2500);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Дигл");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 295.45, -58.09, 1001.51))
		{
			if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 34,100);
			SetMoney(playerid, -5000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Кемпу");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 295.42, -61.47, 1001.51) ||
		IsPlayerInRangeOfPoint(playerid, 1.0, -864.11, 1525.33, 26.65))
		{
			if(GetPlayerMoney(playerid) < 4000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 9,10);
			SetMoney(playerid, -4000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Гранаты");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, 295.49, -64.47, 1001.51))
		{
			if(GetPlayerMoney(playerid) < 4000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 18,10);
			SetMoney(playerid, -4000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Коктейль Молотова");
		}
		if(IsPlayerInRangeOfPoint(playerid, 1.0, -2678.42, 1398.92, 23.89))
		{
			if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
			GivePlayerWeapon(playerid, 34,100);
			SetMoney(playerid, -5000);
			PlayerPlaySound(playerid, 1054, 0, 0, 0);
			SendClientMessage(playerid, COLOR_ORANGE, "Вы приобрели Кемпу");
		}
	}
	//if(newkeys == KEY_ACTION) ; // TAB key
	return 1;
}

public OnRconLoginAttempt(ip[], password[], success)
{
	new pip[16], string[144], serial[41];
	#if defined RCON_DISABLE
	format(string, sizeof string, "[FAIL] RCON login by IP %s reason:(RCON DISABLE)",ip);
	AdmLog(string);
	//SendAdminMessage(COLOR_ADM, string);
	for(new i = GetPlayerPoolSize(); i != -1; --i) //Loop through all players
    {
		GetPlayerIp(i, pip, sizeof(pip));
        if(!strcmp(ip, pip, true)) //If a player's IP is the IP that failed the login
        {
            SendClientMessage(i, COLOR_SYSTEM, "Wrong Password. Bye!");
            Kick(i);
        }
	}
	#else
	if(success)
	{
		foreach(Player, i)
		{
			GetPlayerIp(i, pip, sizeof(pip));
			if(!strcmp(ip, pip, true)) //If a player's IP is the IP the login
			{
				gpci(i,serial,40);
				format(log, sizeof(log), "IP: %s Serial: %s вошел как RCON на сервер!", ip, serial);
				AdmLog(log);
			}
		}
	}
	else
	{
		printf("[FAIL] RCON login by IP %s using password %s",ip, password);
		//SendAdminMessage(COLOR_ADM, string);
        for(new i = GetPlayerPoolSize(); i != -1; --i) //Loop through all players
        {
            GetPlayerIp(i, pip, sizeof(pip));
            if(!strcmp(ip, pip, true)) //If a player's IP is the IP that failed the login
            {
				gpci(i,serial,40);
				format(string, sizeof string, "[FAIL] RCON login by IP: %s Serial: %s",ip, serial);
				AdmLog(string);
                //SendClientMessage(i, COLOR_SYSTEM, "Wrong Password. Bye!");
                //Kick(i); //They are now kicked.
            }
        }
	}
	#endif
	return 1;
}

public OnPlayerUpdate(playerid)
{
	if(desync[playerid] > 0) return 0;
	// hide weapons in interiors and greenzones
	switch(GetPlayerInterior(playerid))
	{
		case 1..5: SetPlayerArmedWeapon(playerid, 0); 
		case 11: SetPlayerArmedWeapon(playerid, 0); //bar
		case 16: SetPlayerArmedWeapon(playerid, 0); //bar
		case 17: SetPlayerArmedWeapon(playerid, 0); //magazine
		case 62: SetPlayerArmedWeapon(playerid, 0); 
	}
	if(IsGreenZone(playerid)) SetPlayerArmedWeapon(playerid, 0);
	// carshot sync 
	if(noclipdata[playerid][cameramode] == CAMERA_MODE_FLY)
    {
        new keyss,ud,lr;
        GetPlayerKeys(playerid,keyss,ud,lr);

        if(noclipdata[playerid][mode] && (GetTickCount() - noclipdata[playerid][lastmove] > 100))
        {
            // If the last move was > 100ms ago, process moving the object the players camera is attached to
            MoveCamera(playerid);
        }

        // Is the players current key state different than their last keystate?
        if(noclipdata[playerid][udold] != ud || noclipdata[playerid][lrold] != lr)
        {
            if((noclipdata[playerid][udold] != 0 || noclipdata[playerid][lrold] != 0) && ud == 0 && lr == 0)
            {   // All keys have been released, stop the object the camera is attached to and reset the acceleration multiplier
                StopPlayerObject(playerid, noclipdata[playerid][flyobject]);
                noclipdata[playerid][mode]      = 0;
                noclipdata[playerid][accelmul]  = 0.0;
            }
            else
            {   // Indicates a new key has been pressed

                // Get the direction the player wants to move as indicated by the keys
                noclipdata[playerid][mode] = GetMoveDirectionFromKeys(ud, lr);

                // Process moving the object the players camera is attached to
                MoveCamera(playerid);
            }
        }
        noclipdata[playerid][udold] = ud; noclipdata[playerid][lrold] = lr; // Store current keys pressed for comparison next update
        return 0;
    }  
	return 1;
}

public OnPlayerStreamIn(playerid, forplayerid)
{
	return 1;
}

public OnPlayerStreamOut(playerid, forplayerid)
{
	return 1;
}

public OnVehicleStreamIn(vehicleid, forplayerid)
{
	//new streamedVehicleCount[forplayerid];
	//for(new v = 1; v <= MAX_VEHICLES; v++)
	//{
	//	if(IsVehicleStreamedIn(v, forplayerid))
	//	{
	//		streamedVehicleCount[forplayerid]++;
	//	}
	//}
	return 1;
}

public OnVehicleStreamOut(vehicleid, forplayerid)
{
	return 1;
}

public OnPlayerTargetPlayer(playerid, targetid, weaponid)
{
	//new targettext[100];
	//format(targettext, sizeof(targettext),"~w~%s", PlayerName(targetid));
	//GameTextForPlayer(playerid, targettext, 10, 1); 
	return 1;
}

Float:setRadius(vehicleid){
	switch(vehicleType(vehicleid)){
	    case 1,2: return 1.5;
	    case 3,4,6: return 6.0;
	    case 5: return 5.0;
	    case 7,9: return 2.0;
	    case 8: return 0.5;
	    default: return 3.0;
	}
	return 3.0;
}

public vehicleShot(playerid){
	if(!damageGun(playerid)) return _clearAim(playerid);

	new Float: car_pos[3], Float: carHealth;
	GetVehiclePos(GetPVarInt(playerid,"AimVehicle"), car_pos[0],car_pos[1],car_pos[2]);
	if(IsPlayerAimingAt(playerid, car_pos[0],car_pos[1],car_pos[2], setRadius(GetPVarInt(playerid,"AimVehicle"))))
	{
		GetVehicleHealth(GetPVarInt(playerid,"AimVehicle"), carHealth);
		
		if(carHealth > 100)	SetVehicleHealth(GetPVarInt(playerid,"AimVehicle"), carHealth-(GetPlayerWeapon(playerid) * 4));

		//randomDamage(GetPVarInt(playerid,"AimVehicle"));
		return true;
	}
	for(new vehicleid = 0; vehicleid!=MAX_VEHICLES;vehicleid++)
	{
 		if(!IsValidVehicle(vehicleid)) continue;
 		if(!IsVehicleStreamedIn(vehicleid, playerid)) continue;
 		GetVehiclePos(vehicleid, car_pos[0],car_pos[1],car_pos[2]);
		if(!IsPlayerAimingAt(playerid, car_pos[0],car_pos[1],car_pos[2], setRadius(vehicleid))) continue;

		GetVehicleHealth(vehicleid, carHealth);
		
		if(carHealth > 100) SetVehicleHealth(vehicleid, carHealth-(GetPlayerWeapon(playerid) * 4));

		randomDamage(vehicleid);
		SetPVarInt(playerid, "AimVehicle", vehicleid);
		break;
	} 
	return true;
}

public OnPlayerClickPlayer(playerid, clickedplayerid, source)
{
	if(CloseMenuAccess[playerid] == 1) return 0;
	if(GetPVarInt(playerid,"APanel") == 1)// ADMINTABMENU
	{
		SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		ChosenPlayer[playerid] = clickedplayerid;
	}
	else
	{
		if(playerid == clickedplayerid && dmzone[playerid] > 0) return 0; //dm main menu from tab disable
		//if(playerid == clickedplayerid) return MAIN_MENU(playerid);
		if(PlayerInfo[playerid][pVip] > 0) SPD(playerid, DIALOG_PLAYERTABMENU, DIALOG_STYLE_LIST,"Меню игрока",VipPlayerTabMenuStr,"Выбрать","Назад");
		else SPD(playerid, DIALOG_PLAYERTABMENU, DIALOG_STYLE_LIST,"Меню игрока",PlayerTabMenuStr,"Выбрать","Назад");
		ChosenPlayer[playerid] = clickedplayerid;
	}
	return 1;
}

public OnPlayerClickTextDraw( playerid, Text:clickedid )
{
	for ( new i ; i != sizeof( Draw ) ; i ++ )
		if ( Draw[ i ] == clickedid ) ChangeVehicleColor( GetPlayerVehicleID( playerid ), ccolor[ i ][ 0 ], ccolor[ i ][ 0 ] ) ;
 	if (_:clickedid == INVALID_TEXT_DRAW )
	{
		for ( new t ; t != sizeof( Draw ); t ++ ) TextDrawHideForPlayer( playerid, Draw[ t ] ) ;
    }
}

// Mselect part https://pro-pawn.ru/showthread.php?14381
MSelectCreate:example_ms(playerid)
{
	static
		items_array[311] = {MSELECT_INVALID_MODEL_ID, ...},
		items_count = 0;

	if (items_count == 0) {
		for (new i = 0; i <= sizeof(items_array); i++) {
			if (i == 74) {
				continue;
			}

			items_array[items_count] = i;
			items_count++;
		}
	}

	MSelect_Open(playerid, MSelect:example_ms, items_array, items_count, .header = "Header");
}

MSelectResponse:example_ms(playerid, MSelectType:response, itemid, modelid)
{
	// MSelect_ButtonNext == 3
	// MSelect_ButtonPrev == 4
	// MSelect_Cancel == 2
	new string[144];
	format(string, sizeof(string), "ID: %d | Type: %d | Item: %d | Model: %d",
	       playerid, _:response, itemid, modelid);
	SendClientMessage(playerid, -1, string);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}

MSelectCreate:Airplanes(playerid)
{
	new items_array[9] = {460,511,512,513,519,553,577,592,593};
	MSelect_Open(playerid, MSelect:Airplanes, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Airplanes");
}
MSelectCreate:Bikes(playerid)
{
	new items_array[14] = {448,461,462,463,468,471,481,509,510,521,522,581,586,523};
	MSelect_Open(playerid, MSelect:Bikes, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Bikes");
}
MSelectCreate:Boats(playerid)
{
	new items_array[10] = {430,446,452,453,454,472,473,484,493,595};
	MSelect_Open(playerid, MSelect:Boats, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Boats");
}
MSelectCreate:Helicopters(playerid)
{
	new items_array[4] = {417,469,548,563};
	MSelect_Open(playerid, MSelect:Helicopters, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Helicopters");
}
MSelectCreate:Industrial(playerid)
{
	new items_array[26] = {499,422,482,498,609,524,578,455,403,414,582,443,514,600,413,515,400,543,605,459,531,408,552,478,456,554};
	MSelect_Open(playerid, MSelect:Industrial, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Industrial");
}
MSelectCreate:Lowriders(playerid)
{
	new items_array[8] = {536,575,534,567,535,566,576,412};
	MSelect_Open(playerid, MSelect:Lowriders, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Lowriders");
}
MSelectCreate:Offroad(playerid)
{
	new items_array[13] = {568,424,573,579,400,500,444,556,557,470,489,490,495};
	MSelect_Open(playerid, MSelect:Offroad, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Offroad");
}
MSelectCreate:Services(playerid)
{
	new items_array[23] = {480,533,439,555,433,431,438,437,527,490,528,407,544,596,598,597,599,420,418,404,479,458,561};
	MSelect_Open(playerid, MSelect:Services, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Services");
}
MSelectCreate:RCtoys(playerid)
{
	new items_array[5] = {441,465,501,564,594};
	MSelect_Open(playerid, MSelect:RCtoys, items_array, sizeof(items_array), .rot_z = -55.0, .header = "RC");
}
MSelectCreate:Saloons(playerid)
{
	new items_array[32] = {445,504,401,518,527,542,507,562,585,419,526,604,466,492,474,546,517,410,551,516,467,426,436,547,405,580,560,550,549,540,491,529};
	MSelect_Open(playerid, MSelect:Saloons, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Saloons");
}
MSelectCreate:Sport(playerid)
{
	new items_array[20] = {602,429,496,402,541,415,589,587,565,494,502,503,411,559,603,475,506,451,558,477};
	MSelect_Open(playerid, MSelect:Sport, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Sport");
}
MSelectCreate:Trailers(playerid)
{
	new items_array[9] = {435,450,584,591,606,607,608,610,611};
	MSelect_Open(playerid, MSelect:Trailers, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Trailers");
}
MSelectCreate:Unique(playerid)
{
	new items_array[21] = {406,409,423,428,434,442,457,483,485,486,508,525,530,532,539,545,571,572,574,583,588};
	MSelect_Open(playerid, MSelect:Unique, items_array, sizeof(items_array), .rot_z = -55.0, .header = "Unique");
}

MSelectCreate:MTDHome(playerid)
{
	new items_array[31] = {1215,2600,3935,1290,1570,1223,3534,3525,3461,3877,3524,3472,3437,19588,18728,1361,8623,2811,3509,738,19943,1255,946,638,650,3471,1460,1568,1280,1281,949};
	MSelect_Open(playerid, MSelect:MTDHome, items_array, sizeof(items_array), .rot_z = -45.0, .header = "For house");
}
MSelectCreate:MTDBeach(playerid)
{
	new items_array[84] = {9822,3578,9819,9821,10227,3406,16502,17068,11495,9818,9820,9583,10841,10226,9698,5154,18024,3886,12990,3879,3620,10828,10831,9584,10793,11237,10830,5155,3753,10140,5158,9590,5166,5167,1612,9958,6230,5157,6300,10229,8373,11145,10230,11009,5184,9230,5143,6188,11146,9257,9955,9229,6189,9253,9612,5156,9090,5160,10301,9902,5115,9586,10795,9761,10794,9585,9329,10824,10771,9613,9954,10833,10826,9956,10827,9829,10834,10305,5145,9858,10300,5146,5108,5176};
	MSelect_Open(playerid, MSelect:MTDBeach, items_array, sizeof(items_array), .rot_z = -45.0, .header = "Beach");
}
MSelectCreate:MTDMapicons(playerid)
{
	new items_array[84] = {1672,1212,2037,1644,1240,2709,1314,1273,1239,1272,1274,2710,1213,1275,1254,2034,1313,19602,2044,1241,2033,18631,11738,1247,1242,1654,11736,19832,1650,1253,1252,1575,1576,1577,1578,1579,1580,1248,1277,1210,2061,19522,19523,19524,19131,19134,19132,1636,19135,2045,1581,1276,954,2690,2057,1582,19133,2035,2059,1310,1550,1279,1318,19130,2228,2058,2036,2237,2060,19197,19198,19054,19055,19056,19057,19058,19605,19606,19607,2064,19320,11731,2068,14673};
	MSelect_Open(playerid, MSelect:MTDMapicons, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Mapicons");
}
MSelectCreate:MTDPlants(playerid)
{
	new items_array[281] = {2895,2253,2244,2203,19837,19838,19839,2194,741,2242,2246,743,2252,2243,2245,2247,2250,701,702,863,755,675,859,677,1807,2248,15038,2241,2249,756,860,678,949,2240,2811,950,2251,948,2195,861,679,2001,1361,3802,692,631,3810,742,802,2345,857,862,682,14804,757,630,633,810,754,637,871,2010,14834,753,870,2011,635,3811,19473,761,1360,3806,817,646,632,760,638,651,627,636,804,811,869,626,644,18014,628,3520,759,3532,1364,650,866,865,864,3409,647,640,14468,809,812,813,814,815,801,808,14402,14469,625,805,639,728,14400,806,3439,821,819,822,820,803,824,825,826,823,653,818,827,855,800,872,8623,1597,3920,877,878,8990,8991,9152,856,876,873,875,18011,8660,18015,762,3660,18013,18012,874,9019,8887,8888,3948,4185,13802,8836,6204,9333,5078,8319,9153,3450,8989,9344,4034,8321,11413,11414,8837,7662,4172,4173,9035,8617,9317,8619,7595,17958,9336,9347,9812,16390,4175,4174,4184,17947,9335,9334,10445,17941,17942,9350,9331,7952,6372,8679,5339,7986,17875,7954,9318,5877,9034,17874,17876,8835,6399,17872,7953,6403,17891,17886,4986,5682,5265,5847,5290,9348,6046,8827,6430,8982,4981,4993,17879,5150,6362,4992,17532,7884,6431,6499,5024,5407,13699,17887,5417,8826,17905,17939,5412,16403,8889,8846,8852,6386,6444,5565,5322,7095,17937,6421,5023,5266,6214,17528,5025,5327,5635,4982,5234,5888,13748,4984,17907,8825,17938,5328,5637,5634,6237,8828,5324,5641,4985,5636,13174,5633,5629,5638};
	MSelect_Open(playerid, MSelect:MTDPlants, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Plants");
}
MSelectCreate:MTDSpecial(playerid)
{
	new items_array[226] = {119625,19792,11750,19995,18865,18866,18867,18868,18869,18870,18871,18872,18873,18874,19300,18875,19513,3070,11749,19941,19804,18642,18641,3065,11712,19610,18646,19942,19797,19836,19630,18644,18963,19347,19894,18749,19344,19345,19816,19159,19893,19793,19167,19632,19078,19079,19904,19590,3056,19559,918,19348,19308,19309,19310,19311,19086,18637,19619,19090,19091,19092,19620,2780,19306,19307,19315,3534,3057,11701,11702,19812,19618,1225,19867,19319,19342,19343,19318,3525,1554,1559,1222,1217,1218,19527,19317,19059,19060,19061,19062,19063,19419,19420,19917,3053,1558,19314,19418,19165,19168,19169,19170,19171,19341,1975,1976,19834,19166,19833,19087,1985,19944,3054,19339,19088,19609,3461,3877,3267,1676,16368,19848,18653,18654,18655,16782,3096,1301,19164,2897,13646,13649,14453,14542,14538,19128,3524,19277,3374,3261,3528,18880,2898,19316,18879,19089,3859,9833,14630,3515,13594,14656,16778,3081,14608,6865,16779,3857,19608,19817,9100,9101,3080,16777,18876,13562,13654,3472,18755,1243,3858,11417,16401,19076,3864,3743,13637,18849,3586,8492,3872,19080,19081,19082,19083,19084,18643,19840,18761,6965,3425,4206,7392,13667,19842,19129,7073,18878,7388,8491,19841,18877,16776,9831,3426,19332,19333,19334,19335,19336,19337,19338,18850,7916,8979,8980,16135,10764,10397,19278,18750,7268,18881,13656,17953};
	MSelect_Open(playerid, MSelect:MTDSpecial, items_array, sizeof(items_array), .rot_z = -45.0,.header = "Special");
}
MSelectCreate:MTDStones(playerid)
{
	new items_array[101] = {1207,3930,3929,905,3931,1304,828,2936,1303,807,816,1305,868,748,747,867,746,751,750,906,758,880,745,752,749,744,879,897,10986,898,17033,901,896,10985,10984,17071,899,13635,16667,16692,900,16503,16112,9044,16411,16127,16124,16139,16110,16117,16111,17031,17032,17025,17027,11556,17030,16133,16113,16120,17026,18228,16118,16116,16114,17034,16121,17299,17029,9045,16123,18225,18226,18227,16130,16122,17028,16128,16119,16141,16126,16129,16115,16142,17069,16140,16145,16675,16125,13023,17035,16131,4816,9746,10166,11498,9744,9743,16104,9745,17076};
	MSelect_Open(playerid, MSelect:MTDStones, items_array, sizeof(items_array), .rot_z = -45.0,.header = "Stones");
}
MSelectCreate:MTDTrash(playerid)
{
	new items_array[139] = {2953,921,3012,2908,3009,2906,3008,917,916,3011,1549,2905,928,3010,3007,2968,1355,926,924,2907,2809,1265,1329,1264,1330,1328,1220,1356,1230,1574,1370,1235,1347,932,2925,1357,1359,1442,1337,1339,1448,1430,1409,1221,1369,2810,1300,960,1733,1777,3092,1773,2673,1371,912,1572,1349,2900,961,2926,1327,1343,2674,911,2756,19772,933,1372,1338,913,1224,1779,2672,3119,1450,1439,2937,1449,852,2670,3005,1332,1344,1333,1331,854,2743,1345,3035,1236,1336,851,1227,2677,1440,1335,849,1334,1441,2675,910,1438,3006,853,3302,1219,1415,1299,2971,2671,2744,1462,850,2676,19589,1358,2893,952,1365,12957,3593,3594,3098,3099,3073,2890,13591,3097,12954,18253,18248,12961,18252,16319,18249,18246,18247,18245,5291};
	MSelect_Open(playerid, MSelect:MTDTrash, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Trash");
}
MSelectCreate:MTDTrees(playerid)
{
	new items_array[26] = {700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725};
	MSelect_Open(playerid, MSelect:MTDTrees, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Trees");
}
MSelectCreate:MTDWalls(playerid)
{
	new items_array[109] = {19466,19426,19427,19428,19429,19430,19431,19432,19433,19434,19435,19436,19437,19438,19439,19440,19441,19442,19443,19444,19353,19354,19355,19356,19357,19358,19359,19360,19361,19362,19363,19364,19365,19366,19367,19368,19369,19370,19371,19372,19373,19374,19383,19384,19385,19386,19387,19388,19389,19390,19391,19392,19393,19394,19395,19396,19397,19398,19399,19400,19401,19402,19403,19404,19405,19406,19407,19408 ,19409 ,19410 ,19411 ,19412 ,19413 ,19414 ,19415 ,19416 ,19417 ,19464 ,19465 ,18889 ,18758 ,19456 ,19457 ,19458 ,19459 ,19460 ,19461 ,19462 ,19463 ,19445 ,19446 ,19447 ,19448 ,19449 ,19450 ,19451 ,19452 ,19453 ,19454 ,19455 ,19375 ,19376 ,19377 ,19378 ,19379 ,19380 ,19381 ,19856 ,18981};
	MSelect_Open(playerid, MSelect:MTDWalls, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Walls");
}
MSelectCreate:MTDLandsSobj(playerid)
{
	new items_array[24] = {19529,19530,19531,19531,19533,19534,19535,19536,19537,19538,19539,19540,19541,19542,19543,19544,19545,19546,19547,19548,19549,19550,19551,19552};
	MSelect_Open(playerid, MSelect:MTDLandsSobj, items_array, sizeof(items_array), .rot_z = -45.0,.header = "Landscape");
}
MSelectCreate:MTDLights(playerid)
{
	new items_array[50] = {19281,19282,19283,19284,19285,19286,19287,19288,19289,19290,19291,19292,19293,19294,19295,19296,19297,19298,19803,19895,19143,19144,19145,19146,19147,19148,19149,19150,19151,19152,19153,19154,19155,19156,19121,19122,19123,19124,19125,19126,19127,18647,18648,18649,18650,18651,18652,18656,18657,18658};
	MSelect_Open(playerid, MSelect:MTDLights, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Lights");
}
MSelectCreate:MTDParticles(playerid)
{
	new items_array[81] = {18688,18689,18690,18691,18692,18693,18694,18695,18696,18697,18698,18699,18700,18701,18702,18703,18704,18705,18706,18707,18708,18709,18710,18711,18712,18713,18714,18715,18716,18717,18718,18719,18720,18721,18722,18723,18724,18725,18726,18727,18728,18729,18730,18731,18732,18733,18734,18735,18736,18737,18738,18739,18740,18741,18742,18743,18744,18745,18746,18747,18748,18668,18669,18670,18671,18672,18673,18674,18675,18676,18677,18678,18679,18680,18681,18682,18683,18684,18685,18686,18687};
	MSelect_Open(playerid, MSelect:MTDParticles, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Particles");
}
MSelectCreate:MTDStairs(playerid)
{
	new items_array[89] = {3819,1656,1470,1471,1476,1473,1472,1428,1698,1474,1475,1477,1467,1469,1464,1466,1465,1519,1521,1436,14387,1437,1426,8572,14394,11544,13011,2633,12950,14395,14874,12958,8615,8614,14877,12987,12985,12839,14416,14407,14409,3399,16322,16649,11472,13644,10009,5130,3361,14411,14414,14410,8613,16731,7096,11496,16082,11479,10008,5822,16661,13749,5627,9316,8580,7659,16651,9618,18368,3674,3671,10152,3867,4882,11493,4171,4881,10672,4106,4565,10153,9766,5301,5308,4824,9767,10309,10185,9484};
	MSelect_Open(playerid, MSelect:MTDStairs, items_array, sizeof(items_array), .rot_z = -45.0,.header = "Stairs");
}
MSelectCreate:MTDTramp(playerid)
{
	new items_array[62] = {18568,2931,13645,13593,5152,5153,1503,18609,1245,1697,18566,3663,18451,1696,16367,18262,1633,1634,1632,8302,3363,18565,18569,3852,3364,13639,1655,1660,12914,13640,1631,13643,18567,3625,16317,13638,13604,13641,6052,7979,13636,3664,16304,18367,16305,1894,16134,16302,3269,3270,3665,8375,7980,16303,13647,13648,16084,13590,17565,16085,12956,16077};
	MSelect_Open(playerid, MSelect:MTDTramp, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Tramp");
}
MSelectCreate:MTDStunt(playerid)
{
	new items_array[236] = {19759,19760,19761,19762,19763,19718,19766,19767,19768,19769,19771,19770,19752,19753,19731,19732,19719,19720,19764,19765,19721,19722,19736,19738,19739,19741,19733,19734,19735,19737,19756,19672,19696,19750,19751,19748,19749,18774,19746,19747,18775,19740,18773,19754,19755,18776,19725,19726,19727,19728,19697,19698,19729,19730,19712,19711,18997,19744,19745,19690,19691,19646,19673,19674,18995,19723,19724,19742,19743,19675,19676,19695,19692,19693,19694,19700,18996,19758,19715,18992,18782,19717,18993,18787,19002,18858,18778,19709,19710,19707,19708,19705,19706,19699,19713,19714,18994,19687,19671,19003,18783,18784,18785,18786,19683,19684,19685,19686,18986,18987,19647,19648,19689,19688,19661,19662,19633,19703,19704,18991,18832,18838,19681,19682,19701,19702,18989,18988,19645,19642,19643,19644,18990,18831,18837,18830,19650,19005,18862,19669,18779,19659,19660,19657,19658,18825,18826,18841,18834,19655,19656,18771,19649,19663,19664,18808,18809,18836,18829,18842,19677,19678,19679,19680,18851,18821,18822,18833,18839,18810,18811,18823,18824,18840,19001,18781,19665,19666,19635,19653,19654,18817,18818,19634,19651,19652,18814,19072,19884,18819,18820,19071,19885,19886,19887,19890,19892,19891,19073,19070,18859,18777,18780,18855,18815,18816,19888,19889,19667,19668,18982,18983,18984,18985,18827,18852,19757,18854,19716,18853,19670,18812,18813,18835,18845,18843,18844,18770,18998,18999,19000,18882,18883,18847,18884,18828};
	MSelect_Open(playerid, MSelect:MTDStunt, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Stunt");
}
MSelectCreate:MTDBoxes(playerid)
{
	new items_array[166] = {2039,2038,2040,3013,3016,2041,2694,2043,2042,2481,2358,2969,2468,2476,3052,3014,3015,2359,2912,1271,2479,3632,2062,935,2483,2464,2654,2466,2478,2465,1362,930,2477,2480,3800,3046,3633,964,3134,2972,1348,2975,2678,2679,1431,923,1685,3798,925,931,944,2974,2973,2991,3799,14558,3577,14800,922,3576,942,2567,939,3796,2932,2934,2935,3043,19321,3565,3570,3571,3572,3564,14549,2933,2669,5269,14878,17055,12930,3630,3585,10576,16599,16601,18257,12913,13489,18260,3761,3066,5260,5259,5261,8885,8886,13025,5262,3567,3568,3569,12821,3566,7040,10248,3573,3378,7025,3574,3575,8077,14612,12927,8076,8078,8335,8884,3722,5132,12977,10773,12859,14552,8075,9589,7516,10814,8337,8339,8341,8073,17020,8883,7317,7834,7620,5244,12861,12934,10774,12955,7515,7527,17019,7836,7621,7622,7561,12932,10231,5855,10811,7172,9588,12860,14613,3724,7102,7186,7104,9587,8074,3621,9604,3958};
	MSelect_Open(playerid, MSelect:MTDBoxes, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Boxes");
}
MSelectCreate:MTDInteriorBar(playerid)
{
	new items_array[41] = {1485,1666,1667,1546,1455,1510,1486,19818,1484,1665,19819,1668,1669,1664,1544,1543,19823,1509,1950,1951,1512,1487,1517,1520,1551,19822,19824,19820,19821,1547,1511,1488,1542,1541,1545,1548,1732,11686,16151,16152,14565};
	MSelect_Open(playerid, MSelect:MTDInteriorBar, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Bar");
}
MSelectCreate:MTDInteriorCasino(playerid)
{
	new items_array[102] = {1901,1902,1903,1904,1911,1921,1930,1931,1932,1933,1940,1941,1898,1945,1944,1871,1872,1873,1874,1875,1876,1952,1955,1853,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,2324,2327,2326,2347,2348,2349,1943,1953,1956,1851,1852,1942,1877,1878,1879,1880,1881,1882,1947,1979,1834,1833,1835,1948,1830,1831,1832,1838,2325,1929,1895,2189,2618,2640,1515,2754,1897,2778,2779,2681,2872,3503,1837,1836,2188,14567,14568,14566,19474,3441,2785,3430,3440,1978,2783,3498,3494,3499,3437,3438,14582};
	MSelect_Open(playerid, MSelect:MTDInteriorCasino, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Casino");
}
MSelectCreate:MTDInteriorClothes(playerid)
{
	new items_array[267] = {19039,19040,19041,19042,19043,19044,19045,19046,19047,19048,19049,19050,19051,19052,19053,19138,19139,19140,19006,19007,19008,19009,19010,19011,19012,19013,19014,19015,19016,19017,19018,19019,19020,19021,19022,19023,19024,19025,19026,19027,19028,19029,19030,19031,19032,19033,19034,19035,19469,19085,18953,18954,19555,19556,19554,18960,18974,19067,19068,19069,18891,18892,18893,18894,18895,18896,18897,18898,18899,18900,18901,18902,18903,18904,18905,18906,18907,18908,18909,18910,18921,18922,18923,18924,18925,18939,18940,18941,18942,18943,19093,19160,18636,18952,18926,18927,18928,18929,18930,18931,18932,18933,18934,18935,19517,19077,19161,19162,2054,18961,18964,18965,18966,19514,19141,19558,19036,19037,19038,18955,18956,18957,18958,18959,19163,18911,18912,18913,18914,18915,18916,18917,18918,18919,18920,19801,2053,18638,19520,19521,18967,18968,18969,19101,19102,19103,19104,19105,19106,19107,19108,19109,19110,19111,19112,19113,19114,19115,19116,19117,19118,19119,19120,18947,18948,18949,18950,18951,19557,2052,19200,19488,19064,19065,19066,18936,18937,18938,18944,18945,18946,18975,19516,18976,18639,18977,18978,18979,18645,18970,18971,18972,18973,19553,19519,18640,19487,18962,19095,19096,19097,19098,19099,19100,19136,19518,19274,19330,19331,19094,11735,19351,19350,19349,19137,2384,2386,19528,19472,19515,19142,2407,19421,19422,19423,19424,2411,2705,2706,11704,19352,2843,2704,2689,2389,2396,2399,2374,2383,2844,2398,2408,2390,2401,2397,2378,2391,2392,2377,2846,2382,2845,2381,2394,2409,2371,2372,2380,2402,2373,15028,14521,14864,15027,14863,18094,14520};
	MSelect_Open(playerid, MSelect:MTDInteriorClothes, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Clothes");
}
MSelectCreate:MTDInteriorDoors(playerid)
{
	new items_array[221] = {2004,11713,2986,2954,2911,2558,2559,13360,14752,19875,2970,2947,3061,2948,2924,2955,3109,2873,2877,2878,2875,2879,2876,2946,2664,2944,1567,1491,1493,1522,1492,2949,1498,1536,1535,2959,1523,1497,1496,1494,1495,1532,1538,1537,1561,1569,1555,1556,1557,1499,1501,1504,1505,1506,1507,1502,19857,19858,19859,19860,1500,19802,14819,3051,1560,1533,2987,19303,19302,3089,3093,2930,3062,3029,14638,1965,1967,1566,2952,18757,18084,18756,2904,1651,19799,2634,19304,977,3278,11714,3032,3034,17564,3117,19796,18553,19795,16637,2945,7707,7709,10149,5043,1534,2560,2561,17566,13817,3354,13188,1649,2957,14822,2988,10150,5422,5856,9099,7927,7931,13028,3049,3036,11103,3050,5779,3033,14823,2989,5302,14824,2963,16500,6400,11360,11416,9823,5066,4084,11359,17951,1508,5020,18079,3352,13187,11102,10182,10246,5340,5056,5061,10154,11313,10575,1980,9093,8948,18001,16501,7891,2909,1966,8957,11319,3294,9625,3055,7930,10558,14762,14740,1692,9308,11327,3037,1693,3851,10671,2990,3084,2885,2938,18098,18080,3075,16773,16775,10632,10184,14482,14751,14902,5846,18095,14747,14753,8641,8669,18072,14443,8640,8670,14522,8642,8665,8666,8667,14483,5789,14892,14523,14852,14598,11007,8378,4015,5790,14499,10024,581};
	MSelect_Open(playerid, MSelect:MTDInteriorDoors, items_array, sizeof(items_array), .rot_z = -45.0,.header = "Doors");
}
MSelectCreate:MTDInteriorFurniture(playerid)
{
	new items_array[400] = {1974,2114,2074,1731,2196,2740,1960,1962,1961,19938,11708,1958,2902,2274,2707,2070,2077,2894,2279,1565,1784,2265,2268,2277,2106,2263,2238,2107,2026,2882,1429,1734,2266,2269,2275,1658,19939,2105,2278,2261,2270,1816,2264,19933,2260,3017,11725,2272,2262,2083,2282,19934,2211,2255,2287,2276,2284,2285,2271,2273,2046,2021,1821,2113,1740,2295,2095,2082,2328,19931,19932,19935,11688,2281,2155,2092,2306,19925,19928,2000,2076,2280,1823,1820,2289,2139,2303,2286,1822,2073,1893,2133,2134,2236,2081,2067,2283,19936,2609,2075,1815,2288,2258,2335,19611,1819,19930,2334,2267,2065,2066,2235,2341,2259,2168,2187,19787,2007,1417,2338,2210,2084,2167,1759,2610,2152,2142,2148,2291,2292,1813,2156,2157,2159,2901,1754,2161,1416,3965,2143,1744,2160,1814,1817,3111,2154,19940,2254,1765,14820,2163,19915,2126,1758,2234,2606,2197,1730,1964,2112,3497,2023,1818,1755,19937,3963,1769,2089,2080,19926,2094,2509,19927,2031,2110,1737,2737,1770,2323,2115,2116,2029,2119,2118,2239,2032,2085,2117,1741,2256,2191,1645,936,2162,1762,2069,2020,1743,937,1767,2462,2087,1646,1647,1657,2108,11717,2608,2451,2419,1742,2418,11724,2502,2482,2024,2128,2030,2109,2086,2111,2014,2022,14862,2088,19916,2164,2304,2153,3964,19923,2529,2530,19786,2015,2016,2019,2018,2532,2533,2531,2534,2463,2475,2199,1707,1255,941,1421,19924,2257,2178,2145,2078,2200,1764,1763,2129,2072,2071,2137,2138,1712,2307,3031,2416,2330,2305,19929,2329,1702,2063,2151,1892,2025,1706,2919,1768,2204,1766,2708,1757,1713,3962,1703,11720,2569,1761,1564,2571,1760,1756,2574,14724,14725,1753,2290,2208,2570,15037,2617,2572,14556,2140,2158,2576,2141,2573,3966,11732,2562,2568,2179,14723,14727,2357,2604,11689,16155,946,947,14491,1710,3496,14828,14493,14722,14726,2591,16378,1639,1709,14455,2177,2176,14720,15036,3921,18077,9362,14860,5171,14749,945,16780,11334,14805,11664,16154,14632,14888,14839,14807,14812,14802,14640,14461,14719,2903,15032,14489,14535,14813,14741,14704,3922,14472,14742,14543,14497,14510,15026,14509,15025,14508,14503,14507,15052,13003,18019,14477,16153,14504,14721,14544,14524,14817,14745,14739,14737,14850,14895,14505,14816,14728,14633,14462,14540,14502,13890};
	MSelect_Open(playerid, MSelect:MTDInteriorFurniture, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Furniture");
}
MSelectCreate:MTDInteriorHomes(playerid)
{
	new items_array[324] = {11746,11747,2006,19920,2344,19874,11748,19896,19897,19873,19993,19827,19998,19627,19828,19829,19826,19814,19813,11716,11715,19807,19621,19623,11744,19810,18635,19918,2613,2864,19583,11719,19468,19808,2830,19809,19585,2713,19584,2851,2829,2822,2741,2831,19586,19615,2855,11728,1840,1841,19612,2820,18633,11718,1718,1719,11743,2149,2863,2848,19624,18634,14705,19591,2868,2028,19830,11745,2813,2742,19825,11705,2849,19921,2870,2102,11727,14772,1790,1783,2192,1787,1785,1788,1782,1747,2828,2854,2515,2201,19581,1748,2320,2190,2824,2005,1781,2318,2101,2827,19614,1791,1809,2648,2226,1518,19631,2421,2317,2865,2812,1750,2852,2826,2816,2853,1839,2322,1751,19878,2862,1749,1659,2331,2595,19617,18890,2231,1971,2850,2518,2832,2739,11707,2225,2227,2514,1736,2316,11706,2524,2426,2596,2700,19613,2233,1752,19626,2103,2819,2150,11737,1208,2521,2718,2523,2312,2525,18632,2528,2230,2003,19622,2224,1786,1778,2104,2332,19616,2229,1792,2232,2738,1717,2602,11721,2339,2340,2417,2337,1738,2144,19831,2841,2002,1481,2415,1789,1808,2093,2835,2099,2360,2842,2630,2869,11709,2097,2847,2817,2815,14604,2361,1829,14532,2833,2834,2836,2818,19173,2333,2202,16377,2100,2186,2527,1804,19806,11726,2132,1661,2516,2519,2526,2130,2336,2136,19805,2517,2017,2603,2520,1780,11733,2629,1812,2297,2146,2294,2452,2135,2127,1796,19172,19174,19175,2013,19815,1771,2522,1800,2091,1795,1799,1797,2628,2627,1801,1793,1802,14866,1725,2299,1803,2302,1798,1745,14481,1701,14880,2296,14494,1828,2170,14861,2147,1794,1700,2631,2632,2090,2131,16444,19176,2566,14527,14806,2301,2575,14480,14446,2298,2563,2300,2565,2564,14867,14384,14891,15039,14386,11666,15035,14519,14457,5678,14391,14879,14517,14518,14516,14393,14583,15063,14757,15040,15050,10249,14515,14392,9440,9438,9437,943};
	MSelect_Open(playerid, MSelect:MTDInteriorHomes, items_array, sizeof(items_array),.rot_z = -45.0, .header = "In da house");
}
MSelectCreate:MTDInteriorShop(playerid)
{
	new items_array[470] = {3045,3100,3101,3102,3103,3104,3105,3106,3002,3003,2995,2996,2997,2998,2999,3000,3001,3044,3027,19346,2958,2751,2962,2961,2601,2711,2992,2752,2749,2967,2966,3072,3071,2979,2982,2981,2680,2750,2916,1621,2056,3026,1627,2804,3022,2485,2488,2489,2490,2495,3023,2965,2726,3024,1588,3021,1513,2362,3020,2422,2753,2771,2513,2471,2369,3019,19592,3018,1619,1886,2915,1959,19636,19637,19638,19639,2365,1885,2049,2050,2051,1514,2501,2503,2504,2806,2500,1589,1590,14679,14693,14686,2437,14773,14774,14775,1591,1592,2055,19871,19900,2701,3028,2712,2486,2493,2496,2494,2492,2474,2619,2914,2993,2505,2506,2508,1620,2941,2507,3221,2412,2450,2615,2805,2770,19587,14890,1614,3067,1615,2803,3004,2594,1972,2598,2983,2351,19919,2446,2424,2980,2455,2913,2441,2439,2445,2444,2943,2435,2557,2556,2555,2652,2461,2621,2497,2498,2620,2440,2622,2994,2423,2454,2593,2428,2434,2597,962,963,2491,2611,2352,2447,2584,2552,2553,2550,2551,2546,2612,1584,19526,2413,2554,2387,1616,3042,2436,1973,19324,1585,1583,2388,2442,2578,2579,2585,1622,2698,2590,2484,2547,2549,2616,2499,2548,1586,2582,2583,2433,14666,2458,2942,2614,3431,19903,2414,2367,2467,2699,2457,2366,2385,18885,2443,2586,1613,2577,1997,2460,2923,3094,2626,2964,2448,2393,19640,3807,1686,14662,14677,14684,2459,2368,2581,14680,14687,14699,2984,2449,1846,1845,1989,3025,1850,1990,2487,1842,1883,19899,2012,1843,1844,1887,1888,2871,1984,1884,1889,1890,1891,3465,3041,3281,2375,2544,2545,2542,2541,2543,14660,14678,14685,2538,2540,2535,2539,1983,2536,1993,1994,1995,1991,2537,1988,1987,1986,1996,1981,1982,1992,1587,3350,2379,14694,2376,3077,3039,14870,2589,1849,1848,1847,2625,18003,19872,14840,11245,14651,2623,14611,18004,2624,18086,18002,18005,14683,14642,3038,3531,14574,14600,14868,3533,14641,14575,2403,3040,14650,18078,18000,18050,18039,18006,18070,14663,14681,14688,18075,18081,14653,3108,14545,14571,18061,18051,19877,11150,12854,14628,14578,14434,14643,18032,18046,14609,14403,18062,2772,18048,18047,3193,11470,18017,18608,18105,18102,18044,14652,14438,14811,14829,18092,14654,18042,18091,14432,14629,14439,18069,14591,18054,18109,14580,14690,14441,18034,18112,18053,18063,14487,14793,18052,18067,18068,18035,18064,18016,14570,14691,14559,14692,18089,14569,16347,16343,14830,18263,16341,16353,16351,18040,14456,18104,18043,14695,14622,18041,17933,3973,14599,14610,14433,14617,3953,14465,14618,3955,3947,16063,16062,14616,14636,3954,14601,3952,14579,14585,14589,17860,14587,14586,14564,14627,3938,3960,14514,3957,3950,3956,3949,3951,14561,14621,3933,13596,13597,13600,13601,13605};
	MSelect_Open(playerid, MSelect:MTDInteriorShop, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Shop");
}
MSelectCreate:MTDInteriorTables(playerid)
{
	new items_array[160] = {1563,1805,1716,1670,2800,1954,1957,2125,11687,2350,2723,1810,19996,19994,1663,1671,2801,1720,2725,2096,2121,2122,2310,2776,2777,1721,1722,2356,2788,14490,1729,2807,2309,2293,2079,1806,1746,2123,1715,1711,2120,2636,1811,2724,11683,11682,11684,2644,2346,2635,1516,2763,1562,2764,1714,1433,11734,1827,1735,2124,2343,11685,19999,19997,1739,1705,2169,1704,1724,2180,2607,2799,1999,1727,2171,2175,11690,14869,1708,2173,2008,1896,2762,2370,2313,1826,2198,2209,2637,2314,2747,1969,2321,2315,2311,1825,1594,2205,2802,2165,2748,2605,2319,1968,2172,2009,2185,2174,2181,1963,1432,1998,14405,1728,2639,2027,2808,2206,1280,643,2207,2746,1970,11691,1679,1726,19922,2638,2184,1368,1256,2166,1723,2193,2308,2182,1824,11631,3657,3383,2183,2592,1281,3752,11665,14458,2784,12842,18059,14619,14620,14657,14770,18060,18055,14810,14401,14837,14833,18057};
	MSelect_Open(playerid, MSelect:MTDInteriorTables, items_array, sizeof(items_array),.rot_z = -45.0, .header = "Tables");
}

MSelectResponse:MTDHome(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDBeach(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDMapicons(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDPlants(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDSpecial(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDStones(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDTrash(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDTrees(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDWalls(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDLandsSobj(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDLights(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDParticles(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDStairs(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDTramp(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDStunt(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDBoxes(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorBar(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorCasino(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorClothes(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorDoors(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorFurniture(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorHomes(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorShop(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}
MSelectResponse:MTDInteriorTables(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) CreateDynamicObjByModelid(playerid,modelid);
	if(MSelectType:response == 2) SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	return 1;
}

MSelectResponse:Airplanes(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Bikes(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Boats(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Helicopters(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Industrial(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Lowriders(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Offroad(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Services(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:RCtoys(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) return 0;
	return 1;
}
MSelectResponse:Saloons(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Sport(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Trailers(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}
MSelectResponse:Unique(playerid, MSelectType:response, itemid, modelid)
{
	if(MSelectType:response == 1 && modelid != -1) SpawnNewVehicle(playerid, modelid);
	if(MSelectType:response == 2) ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles",Vehslist,"Select","Cancel");
	return 1;
}

stock AllowedSkin(skinid)
{
	switch(skinid){
		case 0,1,2,74,86,149,265,266,267,268,269,270,271: return 0;
		default: return 1;
	}
}

MSelectCreate:skinselect(playerid)
{
	static
		items_array[311] = {MSELECT_INVALID_MODEL_ID, ...},
		items_count = 0;

	if (items_count == 0) {
		for (new i = 0; i <= sizeof(items_array); i++) {
			if(AllowedSkin(i)){
				items_array[items_count] = i;
				items_count++;
			}
		}
	}
	MSelect_Open(playerid, MSelect:skinselect, items_array, items_count, .header = "Skins");
}

MSelectCreate:glasses(playerid)
{
	static 
		items_array[30] = {MSELECT_INVALID_MODEL_ID, ...},
		items_count = 0;
	
	if (items_count == 0) {
		for (new i = 19006; i < 19035; i++) {
			items_array[items_count] = i;
			items_count++;
		}
	}
	MSelect_Open(playerid, MSelect:glasses, items_array, items_count, .header = "Glasses", .rot_z = 45.0);
}

MSelectCreate:weapons(playerid)
{
	static items_array[13] = {346, 347, 348, 349, 350, 351, 352, 372, 353, 355, 356, 366, 341};
	MSelect_Open(playerid, MSelect:weapons, items_array, 13, .header = "Weapons", .zoom = 3.0);
}

MSelectResponse:weapons(playerid, MSelectType:response, itemid, modelid)
{
	if(modelid != -1)
	{
		switch(modelid)
		{
			case 346:
			{
				if(GetPlayerMoney(playerid) < 1000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 22, 300);
				SetMoney(playerid, -1000);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Colt 9mm");
			}
			case 347:
			{
				if(GetPlayerMoney(playerid) < 1000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 23, 300);
				SetMoney(playerid, -1000);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Colt 9mm c глушителем");
			}
			case 348:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 24, 500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Desert Eagle");
			}
			case 349:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 25, 500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Дробовик");
			}
			case 350:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 26, 500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Савны");
			}
			case 351:
			{
				if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 27, 1000);
				SetMoney(playerid, -5000);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Combat Shotgun");
			}
			case 352:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 28, 1500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Uzi");
			}
			case 372:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 32, 1500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Tec-9");
			}
			case 353:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 29, 800);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели MP5");
			}
			case 355:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 30, 800);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели AK-47");
			}
			case 356:
			{
				if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 31, 1000);
				SetMoney(playerid, -5000);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели M4");
			}
			case 366:
			{
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 42, 2500);
				SetMoney(playerid, -2500);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Огнетушитель");
			}
			case 341:
			{
				if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
				GivePlayerWeapon(playerid, 9, 1);
				SetMoney(playerid, -5000);
				PlayerPlaySound(playerid, 1054, 0, 0, 0);
				SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Бензопилу");
			}
		}
		MSelect_Close(playerid);
	}
	return 1;
}

MSelectResponse:skinselect(playerid, MSelectType:response, itemid, modelid)
{
	//new string[144];
	new oldskinid;
	//format(string, sizeof(string), "ID: %d | Type: %d | Item: %d | Model: %d",
	//       playerid, _:response, itemid, modelid);
	if(modelid != -1){
		oldskinid = GetPlayerSkin(playerid);
		PlayerInfo[playerid][pSkin] = modelid;
		SendFormattedText(playerid, COLOR_YELLOW, "Новый скин id:%i, старый :%i", modelid, oldskinid);
		SetPlayerSkin(playerid,modelid);
		//SendClientMessage(playerid, -1, string);
		MSelect_Close(playerid);
	}
	return 1;
}

MSelectResponse:glasses(playerid, MSelectType:response, itemid, modelid)
{
	if(modelid != -1){
		PlayerInfo[playerid][pObjGlasses] = modelid;
		SetPlayerAttachedObject(playerid, 2, modelid, 2, 0.09, 0.04, 0, 88, 75, 0);
		PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		MSelect_Close(playerid);
	}
	return 1;
}

public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	//if(GetPVarInt(playerid,"USEDIALOGID") != dialogid)return Kick(playerid); 
	new DialogSpoofingWarn[128];
	format(DialogSpoofingWarn, sizeof(DialogSpoofingWarn), "Обнаружен dialog spoffing игрок %s[%d]!", PlayerName(playerid), playerid);
	if(GetPVarInt(playerid,"USEDIALOGID") != dialogid) SendAdminMessage(COLOR_ADM, DialogSpoofingWarn); 
	new Float:PX,Float:PY,Float:PZ,Float:X,Float:Y,Float:Z,Float:Angle; GetPlayerPos(playerid,X,Y,Z); GetPlayerFacingAngle(playerid,Angle); GetPlayerPos(ChosenPlayer[playerid],PX,PY,PZ);
	new ClickedPlayerName[MAX_PLAYER_NAME],string[128]; GetPlayerName(ChosenPlayer[playerid],ClickedPlayerName,24); GetPlayerName(playerid,pName,24);
		
	new TplistTuningMenuStr[100] = 
		"{B22222}Transfender\n"\
		"{FF7F50}Loco Low Co\n"\
		"{0000CD}Arch Angels\n";
		
	new GangZonesManageLst[120]=
		"{FFFFFF}Информация о зоне\n"\
		"Начать захват\n"\
		"Прекратить захват\n"\
		"Освободить зону\n";
		
	new GangManageStr[220] =
		"{FFFFFF}Повысить кол-во слотов\n"\
		"Сменить информацию о клане\n"\
		"Выбрать цвет\n"\
		"Выбрать место спавна\n"\
		"Выбрать набор оружия при спавне\n"\
		"Выбрать транспорт\n"\
		"Пароль на казну\n"\
		"Оставить тег\n"\
		"Клан база\n"\
		"{FF0000}Расформировать\n";
		
	new EtcMenuStr[250] = 
		"{808080}AFK\n"\
		"{cc0000}Умереть\n"\
		"{B8860B}Стать бессмертным\n"\
		"{ffffff}Напитки и сигареты\n"\
		"{D2691E}Анимации\n"\
		"{1e90FF}Отсчет\n"\
		"{FFFFF0}Оставить предложение\n"\
		"{008000}Снять удаленно деньги\n"\
		"{FFD700}VIP\n";
		
	new SettingMenuStr[500] = 
		"{ffffff}[>] Аккаунт\n"\
		"{A9A9A9}[>] Параметры интерфейса\n"\
		"{ffffff}[>] Параметры звука\n"\
		"{A9A9A9}[>] Чат\n"\
		"{ffffff}Сменить скин\n"\
		"{A9A9A9}Сменить цвет никнейма\n"\
		"{ffffff}Выбрать погоду\n"\
		"{A9A9A9}Выбрать время суток\n"\
		"{ffffff}Сменить стиль боя\n";
	
	new AccSettingMenuStr[400] = 
		"{ffffff}Сменить {FF0000}ник\n"\
		"{ffffff}Сменить {FF0000}пароль\n"\
		"{ffffff}Сменить {FF0000}секретное слово\n"\
		"{ffffff}Ввести краткую информацию о себе\n"\
		"{ffffff}Описание\n";
	
	new AdmGiveItLst[200] = 
		"{44944A}Деньги\n"\
		"{c5d0e6}Оружие\n"\
		"{FFFF00}Jetpack\n"\
		"{FFFFFF}Сменить скин игроку\n"\
		"{ff6600}[>] Назначить\n";
		
	new AdmwipeLst[270] = 
		"{ff6600}Обнулить предупреждения\n"\
		"Забрать все оружие\n"\
		"{ffff00}Забрать VIP\n"\
		"{ff0000}Забрать Админ права\n"\
		"{336600}Обнулить деньги\n"\
		"{990000}Обнулить статистику киллов и смертей\n"\
		"{990000}Уровень и опыт\n";
		
	new AdmContolLst[200] =
		"Сменить ник игроку\n"\
		"Таблица аккаунтов игрока по IP\n"\
		"{990000}Удалить аккаунт\n";
		
	new AdmBanHummerLst[200] =
		"{ffffff}Посадить в {ff0000}тюрьму\n"\
		"{ffffff}Вытащить из {ff0000}тюрьмы либо чм\n"\
		"{ff0000}Отправить в читмир\n"\
		"{800000}KICK\n"\
		"{800000}BAN\n"\
		"{800000}BAN по serial\n"\
		"{800000}DESYNC\n";
		
	new AdminMuteLst[320] = 
		"{ffff00}Отправить в {A0522D}грязный чат\n"\
		"{ffff00}Вывести из {A0522D}грязного чата\n"\
		"{ffff00}Выдать автомут по автозаглушке\n"\
		"{ffff00}Заглушить на {ff0000}10 минут{ffff00} без увеличения автозаглушки\n"\
		"{ffff00}Заглушить на {ff0000}указанное{ffff00} кол-во минут\n"\
		"{ffff00}Разглушить\n"\
		"{ffff00}Сбросить автозаглушку\n";
		
	new HelperMuteLst[100] =
		"{ffff00}Отправить в {A0522D}грязный чат\n"\
		"{ffff00}Вывести из {A0522D}грязного чата\n";
		
	new AdminManageStr[350] =
		"{ffffff}[>] Параметры античита\n"\
		"{A9A9A9}[>] Параметры чата\n"\
		"{ffffff}[>] Параметры входа на сервер\n"\
		"{A9A9A9}[>] Управление загрузкой объектов\n"\
		"{ffffff}[>] Управление dm режимами\n"\
		"{E34234}[>] RCON\n"\
		"{cccc99}Установить погоду на сервере\n"\
		"{663333}Установить время суток на сервере\n"\
		"{008000}Сохранить конфигурацию сервера\n";
		
	new RconComStr[400] =
		"{990000}Кикнуть всех с причиной (тех работы)\n"\
		"Обновить банлист\n"\
		"Рестарт сервера через 5с.\n"\
		"Очистить лог сервера\n"\
		"Посмотреть список текущих настроек\n"\
		"Посмотреть список всех установленных плагинов\n"\
		"Посмотреть список всех установленных фильтрскриптов\n"\
		"Список RCON команд\n"\
		"{7CFC00}Выпустить всех игроков онлайн из тюрьмы\n"\
		"{7CFC00}Выпустить всех игроков онлайн из чит-мира\n";
		
	new AdmFunStr[200] = 
		"{FFFFFF}Предупредить игрока\n"\
		"{ff43a4}Игрок-Петушок\n"\
		"{00693E}Дать мешок денег\n"\
		"{00BFFF}Сказать чтоб плыл отседава\n"\
		"{FF00FF}Отправить в комнату важных переговоров\n";
	
	new AdmVehSpawnStr[600] =
		"{ffff00}Список часто используемого транспорта:\n"\
		"{ffffff}Maverick - 487\tBanshee - 429\tBmx - 481\n"\
		"{ffffff}Huntley - 579\tBullet - 541\tNRG-500 - 522\n"\
		"{ffffff}Remington - 534\tCheetah - 415\tSanchez - 468\n"\
		"{ffffff}Monster - 444\tComet - 480\tZR-350 - 477\n"\
		"{ffffff}Sandking - 495\tHotknife - 434\tBus - 431\n"\
		"{ffffff}Vortex - 539\tHotring - 494\tJester - 559\n"\
		"{ffffff}Dumper - 406\tInfernus - 411\tElegy - 562\n"\
		"{ffffff}Patriot - 470\tTurismo - 451\tSultan - 560\n"\
		"{ffffff}Rhino - 432\t Hunter - 425\tFire Truck - 407\n"\
		"{ffffff}Введите ид транспорта [400-611]:\n";
		
	new BellMenuStr[150] = "Колокольчик [CHECKPOINT]\nКолокольчик [LIFT_PING]\nКолокольчик [RACE_GO]\nКолокольчик [BOXING_BELL]\nКолокольчик [DOOR_BELL]\n{FFFFFF}Отключить\n";
	
	new DmModesInfo[950] = 
		"{FFcc00}DM-DeathMatch{FFFFFF} - один из популярнейших режимов в samp, суть deathmatch в том что после смерти игрок сразу же воскресает и продолжает бой.\n"\
		"Беспрерывное веселье, мясо и много различного оружия. В этом режиме каждый сам за себя. \n"\
		"{FFcc00}TDM-Team DeathMatch{FFFFFF} - Аналогичный предыдущему но с отличием здесь уже команда на команду, побеждает команда набравшая больше киллов\n"\
		"{FFcc00}Training{FFFFFF} - площадки для тренировок, здесь можно потренироваться в стрельбе (не идет учет статистики)\n"\
		"{FFcc00}Clan War(T/CW){FFFFFF} - это война между кланами, игра по раундам на определённой арене\n"\
		"{FFcc00}Warzone{FFFFFF} - бои с использованием военной техники и тяжелого оружия\n"\
		"{FFcc00}Counter-Strike{FFFFFF} - по аналогии с одноименной игрой тдм террористы против спецназа.\n"\
		"{FFcc00}Survival{FFFFFF} - игроку нужно выжить на арене собирая оружие, подбирая патроны и атечки, попутно убивая соперников.\n";
	
	new GangSystemInfo[950] =
		"{FFFFFF}Кланы — игровые объединения игроков, создаваемые для общения и схваток.\n"\
		"{FFFFFF}Каждый клан имеет уникальное название и тег обозначенный скобками{FFD700}[тег]{FFFFFF}\n"\
		"Правила общения, структура, набор игроков и другие внутриклановые отношения определяются лидером\n"\
		"В отличии от других проектов вы можете в описании клана рекламировать сервер, группу, либо сайт вашего клана\n"\
		"Играть в компании приятнее и веселее — всегда можно попросить поддержки.\n"\
		"{FFD700}Преимущества{FFFFFF} игры в клане:\n"\
		"\t- Сокланы не наносят урон друг другу (за исключением тяжелого оружия)\n"\
		"\t- Клан чат который позволяет общаться без фильтрации и не просматривается админами\n"\
		"\t- В клане игроки получают больше опыта\n"\
		"\t- Возможность выбрать пак оружия на спавн\n"\
		"\t- Возможность установить спавн клана и транспорт клана\n"\
		"\t- Возможность учавствовать в Cw/Tcw \n"\
		"\t- Вместе проще выжить, взаимопомощь основа коммандной игры на deathmatch\n";

	new GangCreateInfo[650] =
		"{FFFFFF}В клан можно пригласить игрока любого уровня! \n"\
		"Правила общения, структура, набор игроков и другие внутриклановые отношения определяются лидером\n"\
		"{FFFFFF}Для создания клана необходимо иметь уровень выше {FFD700}20-го{FFFFFF} и сумму {FFD700}200.000$\n"\
		"{FFFFFF}Если вы не имеете опыта игры в клане не создавайте свой, а присоединяйтесь к существующим!\n"\
		"{FFFFFF}Учтите, что развитие хорошего клана — очень сложное и долгое занятие.\n"\
		"{FF0000}Запрещено{FFFFFF}:"\
		"- Плагиат тегов и названий других кланов\n"\
		"- Нецензурная лексика в названиях и тегах кланов\n"\
		"- Наличие твинков в клане (не более 25% от всего состава)\n";
		
	new NGangTabMenuLst[50] = "{FFFFFF}Пригласить в клан";
	new GangTabMenuLst[150] = 
		"{FF0000}Вылечить(+25hp)\n"\
		"{FFFFFF}Установить ранг в клане\n"\
		"Заглушить в клан чате\n"\
		"{FF0000}Кикнуть{FFFFFF} из клана";
	
	new CreateObjbyNumStr[380] = 
		"{FFFFFF}Введите ID модели объекта для того чтобы его создать\n"\
		"Объект появится перед вами, далее вы будете изменять его\n\n"\
		"{FFD700}615-18300 GTASA: 18632-19521 SAMP\n"\
		"{FFFFFF}Максимальный ID объекта - {FFD700}19469\n"\
		"{FFFFFF}Список объектов по категориям можно посмотреть:\n"\
		"на сайте {00BFFF}https://dev.prineside.com/ru или http://objects.multiworldsserver.ru/";
		
	new EdittutorialInf[700] =
		"{FFFFFF}В редакторе карт вы можете построить собственный мир из GTA объектов\n"\
		"Вы сможете посетить миры других игроков, а также с их разрешения помочь в строительстве\n"\
		"{FFFFFF}Минимальный уровень для создания мира {FFD700}20{FFFFFF}\n"\
		"{FFFFFF}Максимальное кол-во объектов {FFD700}1000{FFFFFF}\n"\
		"{FFFFFF}Вы можете обратиться к администрации для переноса вашего маппинга в основной мир\n\n"\
		"Горячие клавиши:\n"\
		"{FFD700}Escape {FFFFFF}- чтобы выйти из редактора, или выбора объекта\n"\
		"{FFD700}Space {FFFFFF}- чтобы вращать камеру во время редактирования\n"\
		"{FFD700}N {FFFFFF}- откроет меню редатора карт\n"\
		"{FFD700}F {FFFFFF}- выйти из режима полета\n";
	
	new EditObjLst[120] = 
		"{FFFFFF}Выделить объект\n"\
		"{FFFFFF}Выбрать последний созданный объект\n"\
		"{FFFFFF}Выбрать ближайший к игроку объект\n";
	
	new RemoveObjLst[200] = 
		"{FFFFFF}Удалить объект\n"\
		"{FFFFFF}Удалить последний созданный объект\n"\
		"{FFFFFF}Удалить объекты в радиусе\n"\
		"{FFFFFF}Удалить объекты по номеру в радиусе 100(м)\n";
	
	new EditorMainMenu[150] =
		"{F8F8FF}Список миров\n"\
		"{A9A9A9}Войти в мир по номеру\n"\
		"{F8F8FF}Создать мир\n"\
		"{F8F8FF}Описание\n";
	
	new CamEditorLst[150] =
		"Полет камерой\n"\
		"Вид от первого лица\n"\
		"Вид сверху\n"\
		"Вернуть камеру\n"\
		"Установить погоду\n"\
		"Установить время\n"\
		"Взять фотоаппарат\n";
	
	new CoordsMenuLst[450] = 
		"{FFD700}/coords{FFFFFF}- информация о текущей позиции\n"\
		"{FFD700}/scord {FFFFFF}- сохранить координаты в формате: X,Y,Z\n"\
		"{FFD700}/scord angle {FFFFFF}- сохранить координаты в формате: X,Y,Z,angle\n"\
		"{FFD700}/scord array {FFFFFF}- сохранить координаты в формате: {X,Y,Z},\n"\
		"{FFD700}/scord ex {FFFFFF}- сохранить координаты в формате: {X,Y,Z,angle,world,interior},\n"\
		"{FFD700}/scord bounds {FFFFFF}- сохранить координаты в формате: {maxX,mixX,maxY,minY},\n";
		
	/*new WEditorMainMenu[200] = //disabled player map editor
		"{F8F8FF}Список миров\n"\
		"{A9A9A9}Войти в мир по номеру\n"\
		"{F8F8FF}Войти в свой мир\n"\
		"{A9A9A9}Описание\n"\
		"{F8F8FF}Управление\n"\
		"{A9A9A9}Выйти в основной мир\n";*/

	new AdmActTable[1300] = 
		"{FF0000}\t\t[Mute]\n"\
		"{FFFFFF}Флуд, капс, спам, кракозябры в чат - автомут\n"\
		"{FFFFFF}Реклама - мут 7 дней\n"\
		"{FFFFFF}Оскорбление участников проекта, админов, выдача себя за админа - мут 2 дня\n"\
		"{FFFFFF}Оскорбление родных - мут 7 дней\n"\
		"{FFFFFF}Оскорбление игроков, кланов, дезинфа, розжиг, обход игнора личных сообщений - 3 часа\n"\
		"{FFFFFF}Флуд в репорт, дезинфа адм, неадеватное поведение - 1 день\n"\
		"{FFFFFF}Некорректный ник (мат, плагиат, оск и.т.д) - отправляем на смену если не понимает бан на сутки\n"\
		"{FFFFFF}RP отыгровки - 1 час\n"\
		"{FF0000}\t\t[BAN]\n"\
		"{FFFFFF}Помеха игрокам будучи бессмертным - 10 минут\n"\
		"{FFFFFF}Багоюз, помеха спавну, перекрытие прохода, баги текстур (и.т.д не читы) - 2 часа\n"\
		"{FFFFFF}Накрутка статистики - 2 часа\n"\
		"{FFFFFF}Уход в текстуры, выход из фриза анимкой - 2 часа"\
		"{ffffff}Убийство игроков в интерьерах, домах, зеленых зонах - 2 часа\n"\
		"{FFFFFF}Читы, макросы - от 30 дней до вечки\n"\
		"{FFFFFF}Паркур моды, Matrix моды, баганные замены скинов либо тс - 4 часа\n"\
		"{FFFFFF}Обход наказания - возрат срока + 6 часов сверху, повторный - 30 дней\n"\
		"{FFFFFF}Передача админки, использование в личных целях - снятие с админки + бан 14 дней\n"\
		"\n*Личку не просматриваем, игрок может добавить в игнор недоброжелателя.\n"\
		"*За сказанное в клан чат тоже не наказываем.\n"\
		"*За повторное нарушение срок удваиваем";
	
	if(dialogid == DIALOG_MAIN)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: return SPD(playerid, DIALOG_BASETPLIST, DIALOG_STYLE_TABLIST_HEADERS, "Телепорты",BaseTplistMenu,"Выбрать","Назад");
				case 1: return DEATHMATCH_MENU(playerid);
				case 2: return SPD(playerid, DIALOG_MINIGAMES, DIALOG_STYLE_LIST, "Minigames",MingamesLst,"Выбрать","Назад");
				case 3:	
				{
					if(PlayerInfo[playerid][pGang] > 0) return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
					else return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы", NoGangMenuStr,"Выбрать","Назад");
				}
				case 4: return SPD(playerid, DIALOG_ETC, DIALOG_STYLE_LIST, "Разное",EtcMenuStr,"Выбрать","Назад");
				case 5: return SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
				case 6: return SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
				case 7: 
				{
					if(PlayerInfo[playerid][pAdmin] >= 2){
						if(GetPVarInt(playerid,"APanel") == 1) return SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel", AdminMenuStr,"Выбрать","Назад");
						else return SPD(playerid, DIALOG_ADMINLOGIN, DIALOG_STYLE_PASSWORD, "Admin panel login..", "{FFCD00}Введите пароль от админки.","Выбрать","Назад");
					}
				}
			}
		}
	}
    if(dialogid == DIALOG_REGISTER)
    {
        if(!strlen(inputtext)) return SPD(playerid, DIALOG_REGISTER, DIALOG_STYLE_INPUT, "Registration", RegisterMessageStr, "Ок", "");
        if(response) 
        {
            new PlayerNickName[MAX_PLAYER_NAME];
            GetPlayerName(playerid,PlayerNickName,sizeof(PlayerNickName));
			new year,month,day,regdate[10];
			getdate(year, month, day);
			format(regdate, sizeof(regdate), "%d.%d.%d", day,month,year);
			if(strlen(inputtext) < 4 || strlen(inputtext) > 20)
			{
				SendClientMessage(playerid, COLOR_SYSTEM, "Пароль должен состоять как минимум из 3 символов, но не более 20 символов!");
				SPD(playerid, DIALOG_REGISTER, DIALOG_STYLE_INPUT, "Registration", RegisterMessageStr, "Ок", "");
				return 1;
			}
			if(ServerCheckPass > 0)
			{
				new toppasswords[10] = {1234,12345,123456,11111,111111,6666,123123,654321,54321,4321};
				for(new i = 0; i < sizeof(toppasswords); i++)
				{
					new passcheck[24];
					valstr(passcheck, toppasswords[i]);
					if(!strcmp(inputtext, passcheck))
					{
						SendClientMessage(playerid, COLOR_SYSTEM, "Ваш пароль слишком простой для взлома. Выберите другой");
						SPD(playerid, DIALOG_REGISTER, DIALOG_STYLE_INPUT, "Registration", RegisterMessageStr, "Ок", "");
						return 1;
					}
				}
			}
            new account[129], serial[41], hpass[129];
            format(account,sizeof(account),"players/%s.ini",PlayerNickName);
            if(fexist(account)) return SPD(playerid,DIALOG_LOGIN,DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "LOGIN", ""); 
			gpci(playerid,serial,40);
            new iniFile = ini_createFile(account);
            if(iniFile < 0) ini_openFile (account);
            {
				SetPlayerColor(playerid,0xFFFFFFFF); // Novice color set
				SetPlayerSkin(playerid,79);
				SetPlayerWeather(playerid,15);
				SetPlayerTime(playerid,21,0);
				WP_Hash(hpass, sizeof(hpass), inputtext);
				ini_setString(iniFile,"Password",hpass);
				ini_setString(iniFile,"Serial",serial);
                ini_setInteger(iniFile, "Account", LastAccountNumber = LastAccountNumber + 1);
                ini_setInteger(iniFile, "Money", 10000);
                ini_setInteger(iniFile, "Credit", 0);
                ini_setInteger(iniFile, "Limit", 100000);
				new randomskin = random(73-3)+3;
                ini_setInteger(iniFile, "Skin", randomskin);
                ini_setInteger(iniFile, "Level", 1);
                ini_setInteger(iniFile, "Reward", 0);
                ini_setInteger(iniFile, "Votes", 0);
                ini_setInteger(iniFile, "Reputation", 0);
                ini_setInteger(iniFile, "Vip", 0);
                ini_setInteger(iniFile, "Admin", 0);
                ini_setInteger(iniFile, "Exp", 0);
                ini_setInteger(iniFile, "Bell", 0);
                ini_setInteger(iniFile, "FpsBar", 0);
                ini_setInteger(iniFile, "ExpBar", 1);
				ini_setInteger(iniFile, "BottomBar", 1);
				ini_setInteger(iniFile, "SpeedBar", 1);
				ini_setInteger(iniFile, "HealthBar", 0);
				ini_setInteger(iniFile, "SoundMenu", 1);
				ini_setInteger(iniFile, "Weather", 15);
				ini_setInteger(iniFile, "Hud", 1);
				ini_setInteger(iniFile, "Gang", 0);
				ini_setString(iniFile, "RegDate",regdate);
				ini_setString(iniFile, "LastLogin",regdate);
                ini_closeFile(iniFile); 
				//END INI
				SetPVarInt(playerid, "Logged", 0); 
				RegisteredToday++;
                SPD(playerid,DIALOG_LOGIN,DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "LOGIN", "");
            }
        }
        else 
        {
            SPD(playerid, DIALOG_REGISTER, DIALOG_STYLE_INPUT, "Registration", RegisterMessageStr, "Ок", "");
        }
	}
    if(dialogid == DIALOG_LOGIN)
    {
        if(!strlen(inputtext)) return SPD(playerid,DIALOG_LOGIN,DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "LOGIN", "");
        if(response)
		{
            new PlayerNickName[MAX_PLAYER_NAME], password[129], account[128], loginmessage[128];
            GetPlayerName(playerid,PlayerNickName,sizeof(PlayerNickName));
			new LastLog[10], LastIP[16], LastLogMess[50];
            format(account,sizeof(account),"players/%s.ini",PlayerNickName);
            if(IsPlayerNPC(playerid))return 1;
			// import ini pre-set
            new iniFile = ini_openFile(account);
			new hpass[129];
			WP_Hash(hpass, sizeof(hpass), inputtext);
			ini_getString(iniFile, "Password",password);
            if(!strcmp(hpass, password, true))
            {
                ini_getInteger(iniFile, "Account", PlayerInfo[playerid][pAccount]);
                ini_getInteger(iniFile, "Money", PlayerInfo[playerid][pMoney]);
                ini_getInteger(iniFile, "Credit", PlayerInfo[playerid][pCredit]);
                ini_getInteger(iniFile, "Reward", PlayerInfo[playerid][pReward]);
				if(PlayerInfo[playerid][pReward] < 100) PlayerInfo[playerid][pReward] = 0; //dirtyhack
                ini_getInteger(iniFile, "Limit", PlayerInfo[playerid][pLimit]);
                ini_getInteger(iniFile, "Level", PlayerInfo[playerid][pLevel]);
				SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
                ini_getInteger(iniFile, "Exp", PlayerInfo[playerid][pExp]);
                SetMoney(playerid, PlayerInfo[playerid][pMoney]);
				ini_getInteger(iniFile, "Kills", PlayerInfo[playerid][pKills]);
				ini_getInteger(iniFile, "DmKills", PlayerInfo[playerid][pDmKillsTotal]);
				ini_getInteger(iniFile, "Death", PlayerInfo[playerid][pDeaths]);
				ini_getInteger(iniFile, "Skin", PlayerInfo[playerid][pSkin]);
				ini_getInteger(iniFile, "FightStyle", PlayerInfo[playerid][pFightStyle]);
				SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
				ini_getInteger(iniFile, "Color", PlayerInfo[playerid][pColor]);
				ini_getInteger(iniFile, "Admin", PlayerInfo[playerid][pAdmin]);
				SetPVarInt(playerid, "pAdmin", PlayerInfo[playerid][pAdmin]); 
				ini_getInteger(iniFile, "Weather", PlayerInfo[playerid][pWeather]);
				SetPlayerWeather(playerid,PlayerInfo[playerid][pWeather]);
				ini_getInteger(iniFile, "Vip", PlayerInfo[playerid][pVip]);
				ini_getInteger(iniFile, "Bell", PlayerInfo[playerid][pBell]);
				ini_getInteger(iniFile, "SoundMenu", PlayerInfo[playerid][pSoundMenu]);
				ini_getInteger(iniFile, "DamageInfo", PlayerInfo[playerid][pDamageInfo]);
				ini_getInteger(iniFile, "Hud", PlayerInfo[playerid][pHudOn]);
				ini_getInteger(iniFile, "ExpBar", PlayerInfo[playerid][pExpBar]);
				ini_getInteger(iniFile, "FpsBar", PlayerInfo[playerid][pFpsBar]);
				ini_getInteger(iniFile, "BottomBar", PlayerInfo[playerid][pBottomBar]);
				ini_getInteger(iniFile, "SpeedBar", PlayerInfo[playerid][pSpeedBar]);
				ini_getInteger(iniFile, "HealthBar", PlayerInfo[playerid][pHealthBar]);
				ini_getInteger(iniFile, "Jailed", PlayerInfo[playerid][pJailed]);
				if(PlayerInfo[playerid][pJailed] > 0) SetPVarInt(playerid,"Jailed", PlayerInfo[playerid][pJailed]);
				ini_getInteger(iniFile, "Cw", PlayerInfo[playerid][pCw]);
				ini_getInteger(iniFile, "Cheater", PlayerInfo[playerid][pCheater]);
				ini_getInteger(iniFile, "Muted", PlayerInfo[playerid][pMuted]);
				ini_getInteger(iniFile, "Automute", PlayerInfo[playerid][pAutomute]);
				if(PlayerInfo[playerid][pMuted] > 0) SetPVarInt(playerid,"Muted", PlayerInfo[playerid][pMuted]);
				if(PlayerInfo[playerid][pAutomute] > 0) SetPVarInt(playerid,"Automute", PlayerInfo[playerid][pAutomute]);
				ini_getInteger(iniFile, "ObjGlasses", PlayerInfo[playerid][pObjGlasses]);
				ini_getInteger(iniFile, "ObjMask", PlayerInfo[playerid][pObjMask]);
				ini_getInteger(iniFile, "Gang", PlayerInfo[playerid][pGang]);
				SetPVarInt(playerid, "gangid", PlayerInfo[playerid][pGang]);
				ini_getInteger(iniFile, "GangRang", PlayerInfo[playerid][pGangRang]);
				ini_getInteger(iniFile, "World", PlayerInfo[playerid][pWorld]);
				ini_getInteger(iniFile, "Bonuspack", PlayerInfo[playerid][pBonuspack]);
				ini_getInteger(iniFile, "Bonustime", PlayerInfo[playerid][pBonustime]);
				ini_getInteger(iniFile, "Reputation", PlayerInfo[playerid][pReputation]);
				ini_getInteger(iniFile, "Votes", PlayerInfo[playerid][pVotes]);
				ini_getString(iniFile, "LastLogin", LastLog);
				ini_getString(iniFile, "Serial", PlayerInfo[playerid][pSerial]);
				ini_getString(iniFile, "LastIP", LastIP);
				ini_getString(iniFile, "AboutPlayer", PlayerInfo[playerid][pAboutPlayer]);
				ini_getString(iniFile, "Key", PlayerInfo[playerid][pKey]);
				ini_getFloat(iniFile, "SavedPosX", PlayerInfo[playerid][pSavedPosX]);
				ini_getFloat(iniFile, "SavedPosY", PlayerInfo[playerid][pSavedPosY]);
				ini_getFloat(iniFile, "SavedPosZ", PlayerInfo[playerid][pSavedPosZ]);
                ini_closeFile(iniFile);
				// color 
				//IntToHex(PlayerInfo[playerid][pColor]);
				if(PlayerInfo[playerid][pGang] > 0 && GangInfo[GetPVarInt(playerid,"gangid")][gClist] > 0) {
					SetPlayerColor(playerid, playerClistColors[GangInfo[GetPVarInt(playerid,"gangid")][gClist]]);
				}
				else if	(PlayerInfo[playerid][pVip] > 0 && PlayerInfo[playerid][pColor] > 0 && PlayerInfo[playerid][pColor] <= 200){
					SetPlayerColor(playerid, playerClistColors[PlayerInfo[playerid][pColor]]);
				}
				else SetPlayerColor(playerid,playerClistColors[random(200)]); // Random clist color
				// LastLogin
				new year,month,day,today[10];
				getdate(year, month, day);
				format(today, sizeof(today), "%d.%d.%d", day,month,year);
				if(strval(LastLog) != strval(today))
				{
					format(LastLogMess, sizeof(LastLogMess), "Вы последний раз заходили на сервер - %s", LastLog);
					SendClientMessage(playerid, COLOR_WHITE, LastLogMess);
				}
				format(loginmessage, sizeof(loginmessage), "%s[%d] подключился к серверу", PlayerNickName, playerid);
				SendClientMessageToAll(COLOR_LIME, loginmessage);
				// Info bar
				if(PlayerInfo[playerid][pLevel] < 5)
				{
					SendClientMessage(playerid,COLOR_INFO, "==========================================================\n");
					SendClientMessage(playerid,COLOR_INFO, "Добро пожаловать!\n");
					SendClientMessage(playerid,COLOR_INFO, "Открыть главное меню можно клавишей <Y> либо командой /menu\n");
					SendClientMessage(playerid,COLOR_INFO, "Список команд можно посмотреть командой /cmds\n");
					SendClientMessage(playerid,COLOR_INFO, "Настройки можно найти <Y> - Настройки\n");
					SendClientMessage(playerid,COLOR_INFO, "Здесь вы можете убивать всех подряд различными способами :)\n");
					SendClientMessage(playerid,COLOR_INFO, "If you do not understand Russian enter /lang\n");
					SendClientMessage(playerid,COLOR_INFO, "==========================================================\n");
				}
				// fix bug of the player will not spawn without pressing << >> spawn
				SetTimerEx("OnPlayerRequestClass",100,false,"i",playerid);
				SetPlayerSkin(playerid,PlayerInfo[playerid][pSkin]);
				SendTexdrawMessage(playerid, "~w~Type ~g~<Y> ~w~show menu");
				OnPlayerSpawn(playerid);
                return 1;
            }
            else
            {
                SendClientMessage(playerid, COLOR_SYSTEM, "Неверный пароль!");
				LoginAttempts[playerid]++;
				if(LoginAttempts[playerid] == 4) format(log, sizeof(log), "Игрок %s кикнут с сервера. Причина: Превышен лимит попыток авторизации.", PlayerName(playerid)), AdmLog(log), Kick(playerid);
                SPD(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "Ок", "");
                return 1;
            }
        }
        else 
        {
            SPD(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, "Авторизация", LoginMessageStr, "Ок", ""); 
        }
	}
	if(dialogid == DIALOG_ADMINLOGIN)
    {
		if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_RED, "Отказ от логина!");
        if(response)
		{
            new PlayerNickName[MAX_PLAYER_NAME], apassword[129], account[128];
            GetPlayerName(playerid,PlayerNickName,sizeof(PlayerNickName));
			format(account,sizeof(account),"players/%s.ini",PlayerNickName);
            new iniFile = ini_openFile(account);
			ini_getString(iniFile, "Adminpanel",apassword);
            if(!strcmp(inputtext, apassword, true))
            {
				SendClientMessage(playerid, COLOR_YELLOW, "Вы успешно залогинились в админ панель. Написать сообщение в админ чат можно через #текст.");
                ini_getInteger(iniFile, "Adminpanel", PlayerInfo[playerid][pAdminpanel]);
				SetPVarInt(playerid,"APanel", 1);
				SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel", AdminMenuStr,"Выбрать","Назад");
			}
			ini_closeFile(iniFile);
		}
	}
	//new editor
	if(dialogid == DIALOG_EOCREATE)
	{
		if(response)
		{
			if(!isNumeric(inputtext)) return SendClientMessage(playerid,COLOR_YELLOW,"Вводите только цифры!"),SPD(playerid,DIALOG_EOCREATE,DIALOG_STYLE_INPUT,"Создание объекта","Впишите ID объекта, который Вы хотите создать.","Создать","Закрыть");
			new Float:editor[3],id;
			GetPlayerPos(playerid,editor[0],editor[1],editor[2]);
			id = CreateDynamicObject(strval(inputtext), editor[0]+1, editor[1]+1, editor[2], 0.0,0.0,0.0, -1, -1, -1, 100.0);

			//if(id > DEF_MAX_OBJECTS) return SendClientMessageToAll(COLOR_WHITE,"Ошибка при создании объекта, лимит объектов исчерпан!");

			EDITOR_OBJECT[id][OBJ_MODEL] = strval(inputtext);
			EDITOR_OBJECT[id][OBJ_X] = editor[0]+1;
			EDITOR_OBJECT[id][OBJ_Y] = editor[1]+1;
			EDITOR_OBJECT[id][OBJ_Z] = editor[2];
			EDITOR_OBJECT[id][OBJ_RX] = 0.0;
			EDITOR_OBJECT[id][OBJ_RY] = 0.0;
			EDITOR_OBJECT[id][OBJ_RZ] = 0.0;
			EDITOR_OBJECT[id][OBJ_VW] = -1;
			EDITOR_OBJECT[id][OBJ_INTERIOR] = -1;
			EDITOR_OBJECT[id][OBJ_STREAM_DISTANCE] = 100.0;
			EDIT_OBJECT_ID[playerid] = id;
			LAST_OBJECT_ID[playerid] = id;
			EditDynamicObject(playerid, id);

			new EDITOR_QUERY[256];
			format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "INSERT INTO `OBJECTS` (`MODEL`, `X`, `Y`, `Z`, `INT`) VALUES (%d,'%f','%f','%f',%d)", EDITOR_OBJECT[id][OBJ_MODEL], EDITOR_OBJECT[id][OBJ_X], EDITOR_OBJECT[id][OBJ_Y], EDITOR_OBJECT[id][OBJ_Z], id);
			db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
			new DBResult:EDITOR_RESULT;
			format(EDITOR_QUERY,sizeof(EDITOR_QUERY),"SELECT `ID` FROM `OBJECTS` WHERE `INT`=%d",id);
			EDITOR_RESULT = db_query(EDITOR_DATABASE,EDITOR_QUERY);
			if(db_num_rows(EDITOR_RESULT) == 1)
			{
				new temp[16];
				db_get_field(EDITOR_RESULT,0,temp,16);
				EDITOR_OBJECT[id][OBJ_DB_ID] = strval(temp);
				//SendClientMessage(playerid,COLOR_WHITE,"Вы создали объект.");
			}
			db_free_result(EDITOR_RESULT);
			format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `INT`=-1 WHERE `ID`=%d",EDITOR_OBJECT[id][OBJ_DB_ID]);
			db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));

			//ExportObjectToText(EDITOR_OBJECT[id][OBJ_MODEL], EDITOR_OBJECT[id][OBJ_X], EDITOR_OBJECT[id][OBJ_Y], EDITOR_OBJECT[id][OBJ_Z], EDITOR_OBJECT[id][OBJ_RX], EDITOR_OBJECT[id][OBJ_RY],
			//EDITOR_OBJECT[id][OBJ_RZ], EDITOR_OBJECT[id][OBJ_VW], EDITOR_OBJECT[id][OBJ_INTERIOR], EDITOR_OBJECT[id][OBJ_STREAM_DISTANCE]);
			//SendFormattedText(playerid, COLOR_WHITE,"Объект id: %i сохранён в базе данных сервера",id);
		}
		else SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
	}
	if(dialogid == DIALOG_EOMAIN && response)
	{
		switch(listitem)
		{
			case 0:
			{
				EditDynamicObject(playerid, EDIT_OBJECT_ID[playerid]);
				return SendClientMessage(playerid,COLOR_WHITE,"Используйте ESC для отмены, значок сохранить чтобы сохранить позицию.");
			}
			case 1:
			{
				new c_objectid = EDIT_OBJECT_ID[playerid];
				new c_modelid = Streamer_GetIntData(STREAMER_TYPE_OBJECT, c_objectid, E_STREAMER_MODEL_ID);
				CreateDynamicObjByModelid(playerid, c_modelid);
			}
			case 2: 
			{
				SPD(playerid, DIALOG_OBJCHANGEMODEL, DIALOG_STYLE_INPUT, "Change model", "Введите id модели для смены:","OK","<");
			}
			case 3: 
			{
				new id = EDIT_OBJECT_ID[playerid];
				SetDynamicObjectRot(id, 0, 0, 0);
			}
			case 4: SPD(playerid, DIALOG_OBJROTATE, DIALOG_STYLE_LIST, "Повернуть", Rotatelist,"OK","<");
			case 5: SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
			case 6:
			{
				new EDITOR_QUERY[256];
				format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "DELETE FROM `OBJECTS` WHERE `ID`=%d",EDIT_OBJECT_ID[playerid]);
				db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
				DestroyDynamicObject(EDIT_OBJECT_ID[playerid]);
				return SendClientMessage(playerid,COLOR_WHITE,"Вы успешно удалили этот объект.");
			}
			case 7: Streamer_ToggleItem(playerid, STREAMER_TYPE_OBJECT, EDIT_OBJECT_ID[playerid], 0);
			case 8: DynamicObjectParams(playerid);
			case 9: SPD(playerid, DIALOG_OBJRCON, DIALOG_STYLE_LIST, "RCON EDIT", Rconeditlst,"OK","<");
		}
	}
	if(dialogid == DIALOG_OBJRCON)
	{
		switch(listitem)
		{
			case 0: SPD(playerid,DIALOG_EOVIRTWORLD,DIALOG_STYLE_INPUT,"Виртуальный мир","{FFFFFF}Введите номер мира для данного объекта.\nИспользуйте -1 что бы объект был виден во всех мирах.","Ok","Закрыть");
			case 1:	SPD(playerid,DIALOG_EOINTERIER,DIALOG_STYLE_INPUT,"Интерьер","{FFFFFF}Введите ID интерьера для данного объекта.\nИспользуйте -1 что бы объект был виден во всех интерьерах.","Ok","Закрыть");
			case 2: SPD(playerid,DIALOG_EOSTREAMDIST,DIALOG_STYLE_INPUT,"Расстояние видимости","{FFFFFF}Введите расстояние видимости данного объекта. По умолчанию 100.","Ok","Закрыть");
			case 3:
			{
				if(PlayerInfo[playerid][pAdmin] != 5) return SendClientMessage(playerid, COLOR_SYSTEM, "Данная функция доступна только гл.администратору!");
				new Float:px, Float:py, Float:pz;
				new Float:rx, Float:ry, Float:rz;
				GetDynamicObjectPos(EDIT_OBJECT_ID[playerid], px,py,pz);
				GetDynamicObjectRot(EDIT_OBJECT_ID[playerid], rx,ry,rz); 
				ExportObjectToText(Streamer_GetIntData(STREAMER_TYPE_OBJECT, EDIT_OBJECT_ID[playerid], E_STREAMER_MODEL_ID), px, py, pz, rx, ry, rz, Streamer_GetIntData(STREAMER_TYPE_OBJECT, EDIT_OBJECT_ID[playerid], E_STREAMER_WORLD_ID), Streamer_GetIntData(STREAMER_TYPE_OBJECT, EDIT_OBJECT_ID[playerid], E_STREAMER_INTERIOR_ID));
				SendClientMessage(playerid, COLOR_WHITE, "Объект был сохранен в папке {FFD700}Scriptfiles > Maps > ExportObjects.txt");
			}
		}
	}
	if(dialogid == DIALOG_OBJCHANGEMODEL && response)
	{
		if(!isNumeric(inputtext) && strval(inputtext) != -1) return SendClientMessage(playerid,COLOR_YELLOW,"Вводите только цифры!"),SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
		new Float:px, Float:py, Float:pz;
		new Float:rx, Float:ry, Float:rz;
		GetDynamicObjectPos(EDIT_OBJECT_ID[playerid], px,py,pz);
		GetDynamicObjectRot(EDIT_OBJECT_ID[playerid], rx,ry,rz);
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "DELETE FROM `OBJECTS` WHERE `ID`=%d",EDIT_OBJECT_ID[playerid]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		DestroyDynamicObject(EDIT_OBJECT_ID[playerid]);
		//CreateDynamicObjByModelid(playerid, strval(inputtext), .savebase = true, .PX = px, .PY = py, .PZ = pz, .RX = rx, .RY = ry, .RZ = rz);
		CreateDynamicObject(strval(inputtext), px, py, pz, rx, ry, rz, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid),-1);
		return SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	if(dialogid == DIALOG_EOVIRTWORLD && response)
	{
		if(!isNumeric(inputtext) && strval(inputtext) != -1) return SendClientMessage(playerid,COLOR_YELLOW,"Вводите только цифры!"),SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `VW`=%d WHERE `ID`=%d", strval(inputtext), EDIT_OBJECT_ID[playerid]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		SendClientMessage(playerid,COLOR_WHITE,"Вы успешно изменили виртуальный мир для данного объекта.");
		return SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	if(dialogid == DIALOG_EOINTERIER && response)
	{
		if(!isNumeric(inputtext) && strval(inputtext) != -1) return SendClientMessage(playerid,COLOR_YELLOW,"Вводите только цифры!"),SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"{A80000}Редактор объектов",EoMainLst,"Далее","Закрыть");
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `INT`=%d WHERE `ID`=%d", strval(inputtext), EDIT_OBJECT_ID[playerid]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		SendClientMessage(playerid,COLOR_WHITE,"Вы успешно изменили интерьер для данного объекта.");
		return SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	if(dialogid == DIALOG_EOSTREAMDIST && response)
	{
		if(!isNumeric(inputtext) && strval(inputtext) != -1) return SendClientMessage(playerid,COLOR_YELLOW,"Вводите только цифры!"),SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"{A80000}Редактор объектов",EoMainLst,"Далее","Закрыть");
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `DISTANCE`=%d WHERE `ID`=%d", strval(inputtext), EDIT_OBJECT_ID[playerid]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		SendClientMessage(playerid,COLOR_WHITE,"Вы успешно изменили расстояние видимости данного объекта.");
		return SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	if(dialogid == DIALOG_OBJMATERIAL)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: 
				{
					LAST_MATERIAL_INDEX[playerid] = 0;
					SetPVarInt(playerid,"MaterialEdit",1);
					SendClientMessage(playerid, COLOR_WHITE, "Для смены текстуры используйте клавиши мыши. Для выхода нажмите <N>");
				}
				case 1: SPD(playerid, DIALOG_OBJMATERIALNUM, DIALOG_STYLE_INPUT, "Смена материала по номеру", 
				"{FFFFFF}Посмотреть все существующие текстуры можно на сайте\n{00BFFF}https://textures.xyin.ws/?page=textures \n{FFFFFF}Введите {FFD700}номер текстуры{FFFFFF} от 0-300:","Ок","<");
				case 2: SPD(playerid, DIALOG_OBJMATERIALSLOT, DIALOG_STYLE_INPUT, "Смена слота материала", 
				"{FFFFFF}Устанавливает слот(слой) наложения материала. \n{FFFFFF}Введите {FFD700}номер слота{FFFFFF} от 0-6:","Ок","<");
			}
		}
	}
	if(dialogid == DIALOG_OBJMATERIALNUM)
	{
		if(response)
		{
			if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
			new materialindex;
			if(sscanf(inputtext,"d", materialindex))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести номер текстуры");
			if(GetPVarInt(playerid,"MaterialSlot") > 0) SelectMaterialIndex(playerid, materialindex, EDIT_OBJECT_ID[playerid], GetPVarInt(playerid,"MaterialSlot"));
			else SelectMaterialIndex(playerid, materialindex, EDIT_OBJECT_ID[playerid]);
			LAST_MATERIAL_INDEX[playerid] = materialindex;
			SPD(playerid, DIALOG_OBJMATERIALNUM, DIALOG_STYLE_INPUT, "Смена материала по номеру", 
			"{FFFFFF}Посмотреть все существующие текстуры можно на сайте\n{00BFFF}https://textures.xyin.ws/?page=textures \n{FFFFFF}Введите {FFD700}номер текстуры{FFFFFF} от 0-300:","Ок","<");
		}
		else SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
	}
	if(dialogid == DIALOG_OBJMATERIALSLOT)
	{
		if(response)
		{
			if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
			new materialslot;
			if(sscanf(inputtext,"d", materialslot))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести номер слота 1-6");
			SetPVarInt(playerid,"MaterialSlot",materialslot);
			SendFormattedText(playerid, COLOR_WHITE, "Вы сменили слот на: %i", materialslot);
			SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
		}
		else SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
	}
	if(dialogid == DIALOG_OBJTEXTLABEL)
	{
		if(response)
		{
			//19475,19476,19477,19478,19479,19480,19481,19482,19483 - special textlabel objects
			if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
			new objectid = CreateDynamicObjByModelid(playerid, 19481, false);
			SetDynamicObjectMaterialText(objectid, 0, inputtext, 140, "Impact", 50, 0, 0xFF000000, 0, 0);
			SendClientMessage(playerid, COLOR_WHITE, "Вы создали TextLabel");
		}
		//else SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
	}
	if(dialogid == DIALOG_SCOORDS)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: Coords(playerid);
				case 1: SaveCoords(playerid);
				case 2: SaveCoords(playerid,1);
				case 3: SaveCoords(playerid,2);
				case 4: SaveCoords(playerid,3);
				case 5: SaveCoords(playerid,4);
			}
		}
		else SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
	}
	if(dialogid == DIALOG_WORLDSMANAGE)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: SendClientMessage(playerid, COLOR_GREY, "Данный раздел пока недоступен");
				case 1: SPD(playerid, DIALOG_CHANGEWORLD, DIALOG_STYLE_INPUT, "Войти в мир", "{FFFFFF}Введите {FFD700}номер мира{FFFFFF} в который хотите войти","Ок","Назад");
				case 2: 
				{
					if(PlayerInfo[playerid][pWorld] > 0){
						UpdatePlayerPosition(playerid);
						SetPlayerInterior(playerid, 0);
						SetPlayerVirtualWorld(playerid, PlayerInfo[playerid][pWorld]);
						PlayerTextDrawShow(playerid, Objrate[playerid]);
					}
					else SPD(playerid,DIALOG_WORLDCREATE,DIALOG_STYLE_MSGBOX,"Создать мир","{FFFFFF}Для создания мира у вас должен быть 20 уровень и 2.000.000$","Создать","Назад");
				}
				case 3: SPD(playerid, DIALOG_EDITTUTORIAL, DIALOG_STYLE_MSGBOX, "О редакторе карт",EdittutorialInf, "Готово","Назад");
				case 4: SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
				case 5:
				{
					if(GetPlayerVirtualWorld(playerid) == 0) return SendClientMessage(playerid, COLOR_GREY, "Вы и так находитесь в обычном мире!");
					SetPlayerInterior(playerid, 0);
					SetPlayerVirtualWorld(playerid, 0);
					SetPlayerPos(playerid, GetPVarFloat(playerid,"LastPosX"), GetPVarFloat(playerid,"LastPosY"), GetPVarFloat(playerid,"LastPosZ"));
					PlayerTextDrawHide(playerid, Objrate[playerid]);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_MAPEDITOR)
	{
		// https://dev.prineside.com/gtasa_samp_model_id/
		// https://wiki.sa-mp.com/wiki/Game_Object_ID_List
		// http://textures.xyin.ws/?page=textures&p=56&limit=100&nodups=1
		if(response)
		{
			UpdatePlayerPosition(playerid);
			PlayerTextDrawShow(playerid, Objrate[playerid]); // Show objrate info
			SetPVarInt(playerid,"Mapedit",1);
			SetPVarInt(playerid,"MaterialEdit",0); 
			switch(listitem)
			{
				case 0: SPD(playerid,DIALOG_EOCREATE,DIALOG_STYLE_INPUT,"Создание объекта по номеру",CreateObjbyNumStr,"Создать","Закрыть");
				case 1: SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
				case 2: SPD(playerid, DIALOG_EOEDIT, DIALOG_STYLE_LIST, "Редактирование объекта",EditObjLst, "Выбрать","Назад");
				case 3: SPD(playerid, DIALOG_EODELETE, DIALOG_STYLE_LIST, "Удаление объектов",RemoveObjLst, "Выбрать","Назад");
				case 4: SPD(playerid, DIALOG_EOCAMSET, DIALOG_STYLE_LIST, "Настройки для съемки",CamEditorLst, "Выбрать","Назад");
				case 5:
				{
					new usejetpack;
					if(GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_USEJETPACK) usejetpack = true;
					new Float:facing_angle;
					new Float:adj = 4;
					GetPlayerFacingAngle(playerid, facing_angle);
					new LookAt = GetDirectionInWhichPlayerLooks(playerid, facing_angle);
					new Float:x, Float:y, Float:z;
					GetPlayerPos(playerid, x,y,z);
					if (LookAt == 0) SetPlayerPos(playerid,x,y+adj,z+1);
					if (LookAt == 1) SetPlayerPos(playerid,x-adj,y+adj,z+1);
					if (LookAt == 2) SetPlayerPos(playerid,x-adj,y,z+1);
					if (LookAt == 3) SetPlayerPos(playerid,x-adj,y-adj,z+1);
					if (LookAt == 4) SetPlayerPos(playerid,x,y-adj,z+1);
					if (LookAt == 5) SetPlayerPos(playerid,x+adj,y-adj,z+1);
					if (LookAt == 6) SetPlayerPos(playerid,x+adj,y,z+1);
					if (LookAt == 7) SetPlayerPos(playerid,x+adj,y+adj,z+1);
					if(usejetpack) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
				}
				case 6: Streamer_ToggleAllItems(playerid, STREAMER_TYPE_OBJECT, 1);
				case 7: SPD(playerid, DIALOG_EDITTUTORIAL, DIALOG_STYLE_MSGBOX, "О редакторе карт",EdittutorialInf, "Готово","Назад");
				case 8:
				{
					//if(GetPlayerVirtualWorld(playerid) == 0) return SendClientMessage(playerid, COLOR_GREY, "Вы и так находитесь в обычном мире!");
					//SetPlayerInterior(playerid, 0);
					//SetPlayerVirtualWorld(playerid, 0);
					//SetPlayerPos(playerid, PlayerInfo[playerid][pLastPosX], PlayerInfo[playerid][pLastPosY], PlayerInfo[playerid][pLastPosZ]);
					PlayerTextDrawHide(playerid, Objrate[playerid]);
					SetPVarInt(playerid,"Mapedit",0);
				}
			}
		}
	}
	if(dialogid == DIALOG_EOEDIT)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: SelectObject(playerid);
				case 1: EditDynamicObject(playerid, LAST_OBJECT_ID[playerid]);
				case 2: {
					new clo_object = GetClosestDynamicObject(playerid);
					format(string, sizeof(string), "~w~the closest ID~y~%i", clo_object);
					SendTexdrawMessage(playerid, string);
					EditDynamicObject(playerid, clo_object);
				}
			}
		}
		else
		{
			SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		}
	}
	if(dialogid == DIALOG_EODELETE)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					SelectObject(playerid);
					SetPVarInt(playerid,"ObjectDelete",1);
					new EDITOR_QUERY[256];
					format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "DELETE FROM `OBJECTS` WHERE `ID`=%d",EDIT_OBJECT_ID[playerid]);
					db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
					DestroyDynamicObject(EDIT_OBJECT_ID[playerid]);
				}
				case 1: 
				{
					if(LAST_OBJECT_ID[playerid] > 0)
					{
						new EDITOR_QUERY[256];
						format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "DELETE FROM `OBJECTS` WHERE `ID`=%d",LAST_OBJECT_ID[playerid]);
						db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
						DestroyDynamicObject(LAST_OBJECT_ID[playerid]);
						LAST_OBJECT_ID[playerid] = 0;
						return SendClientMessage(playerid,COLOR_WHITE,"Вы успешно удалили последний созданный объект");
					}	
				}
				case 2:
				{
					SPD(playerid, DIALOG_OBJRANGEDEL, DIALOG_STYLE_INPUT, "Удалить объекты в радиусе",
					"{FFFFFF}Удалит объекты вокруг вас. Будьте аккуратны с этой функцией!\n(Максимально 500 объектов, радиус не более 600 метров)\nВведите радиус удаления:","Удалить"," < ");
				}
				case 3:
				{
					SPD(playerid, DIALOG_OBJNUMRANGEDEL, DIALOG_STYLE_INPUT, "Удалить объекты по номеру",
					"{FFFFFF}Удалит объекты по номеру в радиусе 100м вокруг вас. Будьте аккуратны с этой функцией!\nВведите номер объекта:","Удалить"," < ");
				}
			}
		}
		else
		{
			SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		}
	}
	if(dialogid == DIALOG_EOCAMSET)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: if(GetPVarType(playerid, "FlyMode")) CancelFlyMode(playerid); else FlyMode(playerid);
				case 1:
				{
					if(FirstpersonOn[playerid] == 0)
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция прденазначена для съемок и скринов.");
						SendClientMessage(playerid, COLOR_YELLOW, "При движении в транспорте будет неккоректно отрисовывать окружение!");
						firstperson[playerid] = CreateObject(19300, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
						AttachObjectToPlayer(firstperson[playerid],playerid, 0.0, 0.12, 0.7, 0.0, 0.0, 0.0);
						AttachCameraToObject(playerid, firstperson[playerid]);
						FirstpersonOn[playerid] = 1;
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили вид от 1-го лица");
						SetCameraBehindPlayer(playerid);
						DestroyObject(firstperson[playerid]);
						FirstpersonOn[playerid] = 0;
					}
				}
				case 2:
				{
					GetPlayerPos(playerid,X,Y,Z);
					GetPlayerFacingAngle(playerid, Angle);
					SetPlayerCameraPos(playerid,X,Y,Z+50);
					SetPlayerCameraLookAt(playerid,X,Y,Z);
					SetPlayerFacingAngle(playerid,Angle-180.0);
				}
				case 3: SetCameraBehindPlayer(playerid);
				case 4:	SPD(playerid, DIALOG_WEATHERSET,DIALOG_STYLE_LIST,"Смена погоды", "Гроза\nТуман\nЯсное небо\nЖара\nПасмурная\nДождливая\nЯсное небо, Жара\nПесчаная буря\nЗеленоватое освещ\n{ff9900}Вернуть стандартную","Сменить","Отмена");
				case 5: SPD(playerid, DIALOG_SETTIME, DIALOG_STYLE_LIST, "Сменить время суток.",settimestr, "Выбор", "Отмена");
				case 6: GivePlayerWeapon(playerid, 43, 100);
			}
		}
		else
		{
			SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		}
	}
	if(dialogid == DIALOG_CHANGEWORLD)
	{
		if(response)
		{
			if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
			new worldid;
			UpdatePlayerPosition(playerid);
			if(sscanf(inputtext,"d", worldid))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести номер мира от 1 до 100");
			if(worldid > 0 && worldid < 100) SetPlayerVirtualWorld(playerid, worldid + 100);
		}
		else
		{
			return SPD(playerid, DIALOG_WORLDSMANAGE, DIALOG_STYLE_LIST, "Редактор",EditorMainMenu,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_OBJLIST)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDHome);
				case 1: SPD(playerid, DIALOG_OBJLIST_SAMP, DIALOG_STYLE_LIST, "Создание объекта","{FFFFFF}Стены\nЛандшафт\nОсвещение\nЧастицы(партиклы)\nТрамплины\nСтант", ">","Назад");
				case 2: SPD(playerid, DIALOG_OBJLIST_NATURE, DIALOG_STYLE_LIST, "Создание объекта","{FFFFFF}Камни и скалы\nРастения\nДеревья", ">","Назад");
				case 3: SPD(playerid, DIALOG_OBJLIST_SPEC, DIALOG_STYLE_LIST, "Создание объекта","{FFFFFF}Специальные\nИконки и пикапы", ">","Назад");
				case 4: SPD(playerid, DIALOG_OBJLIST_INTERIER, DIALOG_STYLE_LIST, "Создание объекта",
				"{FFFFFF}Товары бара\nМебель\nБытовые\nТовары магазина\nДвери и окна\nСтолы и стулья\nОдежда\nКазино", ">","Назад");
				case 5: SPD(playerid, DIALOG_OBJLIST_EXTERIER, DIALOG_STYLE_LIST, "Создание объекта","{FFFFFF}Лестницы\nКоробки\n", ">","Назад");
				case 6: MSelect_Show(playerid, MSelect:MTDTrash);
			}
		}
		else
		{
			SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		}
	}
	if(dialogid == DIALOG_OBJRANGEDEL)
	{
		if(response)
		{
			if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
			new Float:range;
			if(sscanf(inputtext,"d", range))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести радиус удаления от 1 до 600");
			new items[500] = {-1, ...};
			new Float:x, Float:y, Float:z;
			new Float:px, Float:py, Float:pz;
			GetPlayerPos(playerid, x, y, z);
			new worldid = GetPlayerVirtualWorld(playerid);
			//Streamer_GetNearbyItems(Float:x, Float:y, Float:z, type, items[], maxitems = sizeof items, Float:range = 300.0, worldid = -1)
			Streamer_GetNearbyItems(Float:x, Float:y, Float:z, STREAMER_TYPE_OBJECT, items, sizeof items, range, worldid);
			for(new i = 0; i < sizeof items; i++)
			{
				if(items[i] != 0)
				{
					Streamer_GetItemPos(STREAMER_TYPE_OBJECT, items[i], px, py, pz);
					DestroyDynamicObject(items[i]);
				}
			}
		}
	}
	if(dialogid == DIALOG_OBJNUMRANGEDEL)
	{
		if(!strlen(inputtext)) return SendClientMessage(playerid, COLOR_YELLOW, "Вы оставили поле ввода пустым!");
		new Float:range, model, dmodel;
		if(sscanf(inputtext,"d", dmodel))
		return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести номер объекта (модель)");
		new items[100] = {-1, ...};
		new Float:x, Float:y, Float:z;
		new Float:px, Float:py, Float:pz;
		GetPlayerPos(playerid, x, y, z);
		new worldid = GetPlayerVirtualWorld(playerid);
		//Streamer_GetNearbyItems(Float:x, Float:y, Float:z, type, items[], maxitems = sizeof items, Float:range = 300.0, worldid = -1)
		Streamer_GetNearbyItems(Float:x, Float:y, Float:z, STREAMER_TYPE_OBJECT, items, sizeof items, range, worldid);
		for(new i = 0; i < sizeof items; i++)
		{
			model = Streamer_GetIntData(STREAMER_TYPE_OBJECT, items[i], E_STREAMER_MODEL_ID);
			if(items[i] != 0 && model == dmodel)
			{
				Streamer_GetItemPos(STREAMER_TYPE_OBJECT, items[i], px, py, pz);
				DestroyDynamicObject(items[i]);
			}
		}
	}
	if(dialogid == DIALOG_OBJROTATE)
	{
		if(response)
		{
			new Float:RotX,Float:RotY,Float:RotZ;
			new id = EDIT_OBJECT_ID[playerid];
			switch(listitem)
			{
				case 0:{
					GetDynamicObjectRot(id, RotX, RotY, RotZ);
					SetDynamicObjectRot(id, RotX + 90, RotY, RotZ);
				}
				case 1:{
					GetDynamicObjectRot(id, RotX, RotY, RotZ);
					SetDynamicObjectRot(id, RotX + 180, RotY, RotZ);
				}
				case 2:{
					GetDynamicObjectRot(id, RotX, RotY, RotZ);
					SetDynamicObjectRot(id, RotX + 270, RotY, RotZ);
				}
				case 3:{
					GetDynamicObjectRot(id, RotX, RotY, RotZ);
					SetDynamicObjectRot(id, RotX + 360, RotY, RotZ);
				}
			}
		}
		else
		{
			SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
		}
	}
	if(dialogid == DIALOG_OBJLIST_NATURE)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDStones);
				case 1: MSelect_Show(playerid, MSelect:MTDPlants);
				case 2: MSelect_Show(playerid, MSelect:MTDTrees);
			}
		}
		else SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	}
	if(dialogid == DIALOG_OBJLIST_SAMP)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDWalls);
				case 1: MSelect_Show(playerid, MSelect:MTDLandsSobj);
				case 2: MSelect_Show(playerid, MSelect:MTDLights);
				case 3: MSelect_Show(playerid, MSelect:MTDParticles);
				case 4: MSelect_Show(playerid, MSelect:MTDTramp);
				case 5: MSelect_Show(playerid, MSelect:MTDStunt);
			}
		}
		else SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	}
	if(dialogid == DIALOG_OBJLIST_SPEC)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDSpecial);
				case 1: MSelect_Show(playerid, MSelect:MTDMapicons);
			}
		}
		else SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	}
	if(dialogid == DIALOG_OBJLIST_EXTERIER)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDStairs);
				case 1: MSelect_Show(playerid, MSelect:MTDBoxes);
			}
		}
		else SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
	}
	if(dialogid == DIALOG_OBJLIST_INTERIER)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:MTDInteriorBar);
				case 1: MSelect_Show(playerid, MSelect:MTDInteriorFurniture);
				case 2: MSelect_Show(playerid, MSelect:MTDInteriorHomes);
				case 3: MSelect_Show(playerid, MSelect:MTDInteriorShop);
				case 4: MSelect_Show(playerid, MSelect:MTDInteriorDoors);
				case 5: MSelect_Show(playerid, MSelect:MTDInteriorTables);
				case 6: MSelect_Show(playerid, MSelect:MTDInteriorClothes);
				case 7: MSelect_Show(playerid, MSelect:MTDInteriorCasino);
			}
		}
		else
		{
			SPD(playerid, DIALOG_OBJLIST, DIALOG_STYLE_LIST, "Создание объекта",ObjlistMenu, " > ","Назад");
		}
	}
	if(dialogid == DIALOG_CREATE3DTEXT)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			new nw3dtext[126];
			GetPlayerPos(playerid, X, Y, Z);
			format(nw3dtext, sizeof nw3dtext, "%s",inputtext);
			Create3DTextLabel(nw3dtext,0xAFAFAFAA,X,Y,Z,20.0,0);
			new File:pos = fopen("maps/3DText.txt", io_append);
			format(nw3dtext, sizeof nw3dtext, "Create3DTextLabel(\"%s\",0xAFAFAFAA,%.2f, %.2f, %.2f,20.0,0);\r\n",inputtext, X, Y, Z);
			fwrite(pos, nw3dtext);
			fclose(pos);
			SendClientMessage(playerid, COLOR_WHITE, "3D Text был сохранен в папке {FFD700}Scriptfiles > Maps > 3DText.txt");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_CREATEMAPICON)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(!strval(inputtext)) return 0;
			new nwMapicon[126];
			GetPlayerPos(playerid, X, Y, Z);
			//CreateDynamicMapIcon(Float:x, Float:y, Float:z, type, color, worldid = -1, interiorid = -1, playerid = -1, Float:distance = 100.0);//Native in streamer  
			CreateDynamicMapIcon(X, Y, Z, strval(inputtext), 0, -1, -1, -1, 250, MAPICON_LOCAL,-1,0);
			//SetPlayerMapIcon(playerid, 46, X, Y, Z, strval(inputtext), 0 );
			new File:pos2 = fopen("maps/MapIcons.txt", io_append);
			format(nwMapicon, sizeof nwMapicon, "CreateDynamicMapIcon(%.2f, %.2f, %.2f, %i, 0, -1, -1, -1, 100.0);\r\n", X, Y, Z, strval(inputtext));
			fwrite(pos2, nwMapicon);
			fclose(pos2);
			SendClientMessage(playerid, COLOR_WHITE, "Dynamic MapIcon был сохранен в папке {FFD700}Scriptfiles > Maps > MapIcons.txt");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ACTORS)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				// ApplyDynamicActorAnimation(playerid, "VENDING", "VEND_EAT1_P", 4.1, 0, 0, 0, 0, 0);
				case 0:	SPD(playerid, DIALOG_ACTORCREATE, DIALOG_STYLE_INPUT, "Создать актера", "{FFFFFF}Введите ид скина актера","Ok"," < ");
				case 1: SPD(playerid, DIALOG_ACTORANIMLIB, DIALOG_STYLE_INPUT, "Animlib","{FFFFFF}Введите название библиотеки анимаций (animlib[]) например PED" ,"Ok"," < ");
				case 2: SetDynamicActorInvulnerable(testactor, 1);
				case 3: SetDynamicActorInvulnerable(testactor, 0);
				case 4: DestroyDynamicActor(testactor);
				case 5: SPD(playerid, DIALOG_ACTORSMASSMENU, DIALOG_STYLE_LIST, "Создать массовку", ActorsMassMenuLst,"Ok"," < ");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ACTORSMASSMENU)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					new Float:pos[4];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GetPlayerFacingAngle(playerid, pos[3]);
					for (new x = 0; x < sizeof(massactor); x++) {
						DestroyDynamicActor(massactor[x]);
					}
					massactor[0] = CreateDynamicActor(random(73), pos[0]+random(2)+2, pos[1]+random(5), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[1] = CreateDynamicActor(random(73), pos[0]+random(3)+3, pos[1]+random(6), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[2] = CreateDynamicActor(random(73), pos[0]+random(4)+4, pos[1]+random(7), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[3] = CreateDynamicActor(random(73), pos[0]+random(4)+2, pos[1]+random(8), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[4] = CreateDynamicActor(random(73), pos[0]+random(4)+3, pos[1]+random(9), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[5] = CreateDynamicActor(random(73), pos[0]+random(4)+4, pos[1]+random(10), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[6] = CreateDynamicActor(random(73), pos[0]+random(4)+1, pos[1]+random(11), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					massactor[7] = CreateDynamicActor(random(73), pos[0]+random(4)+1, pos[1]+random(12), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					ApplyDynamicActorAnimation(massactor[0], "RIOT", "RIOT_ANGRY", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[1], "RIOT", "RIOT_ANGRY_B", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[2], "RIOT", "RIOT_challenge", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[3], "RIOT", "RIOT_CHANT", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[5], "RIOT", "RIOT_PUNCHES", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[6], "RIOT", "RIOT_shout", 4.1, 1, 0, 0, 0, 0);
				}
				case 1:
				{
					SetPVarInt(playerid, "MassActors",10);
				}
				case 4:
				{
					SPD(playerid, DIALOG_ACTORMASSANIM, DIALOG_STYLE_LIST, "Выбрать массовку", "Забастовка\nSWAT\nТанцовщицы","Выбрать","Отмена");
				}
				case 5:
				{
					for (new x = 0; x < sizeof(massactor); x++) {
						DestroyDynamicActor(massactor[x]);
					}
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ACTORS, DIALOG_STYLE_LIST, "Actors", ActorsMenuLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ACTORMASSANIM)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					new Float:pos[4];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GetPlayerFacingAngle(playerid, pos[3]);
					for (new x = 0; x < sizeof(massactor); x++) {
						DestroyDynamicActor(massactor[x]);
					}
					for (new x = 0; x < sizeof(massactor); x++) {
						massactor[x] = CreateDynamicActor(random(73), pos[0]+random(4)+2, pos[1]+random(4)+0.5, pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
						if(x > 5)
						{
							if(x % 2 == 0) ApplyDynamicActorAnimation(massactor[x], "RIOT", "RIOT_ANGRY", 4.1, 1, 0, 0, 0, 0);
							else ApplyDynamicActorAnimation(massactor[x], "RIOT", "RIOT_ANGRY_B", 4.1, 1, 0, 0, 0, 0);
						}else{
							if(x % 2 == 0) ApplyDynamicActorAnimation(massactor[x], "RIOT", "RIOT_CHANT", 4.1, 1, 0, 0, 0, 0);
							else ApplyDynamicActorAnimation(massactor[x], "RIOT", "RIOT_PUNCHES", 4.1, 1, 0, 0, 0, 0);
						}
					}
					/*ApplyDynamicActorAnimation(massactor[0], "RIOT", "RIOT_ANGRY", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[1], "RIOT", "RIOT_ANGRY_B", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[2], "RIOT", "RIOT_challenge", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[3], "RIOT", "RIOT_CHANT", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[5], "RIOT", "RIOT_PUNCHES", 4.1, 1, 0, 0, 0, 0);
					ApplyDynamicActorAnimation(massactor[6], "RIOT", "RIOT_shout", 4.1, 1, 0, 0, 0, 0);*/
				}
				case 1:
				{
					new Float:pos[4];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GetPlayerFacingAngle(playerid, pos[3]);
					for (new x = 0; x < sizeof(massactor); x++) {
						DestroyDynamicActor(massactor[x]);
					}
					for (new x = 0; x < sizeof(massactor); x++) {
						if(x == 5) break;
						if(x % 2 == 0){
							massactor[x] = CreateDynamicActor(285, pos[0], pos[1]+random(2)+x+2, pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
						}else{
							massactor[x] = CreateDynamicActor(285, pos[0], pos[1]+random(3)+x+3, pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
						}
						ApplyDynamicActorAnimation(massactor[x], "PED", "IDLE_HBHB", 4.1, 1, 0, 0, 0, 0);
					}
				}
				case 2:
				{
					new Float:pos[4];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GetPlayerFacingAngle(playerid, pos[3]);
					for (new x = 0; x < sizeof(massactor); x++) {
						DestroyDynamicActor(massactor[x]);
					}
					massactor[0] = CreateDynamicActor(178, pos[0]+random(2), pos[1]+random(2), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					ApplyDynamicActorAnimation(massactor[0], "STRIP","strip_D", 4.1, 1, 0, 0, 0, 0);
					massactor[1] = CreateDynamicActor(90, pos[0]+random(2.1), pos[1]+random(2), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					ApplyDynamicActorAnimation(massactor[1], "STRIP","strip_G", 4.1, 1, 0, 0, 0, 0);
					massactor[2] = CreateDynamicActor(152, pos[0]+random(2.2), pos[1]+random(2), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					ApplyDynamicActorAnimation(massactor[2], "STRIP","strip_C", 4.1, 1, 0, 0, 0, 0);
					massactor[3] = CreateDynamicActor(214, pos[0]+random(2.1), pos[1]+random(2), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
					ApplyDynamicActorAnimation(massactor[3], "STRIP","strip_F", 4.1, 1, 0, 0, 0, 0);
				}
			}
		}
	}
	if(dialogid == DIALOG_ACTORCREATE)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(!strval(inputtext)) return 0;
			new skinid;
			if(sscanf(inputtext,"d", skinid))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ид скина от 0 до 300");
			if(skinid> 305 || skinid == 74) skinid = GetPlayerSkin(playerid);
			new Float:pos[4];
			GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
			GetPlayerFacingAngle(playerid, pos[3]);
			DestroyDynamicActor(testactor);
			testactor = CreateDynamicActor(skinid, pos[0]+random(2), pos[1]+random(2), pos[2], pos[3], 0, 100.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid), -1, STREAMER_ACTOR_SD, -1, 0);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ACTORS, DIALOG_STYLE_LIST, "Actors", ActorsMenuLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ACTORANIMLIB)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(strlen(inputtext) <= 1) return SendClientMessage(playerid, COLOR_WHITE, "Вы оставили поле ввода пустым");
			if(sscanf(inputtext,"s", animactordatalib))
			return SendClientMessage(playerid, COLOR_YELLOW, "{FFFFFF}Нужно ввести библиотеку анимаций (animlib).\n Полный список анимаций на сайте {00BFFF}http://wiki.pro-pawn.ru/wiki/Анимации");
			SPD(playerid, DIALOG_ACTORANIMNAME, DIALOG_STYLE_INPUT, "Animlib","{FFFFFF}Введите название анимации. (animname[]) например IDLE_tired" ,"Ok"," X ");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ACTORS, DIALOG_STYLE_LIST, "Actors", ActorsMenuLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ACTORANIMNAME)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(strlen(inputtext) <= 1) return SendClientMessage(playerid, COLOR_WHITE, "Вы оставили поле ввода пустым");
			if(sscanf(inputtext,"s", animactordataname))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести имя анимации (animname)");
			ApplyDynamicActorAnimation(testactor, animactordatalib, animactordataname, 4.1, 1, 0, 0, 0, 0);
			SendFormattedText(playerid, COLOR_WHITE, "Установлена анимация %s - %s", animactordatalib, animactordataname);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ACTORS, DIALOG_STYLE_LIST, "Actors", ActorsMenuLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ANIMDLG)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0: {ApplyAnimation(playerid, "ped", "endchat_03" ,4.1,0,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 1: {ApplyAnimation(playerid,"BEACH","Lay_Bac_Loop",4.1,1,0,0,0,0,1);IsAnimLoop[playerid] = 1;}
				case 2: {ApplyAnimation(playerid, "INT_HOUSE", "LOU_Loop" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 3: ApplyAnimation(playerid, "GANGS", "smkcig_prtl" ,4.1,0,0,0,0,0,0);
				case 4: {ApplyAnimation( playerid, "DANCING", "DAN_Loop_A", 4.1, 1, 0, 0, 0, 0 ,1);IsAnimLoop[playerid] = 1;}
				case 5: {ApplyAnimation(playerid, "COP_AMBIENT", "Coplook_loop" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 6: ApplyAnimation(playerid,"MISC","plyr_shkhead",4.0,0,0,0,0,0,1);
				case 7: {ApplyAnimation(playerid, "DEALER", "DEALER_IDLE" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 8: ApplyAnimation(playerid, "CAMERA", "camstnd_cmon" ,4.1,1,0,0,0,0,0);
				case 9: {ApplyAnimation(playerid, "CRACK", "crckidle4" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 10: {ApplyAnimation(playerid, "BEACH", "ParkSit_M_loop" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 11: ApplyAnimation(playerid, "KISSING", "GF_StreetArgue_02" ,4.1,0,0,0,0,0,0);
				case 12: ApplyAnimation(playerid,"RIOT","RIOT_FUKU",4.0,0,0,0,0,0,1);
				case 13: {ApplyAnimation(playerid,"PARK","Tai_Chi_Loop", 4.1, 1, 0, 0, 0, 0 ,1); IsAnimLoop[playerid] = 1;}
				case 14: ApplyAnimation(playerid, "FOOD", "EAT_Vomit_P" ,4.1,0,0,0,0,0,0);
				case 15: ApplyAnimation(playerid, "SWEET", "sweet_ass_slap" ,4.1,0,0,0,0,0,0);
				case 16: {ApplyAnimation(playerid, "RIOT", "RIOT_ANGRY_B" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
				case 17: {ApplyAnimation(playerid, !"GANGS", !"leanIDLE" ,4.1,1,0,0,0,0,0);IsAnimLoop[playerid] = 1;}
			}
			SendTexdrawMessage(playerid, "~w~Press ~g~<F>~w~ to stop");
		}
	}
	if(dialogid == DIALOG_CREATEPICKUPLST)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					new MapiconInfoStr[2000];
					strins(MapiconInfoStr,"{8080FF}19134 - {00FF00}Зеленая стрелка верх;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}19133 - {00FF00}Красная стрелка вниз;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}19132 - {00FF00}Оранжевая стрелка вниз (прирывистая);\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}19130 - {00FF00}Черная стрелка с белыми полосками;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1550 - {00FF00}Мешок денег;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1559 - {00FF00}Белый вход;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1581 - {00FF00}Визитка;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1654 - {00FF00}Бомба;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1279 - {00FF00}Кокс;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1318 - {00FF00}Белая стрелка;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1277 - {00FF00}Сохранение;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1276 - {00FF00}Статуэтка;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1274 - {00FF00}Бакс ($);\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1273 - {00FF00}Зеленый домик;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1272 - {00FF00}Синий домик;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1254 - {00FF00}Череп;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1247 - {00FF00}Полицейская звезда;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1242 - {00FF00}Броник;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1241 - {00FF00}Таблетка;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1240 - {00FF00}Жизни;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1239 - {00FF00}Информация (i);\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1212 - {00FF00}Деньги;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1210 - {00FF00}Кейс;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}954 - {00FF00}Подкова;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1248 - {00FF00}GTAIII;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1275 - {00FF00}Синяя рубашка;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1253 - {00FF00}Значек съемки;\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{8080FF}1313 - {00FF00}Двойной череп;\n\n",strlen(MapiconInfoStr));
					strins(MapiconInfoStr,"{FFFFFF}Введите {00FF00}ID Pickup:\n",strlen(MapiconInfoStr));
					SPD(playerid,DIALOG_CREATEPICKUP,DIALOG_STYLE_INPUT,"Pickup",MapiconInfoStr,"Создать","Назад");
				}
				case 1:
				{
					new WeapPickupStr[2000];
					strins(WeapPickupStr,"{FF0000}ID Пикапов и Объектов Оружия\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}331 - {00FF00}Кастет;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}333 - {00FF00}Гольф-Клюшка;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}334 - {00FF00}Полицейская дубинка;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}335 - {00FF00}Нож;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}336 - {00FF00}Бита;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}337 - {00FF00}Лопата;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}338 - {00FF00}Кий;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}339 - {00FF00}Катана;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}341 - {00FF00}Бензопила;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}321 - {00FF00}Двусторонний фаллоимитатор;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}322 - {00FF00}Фаллоимитатор;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}323 - {00FF00}Вибратор;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}324 - {00FF00}Серебряный Вибратор;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}325 - {00FF00}Цветы;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}326 - {00FF00}Тростник;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}342 - {00FF00}Граната;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}343 - {00FF00}Слезоточивый Газ;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}344 - {00FF00}Коктейль Молотова;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}346 - {00FF00}9мм;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}347 - {00FF00}Глушитель 9мм;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}348 - {00FF00}Пустынный Орел;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}349 - {00FF00}Дробовик;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}350 - {00FF00}Sawnoff Дробовик;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}351 - {00FF00}Боевой Дробовик;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}352 - {00FF00}Микро-SMG/УЗИ;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}353 - {00FF00}MP5;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}355 - {00FF00}АК-47;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}356 - {00FF00}M4;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}372 - {00FF00}Tec-9;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}357 - {00FF00}Винтовка;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}358 - {00FF00}Снайперская Винтовка;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}359 - {00FF00}РПГ;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}360 - {00FF00}Ракета HS;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}361 - {00FF00}Огнемет;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}362 - {00FF00}Миниган;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}363 - {00FF00}Ранцевый Заряд;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}364 - {00FF00}Детонатор;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}365 - {00FF00}Балончик краски;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{8080FF}366 - {00FF00}Огнетушитель;\n",strlen(WeapPickupStr));
					strins(WeapPickupStr,"{FFFFFF}Введите {00FF00}ID Pickup:\n",strlen(WeapPickupStr));
					SPD(playerid,DIALOG_CREATEPICKUP,DIALOG_STYLE_INPUT,"Weapon pickup",WeapPickupStr,"Создать","Назад");
				}
				case 2: EdCreatePickup(1242, playerid);// armourpickup
				case 3: EdCreatePickup(1240, playerid);// hppickup
				case 4: EdCreatePickup(370, playerid);// jetpickup
				case 5: EdCreatePickup(19130, playerid);// black arrow
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_CREATEPICKUP)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(!strval(inputtext)) return 0;
			new nwPickup[126];
			GetPlayerPos(playerid, X, Y, Z);
			AddStaticPickup(strval(inputtext), 1, X, Y, Z, -1);
			new File:pos3 = fopen("maps/Pickup.txt", io_append);
			// CreateDynamicPickup(modelid, type, Float:x, Float:y, Float:z, worldid = -1, interiorid = -1, playerid = -1, Float:streamdistance = STREAMER_PICKUP_SD, areaid = -1, priority = 0) 
			format(nwPickup, sizeof nwPickup, "CreateDynamicPickup(%i, 1, %.2f, %.2f, %.2f, %i, %i, -1, 300, -1, 0);\r\n", strval(inputtext), X, Y, Z, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
			//format(nwPickup, sizeof nwPickup, "AddStaticPickup(%i, 1, %.2f, %.2f, %.2f, -1);\r\n", strval(inputtext), X, Y, Z);
			fwrite(pos3, nwPickup);
			fclose(pos3);
			SendClientMessage(playerid, COLOR_WHITE, "Pickup был сохранен в папке {FFD700}Scriptfiles > Maps > Pickups.txt");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
		}
	}
	// teleports dialog
	if(dialogid == DIALOG_BASETPLIST)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою телепорт недоступен 10 секунд");
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди c дм");
			if(PlayerInfo[playerid][pLevel] < 10) SendClientMessage(playerid, COLOR_INFO, "Полный список телепортов доступен в режиме бессмертия");
			switch(listitem)
			{
				case 0: SetPlayerPosEx(playerid,1765.7373,-1895.3802,14.1300,269.5316); // LS
				case 1: SetPlayerPosEx(playerid,-1984.3955,138.3253,27.9796,85.2897); // SF
				case 2: SetPlayerPosEx(playerid, 1317.222167, 1267.032104, 10.820312, 355.299835); // LV
				case 3: SetPlayerPosEx(playerid,-2256.1833,2364.7615,5.6276,158.9472); // Bayside
				case 4: SetPlayerPosEx(playerid,43.8830,1173.1411,18.8473,276.7381); // LV bone country
				case 5: SetPlayerPosEx(playerid,-1064.1818,-1223.9795,130.1247,264.8313); // SF Flint country
				case 6: SetPlayerPosEx(playerid,1078.4608,-331.7300,74.8740,97.5330); // LS Red country 
				case 7: SetPlayerPosEx(playerid,-2095.4441,-2368.0361,31.3874,52.4125); // Whetsone - chilliad
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_TPLISTTUNING)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new vehicleid = GetPlayerVehicleID(playerid);
			switch(listitem)
			{
				case 0: {
					if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, -1935.8392,225.7368,34.6973);
					else SetPlayerPosEx(playerid, -1935.8392,225.7368,34.6973);
				}
				case 1: {
					if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, 2647.7258,-2022.0414,13.5469);
					else SetPlayerPosEx(playerid, 2647.7258,-2022.0414,13.5469);
				}
				case 2: {
					if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, -2704.9121,218.8239,4.1797);
					else SetPlayerPosEx(playerid, -2704.9121,218.8239,4.1797);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_VIPMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(PlayerInfo[playerid][pVip] == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только для VIP!");
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_VIPINFO, DIALOG_STYLE_MSGBOX, "{ffcc00}О VIP", VipInfoMenuStr,"Ок","Выйти");
				case 1: AdmState(playerid);
				case 2: SPD(playerid, DIALOG_VIPFUN, DIALOG_STYLE_LIST, "FUN",VipFunList,"Выбрать","Назад");//vipfun
				case 3:
				{
					SendClientMessage(playerid, COLOR_GREY, DEMO_MESSG);
				}
				case 4: SPD(playerid, DIALOG_SPAWNPLACE, DIALOG_STYLE_LIST, "Spawn place",SpawnPlaceList,"OK","X");//spawnpalce
				case 5:
				{
					if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов jetpack на дм запрещен");
					if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов jetpack в интерьерах запрещен");
					if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
					new playerState = GetPlayerState(playerid);
					if(playerState != PLAYER_STATE_ONFOOT) return SendClientMessage(playerid, COLOR_YELLOW, "Сейчас вызов jetpack недоступен");
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
					SendClientMessage(playerid, COLOR_INFO, "Вы взяли JETPACK");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_VIPFUN)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(PlayerInfo[playerid][pVip] == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только для VIP!");
			switch(listitem)
			{
				case 0:
				{
					if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Покупка оружия на дм запрещена");
					GivePlayerWeapon(playerid, 44,1); // Night Vis Goggles

				}
				case 1:
				{
					if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Покупка оружия на дм запрещена");
					GivePlayerWeapon(playerid, 45,1); // Thermal Goggles
				}
				case 2:
				{
					new Float:pos[3];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 6.1, 0, 0, 0, 0, 0,1);
					if(PlantObj[playerid] > 0) DestroyDynamicObject(PlantObj[playerid]);
					new plantedobj = CreateDynamicObject(18728, pos[0], pos[1], pos[2]-2.5, 0, 0, 0, 0, -1, -1, 300, 300, -1, 0);
					PlantObj[playerid] = plantedobj;
				}
				case 3: SetPlayerPosEx(playerid, 2567.52,-1294.59,1063.25,0,0,2);
				case 4: 
				{
					ApplyAnimation( playerid, "SHOP", "ROB_shifty", 4.1, 0, 1, 1, 0, 0 );
                    SetPlayerAttachedObject(playerid, 0, 18912, 2, 0.1, 0.03, -0.005, 90.0, 180.0, 90.0);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VIPMENU, DIALOG_STYLE_LIST, "VIP",VipMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SPAWNPLACE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(PlayerInfo[playerid][pVip] == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только для VIP!");
			switch(listitem)
			{
				case 0:
				{
					if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "В этом месте запрещено менять точку спавна!");
					new Float:x, Float:y, Float:z;
					GetPlayerPos(playerid,x,y,z);
					PlayerInfo[playerid][pSavedPosX] = x;
					PlayerInfo[playerid][pSavedPosY] = y;
					PlayerInfo[playerid][pSavedPosZ] = z;
					SendClientMessage(playerid, COLOR_YELLOW, "Точка спавна установлена на текущей позиции");
				}
				case 1:
				{
					PlayerInfo[playerid][pSavedPosX] = 0;
					PlayerInfo[playerid][pSavedPosY] = 0;
					PlayerInfo[playerid][pSavedPosZ] = 0;
					SendClientMessage(playerid, COLOR_YELLOW, "Восстановлено по умолчаию на случайное место спавна");
				}
			}
		}
	}
	if(dialogid == DIALOG_PREBUG)
	{
		if(response)
		{
			if(strlen(inputtext) > 10 && strlen(inputtext) < 255)
			{
				format(string, sizeof(string), "%s оставил предложение: %s", PlayerName(playerid), inputtext);
				new Float:plX,Float:plY,Float:plZ,Float:plAngle;
				GetPlayerPos(playerid, plX,plY,plZ);
				GetPlayerFacingAngle(playerid, plAngle);
				new posinfo[160];
				format(posinfo, sizeof(posinfo), "координаты: %f, %f, %f, %f world=%i, interior=%i", plX,plY,plZ,plAngle, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
				new write[256], day, mes, god, hour, minn, sec;
				getdate(god, mes, day);
				gettime(hour, minn, sec);
				format(write, sizeof(write), "[%d.%d.%d|%d:%d:%d]%s\r\n%s", day, mes, god, hour, minn, sec, string);
				new File:hFile = fopen("reports/bugs.txt", io_append);
				for(new io = 0; io < strlen(write); io++) fputchar(hFile, write[io], false);
				fwrite(hFile, posinfo);
				fclose(hFile);
				SendClientMessage(playerid, COLOR_YELLOW, "Ваше предложение будет рассмотрено.");
			}
			else 
			{
				SendClientMessage(playerid, COLOR_YELLOW, "Сформулируйте иначе. Минимум 10 символов, не больше 255");
			}
		}
	}
	if(dialogid == DIALOG_DEATHMATCH)
	{
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_GREY, "Выключите режим бессмертия перед тем как зайти на дм!");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: return DM_MENU(playerid);
				case 1: return TDM_MENU(playerid);
				case 2: return SPD(playerid, DIALOG_CW, DIALOG_STYLE_LIST, "CW", CwMenu,"[Ok]","[X]");
				case 3: return TRAINING_MENU(playerid);
				case 4: return SPD(playerid, DIALOG_CS, DIALOG_STYLE_LIST, "Choose a Team", "Terrorists \nCounter-terrorists", "Ok", "[X]");
				case 5: Warzone(playerid);
				case 6: Survival(playerid);
				case 7: return SPD(playerid, DIALOG_DMMODEINFO, DIALOG_STYLE_MSGBOX, "DM modes",DmModesInfo,"<","");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_MINIGAMES)
	{
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_GREY, "Выключите режим бессмертия перед тем как зайти на дм!");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:	SPD(playerid, DIALOG_BASEJUMP, DIALOG_STYLE_LIST, "Jump","{FFFAFA}Skyjump1\n{F5F5DC}Empire state building\n","OK","<");
				case 1: SPD(playerid, DIALOG_STUNTPARKS, DIALOG_STYLE_LIST, "Stunt","{CD853F}Skate Park\n{FF8C00}BMX\n","OK","<");
				case 2:
				{
					new Deliverylist1[450] = 
					"{FFFFFF}Найдите транспорт из списка ниже и доставьте \nпо метке чтобы получить вознаграждение\n\n"\
					"{008000}428{D3D3D3} Securicar\n"\
					"{008000}409{D3D3D3} Stretch\n"\
					"{008000}461{D3D3D3} PCJ-600\n"\
					"{008000}490{D3D3D3} FBI truck\n"\
					"{008000}600{D3D3D3} Picador\n"\
					"{008000}442{D3D3D3} Romero\n"\
					"{008000}508{D3D3D3} Journey\n"\
					"{008000}603{D3D3D3} Phoenix\n"\
					"{008000}412{D3D3D3} Voodoo\n"\
					"{008000}532{D3D3D3} Combine Harvester\n";
					SPD(playerid, DIALOG_DELIVERYLIST, DIALOG_STYLE_MSGBOX, "Delivery list",Deliverylist1,"X","");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_DM)
	{
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: dm(playerid,1);// rand
				case 1: dm(playerid,24);// deagle
				case 2: dm(playerid,10);// oneshot
				case 3: dm(playerid,9);// chainsaw
				case 4: dm(playerid,34);// sniper
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_TDM)
	{
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem) 
			{
				case 0:// tdmdeagle
				{
					if(tdmzone[playerid] > 0) return SendClientMessage(playerid, COLOR_INFO,"Вы уже находитесь на TDM зоне. Чтобы покинуть DM зону введите: /exit либо /выход");
					TempColor[playerid] = GetPlayerColor(playerid);
					tdmzone[playerid] = 1;
					SPD(playerid, DIALOG_TDMTEAMSELECT, DIALOG_STYLE_LIST, "Выберите команду", "{ff0000}RED\n{0000ff}BLUE","Выбрать","Выйти");
				}
				case 1: // tdmlamo
				{
					if(tdmzone[playerid] > 0) SendClientMessage(playerid, COLOR_INFO,"Вы уже находитесь на TDM зоне. Чтобы покинуть DM зону введите: /exit либо /выход");
					TempColor[playerid] = GetPlayerColor(playerid);
					tdmzone[playerid] = 2;
					SPD(playerid, DIALOG_TDMTEAMSELECT, DIALOG_STYLE_LIST, "Выберите команду", "{ff0000}RED\n{0000ff}BLUE","Выбрать","Выйти");
				}
				case 2: // tdmsniper
				{
					if(tdmzone[playerid] > 0) SendClientMessage(playerid, COLOR_INFO,"Вы уже находитесь на TDM зоне. Чтобы покинуть DM зону введите: /exit либо /выход");
					TempColor[playerid] = GetPlayerColor(playerid);
					tdmzone[playerid] = 3;
					SPD(playerid, DIALOG_TDMTEAMSELECT, DIALOG_STYLE_LIST, "Выберите команду", "{ff0000}RED\n{0000ff}BLUE","Выбрать","Выйти");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_TDMTEAMSELECT)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					team[playerid] = TEAM_RED;
					switch(tdmzone[playerid]){
						case 1: TDM(playerid, 1);
						case 2: TDM(playerid, 2);
						case 3: TDM(playerid, 3);
					}
				}
				case 1:
				{
					team[playerid] = TEAM_BLUE;
					switch(tdmzone[playerid]){
						case 1: TDM(playerid, 1);
						case 2: TDM(playerid, 2);
						case 3: TDM(playerid, 3);
					}
				}
			}
		}
		else
		{
			tdmzone[playerid] = 0;
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CS)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: Cszone(playerid, 0);
				case 1: Cszone(playerid, 1);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMMODEINFO)
	{
		if(response)
		{
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CW)
	{
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			//if(PlayerInfo[playerid][pGang] != 5 || PlayerInfo[playerid][pVip] == 0) return SendClientMessage(playerid, COLOR_GREY, "Запустить CW может только админа, vip, или лидер клана");
			//SendClientMessage(playerid, COLOR_GREY, DEMO_MESSG);
			//SetPlayerPosEx(playerid, 2484.514892, 1042.966430, 57.501625, 265.372314, 30, 0);
			//SetPlayerWorldBounds(playerid, 2516.00012, 2443.00, 1064.5, 1021.5);
			//ResetPlayerWeapons(playerid);
			cwzone[playerid] = 1;
			SetPVarInt(playerid,"CwOwner",1);
			switch(listitem)
			{
				case 0:	SPD(playerid, DIALOG_CWTEAMSELECT, DIALOG_STYLE_LIST, "{FFFFFF}Team select",TeamSelectLst,"OK","<");
				case 1: SPD(playerid, DIALOG_CWZONES, DIALOG_STYLE_LIST, "Select map", CwMapsList,"[>]","[X]");
				case 2: SPD(playerid, DIALOG_CWWEAPONS, DIALOG_STYLE_LIST, "Weapons set","Lamo\nPro\nSniper\n","OK","<");
				case 3: SPD(playerid, DIALOG_CWINVITE, DIALOG_STYLE_LIST, "Invite to team","Attackers\nDefenders\nReferee\n","OK","<");
				case 4: StartCW(playerid);
				case 5: 
				{
					foreach(Player, i){
						if(cwzone[i] > 0) TogglePlayerControllable(i,0);
					}
				}
				case 6: StopCW();
				case 7:
				{
					//reset round stats
					ATTACKERS_SCORE = 0;
					DEFENDERS_SCORE = 0;
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CWZONES)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			SetPlayerWorldBounds(playerid, 20000.0000, -20000.0000, 20000.0000, -20000.0000);
			if(team[playerid] != TEAM_ATTACKERS && team[playerid] != TEAM_DEFENDERS && team[playerid] != TEAM_REFEREE){
				SendClientMessage(playerid, COLOR_INFO, "Сперва выбери команду ATTACKERS или DEFENDERS");
			}
			switch(listitem)
			{
				// case 2:	SetPlayerPosEx(playerid, 774.213989,-48.924297,1000.585937,0,0,6); // sfsport
				case 0:
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, 1338.916870, 2109.443603, 11.015625, 0.312786, 30, 0);//stadium
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, 1338.819702, 2193.245605, 11.023437, 181.421356, 30, 0);
				}
				case 1: 
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, -1354.5670,993.9686,1024.8982,0,30,15); // Lobbi
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, -1442.488891, 996.378234, 1024.201049, 275.085876, 30, 15);
				}
				case 2:
				{	
					new Float:DeltaRoofSF[][5] = {
					{-1786.238647, 570.872131, 234.890625, 122.491104}, {-1805.630981, 538.211486, 234.890625, 97.737487}, 
					{-1825.911621, 568.572998, 234.890625, 319.556182}
					};
					new rand = random(sizeof(DeltaRoofSF));
					SetPlayerPosEx(playerid,DeltaRoofSF[rand][0], DeltaRoofSF[rand][1], DeltaRoofSF[rand][2],DeltaRoofSF[rand][3],29,0);
					
				}
				case 3:
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, 2509.892578, 1044.078735, 57.501625, 90.217285, 30, 0);//lv roof
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, 2444.530517, 1043.622802, 57.501625, 270.386077, 30, 0);
				}
				case 4:
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, -2317.084716, -98.002761, 35.320312, 88.169395, 30, 0); //sfbox
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, -2358.345214, -99.432205, 35.320312, 269.591033, 30, 0);
				}
				case 5:
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, -198.803070, 49.636299, 3.894707, 185.385513, 25, 0);
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, -196.522430, -38.472682, 3.939384, 1.480548, 25, 0);
				}
				case 6:
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, 980.326904, 2395.299072, 11.242283, 0.218503, 25, 0);
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, 974.997009, 2473.825439, 11.242283, 185.063110, 25, 0);
				}
				case 7: 
				{
					if(team[playerid] == TEAM_ATTACKERS) SetPlayerPosEx(playerid, 61.644676, 1518.264404, 12.750000, 80.793556, 25, 0);
					if(team[playerid] == TEAM_DEFENDERS) SetPlayerPosEx(playerid, -52.750846, 1533.157958, 12.750000, 268.168426, 25, 0);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_CW, DIALOG_STYLE_LIST, "CW", CwMenu,"[Ok]","[X]");
		}
	}
	if(dialogid == DIALOG_CWWEAPONS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			ResetPlayerWeapons(playerid);
			switch(listitem)
			{
				case 0:
				{
					GivePlayerWeapon(playerid,26,10000);
					GivePlayerWeapon(playerid,32,10000);
				}
				case 1:
				{
					GivePlayerWeapon(playerid,24,10000);
					GivePlayerWeapon(playerid,25,10000);
				}
				case 2:
				{
					GivePlayerWeapon(playerid,24,10000);
					GivePlayerWeapon(playerid,34,10000);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_CW, DIALOG_STYLE_LIST, "CW", CwMenu,"[Ok]","[X]");
		}
	}
	if(dialogid == DIALOG_CWTEAMSELECT)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					TempColor[playerid] = GetPlayerColor(playerid);
					SetPlayerColor(playerid, TEAM_ATTACKERS_COLOR);
					team[playerid] = TEAM_ATTACKERS;
					SendTexdrawMessage(playerid, "~g~ TEAM ATTACKERS");
					SendClientMessage(playerid, COLOR_WHITE, "Вы переведены в команду ATTACKERS");
				}
				case 1:
				{
					TempColor[playerid] = GetPlayerColor(playerid);
					SetPlayerColor(playerid, TEAM_DEFENDERS_COLOR);
					team[playerid] = TEAM_DEFENDERS;
					SendTexdrawMessage(playerid, "~b~ TEAM DEFENDERS");
					SendClientMessage(playerid, COLOR_WHITE, "Вы переведены в команду DEFENDERS");
				}
				case 2:
				{
					//team[playerid] = 0;
					//SendTexdrawMessage(playerid, "~w~ NO TEAM");
					TempColor[playerid] = GetPlayerColor(playerid);
					SetPlayerColor(playerid, COLOR_WHITE);
					team[playerid] = TEAM_REFEREE;
					SendTexdrawMessage(playerid, "~w~ TEAM REFEREE");
					SendClientMessage(playerid, COLOR_WHITE, "Вы переведены в команду REFEREE");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_CW, DIALOG_STYLE_LIST, "CW", CwMenu,"[Ok]","[X]");
		}
	}
	if(dialogid == DIALOG_DUELZONES)
	{
		if(response)
		{
			switch(listitem)
			{
				//SetPlayerPosEx(playerid, 1412.639892,-1.787510,1000.924377,86.5430,29,1); // warehouse
				case 0:
				{
					SetPlayerPosEx(playerid, -1354.5670,993.9686,1024.8982,0,29,15); // Lobbi
					PlayerInfo[playerid][dMap] = 1;
				}
				// case 2:	SetPlayerPosEx(playerid, 774.213989,-48.924297,1000.585937,0,0,6); // sfsport
				case 1:
				{	
					new Float:DeltaRoofSF[][5] = {
					{-1786.238647, 570.872131, 234.890625, 122.491104}, {-1805.630981, 538.211486, 234.890625, 97.737487}, 
					{-1825.911621, 568.572998, 234.890625, 319.556182}
					};
					new rand = random(sizeof(DeltaRoofSF));
					SetPlayerPosEx(playerid,DeltaRoofSF[rand][0], DeltaRoofSF[rand][1], DeltaRoofSF[rand][2],DeltaRoofSF[rand][3],29,0);
					PlayerInfo[playerid][dMap] = 2;
				}
				case 2:
				{
					SetPlayerPosEx(playerid, 2509.892578, 1044.078735, 57.501625, 90.217285, 29, 0);//lv roof
					//SetPlayerPosEx(playerid, 2444.530517, 1043.622802, 57.501625, 270.386077, 29, 0);
					PlayerInfo[playerid][dMap] = 3;
				}
				case 3:
				{
					SetPlayerPosEx(playerid, 1338.916870, 2109.443603, 11.015625, 0.312786, 29, 0);//stadium
					//SetPlayerPosEx(playerid, 1338.819702, 2193.245605, 11.023437, 181.421356, 29, 0);
					PlayerInfo[playerid][dMap] = 4;
				}
				case 4:
				{
					SetPlayerPosEx(playerid, -2317.084716, -98.002761, 35.320312, 88.169395, 29, 0); //sfbox
					//SetPlayerPosEx(playerid, -2358.345214, -99.432205, 35.320312, 269.591033, 29, 0);
					PlayerInfo[playerid][dMap] = 5;
				}
			}
			SPD(playerid, DIALOG_DUELROUNDS, DIALOG_STYLE_LIST, "Rounds","1\n3\n5\n9\n15\n","OK"," X ");
		}
	}
	if(dialogid == DIALOG_DUELROUNDS && response)
	{
		switch(listitem){
			case 1: PlayerInfo[playerid][dRounds] = 1;
			case 2: PlayerInfo[playerid][dRounds] = 3;
			case 3: PlayerInfo[playerid][dRounds] = 5;
			case 4: PlayerInfo[playerid][dRounds] = 9;
			case 5: PlayerInfo[playerid][dRounds] = 15;
		}
		SPD(playerid, DIALOG_DUELROUNDS, DIALOG_STYLE_LIST, "Rounds","1\n3\n5\n9\n15\n","OK"," X ");
	}
	if(dialogid == DIALOG_DUELWEAP && response)
	{
		switch(listitem){
			case 1: PlayerInfo[playerid][dWeaponSet] = 1;
			case 2: PlayerInfo[playerid][dWeaponSet] = 2;
			case 3: PlayerInfo[playerid][dWeaponSet] = 3;
		}
		SPD(playerid, DIALOG_DUELWEAP, DIALOG_STYLE_TABLIST_HEADERS, "Weapon set",DuelWeapSetMenu,"Ok","X");
	}
	if(dialogid == DIALOG_TRAININGAREA)
	{
		// Default VirtualWorld = 20 for all training areas 
		if(response)
		{
			if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			SendClientMessage(playerid, COLOR_INFO, "На training зонах счет статистики убийств и смертей не ведется, просто наслаждайтесь игрой :)");
			switch(listitem)
			{
				case 0:
				{
					trainingzone[playerid] = 1;
					online_trlamo++;
					ResetPlayerWeapons(playerid);
					CloseMenuAccess[playerid] = 1;
					SetPlayerWorldBounds(playerid, 1190, 1078, 1374.5, 1197.5);
					new rand = random(sizeof(Map_LVAutoSchool));
					SetPlayerPosEx(playerid,Map_LVAutoSchool[rand][0], Map_LVAutoSchool[rand][1], Map_LVAutoSchool[rand][2],0,20,0);
					GivePlayerWeapon(playerid,22,10000);
					GivePlayerWeapon(playerid,26,10000);
					GivePlayerWeapon(playerid,32,10000);
					SetPlayerHealth(playerid,100);
					SetPlayerArmour(playerid,100);
				}
				case 1:
				{
					trainingzone[playerid] = 2;
					online_trsniper++;
					ResetPlayerWeapons(playerid);
					CloseMenuAccess[playerid] = 1;
					SetPlayerWorldBounds(playerid, -1918.9453125, -1983.3984375, -711.9140625, -1007.8125);
					new rand = random(sizeof(DmSniperSpawn));
					SetPlayerPosEx(playerid,DmSniperSpawn[rand][0], DmSniperSpawn[rand][1], DmSniperSpawn[rand][2],0,20,0);
					GivePlayerWeapon(playerid,34,10000); 
					SetPlayerHealth(playerid,100);
					SetPlayerArmour(playerid,0);
				}
				case 2:
				{
					trainingzone[playerid] = 3;
					online_trpro++;
					ResetPlayerWeapons(playerid);
					CloseMenuAccess[playerid] = 1;
					SetPlayerWorldBounds(playerid, -2578.125, -2715.8203125, 1482.421875, 1309.5703125);
					new rand = random(sizeof(Map_SFJizzyClub));
					SetPlayerPosEx(playerid,Map_SFJizzyClub[rand][0], Map_SFJizzyClub[rand][1], Map_SFJizzyClub[rand][2],0,20,0);
					GivePlayerWeapon(playerid,24,10000);
					GivePlayerWeapon(playerid,25,10000);
					SetPlayerHealth(playerid,100);
					SetPlayerArmour(playerid,100);
				}
				case 3:
				{
					trainingzone[playerid] = 4;
					online_trchains++;
					ResetPlayerWeapons(playerid);
					CloseMenuAccess[playerid] = 1;
					SetPlayerWorldBounds(playerid, -2595.703125, -2704.1015625, 43.9453125, -67.3828125);
					new rand = random(sizeof(Map_SFChainsawTraining));
					SetPlayerPosEx(playerid,Map_SFChainsawTraining[rand][0], Map_SFChainsawTraining[rand][1], Map_SFChainsawTraining[rand][2],0,20,0);
					GivePlayerWeapon(playerid,9,1);
					SetPlayerHealth(playerid,100);
					SetPlayerArmour(playerid,0);
				}
			}
		}
		else 
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ETC)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:// afk
				{
					if(GetPlayerInterior(playerid) > 0) 
					{
						if(pAfk[playerid] == 0) pAfk[playerid] = 1,	AFK(playerid); else	pAfk[playerid] = 0, AFK(playerid);
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Отойти в афк можно только в интерьерах, на улице вас могут убить.");
					}
				}
				case 1:
				{
					SPD(playerid, DIALOG_SUICIDE, DIALOG_STYLE_MSGBOX, "{FF0000}Умереть", "{ffffff}Для выхода из большинства багов используйте /sync. Все равно умереть?.","OK","Отмена");
				}
				case 2:
				{
					if(GetPVarInt(playerid,"pgm") > 0) SPD(playerid, DIALOG_PLGMODE, DIALOG_STYLE_MSGBOX, "Стать смертным", "{ffffff}Через 30 секунд вам вернут оружие.","OK","Отмена");
					else SPD(playerid, DIALOG_PLGMODE, DIALOG_STYLE_MSGBOX, "Стать бессмертным", "{ffffff}У вас заберут оружие и через 30 секунд и вы станете бессмертным.","OK","Отмена");
				}
				case 3: SPD(playerid, DIALOG_DRINKSMENU, DIALOG_STYLE_LIST, "Напитки","{ffffff}Сигарета\nВино\nНапиток\nПиво","Выбрать","Назад");
				case 4: SPD(playerid, DIALOG_ANIMDLG, DIALOG_STYLE_LIST, "Анимации",AnimList,"Выбрать","Назад");
				case 5: SPD(playerid, DIALOG_PLAYERCOUNT, DIALOG_STYLE_INPUT,"Запустить отсчет (/count)", 
				"{FFFFFF}Можно использовать команду /count [1-9] или /321 для запуска отсчета без параметров. \nВведите число секунд от 1 до 9:","Выбрать","Назад");
				case 6:
				{
					SPD(playerid, DIALOG_PREBUG, DIALOG_STYLE_INPUT, "Оставить предложение",
					"{FFFFFF}Заметили баг? Есть идеи по развитию сервера?\n\
					Вы скриптер или маппер и желаете добавить что-то свое?\n\
					Напишите свои предложения ниже они будут рассмотрены старшей администрацией.\n\
					{8B0000}Использование оскорблений и нецензурной лексики повлечет наказание!",
					"Ок","Отмена");
				}
				case 7:
				{
					new payinfo[400];
					format(payinfo, sizeof(payinfo), "{FFFFFF}Мобильный банкинг позволяет вам удаленно снять деньги со счета.\nЗа каждую операцию берется комиссия {FF0000}25 процентов{FFFFFF} от суммы\nУкажите сумму которую хотите удаленно снять с вашего счета.\nУ вас на счету {006400}%d$\n",PlayerInfo[playerid][pCredit]);
					SPD(playerid, DIALOG_BANKMENUTAKEMOB, DIALOG_STYLE_INPUT, "Операции со счетом", payinfo,"Снять","Назад");
				}
				case 8: 
				{
					if(PlayerInfo[playerid][pVip] > 0 || PlayerInfo[playerid][pAdmin] > 0) SPD(playerid, DIALOG_VIPMENU, DIALOG_STYLE_LIST, "VIP",VipMenuStr,"Выбрать","Назад");
					else SPD(playerid, DIALOG_VIPINFO, DIALOG_STYLE_MSGBOX, "{ffcc00}О VIP", VipInfoMenuStr,"Ок","Выйти"); 
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_INFO)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: RulesDLG(playerid);
				case 1:	CmdsList(playerid); 
				case 2:	FAQ(playerid); 
				case 3: SPD(playerid, DIALOG_KEYHELP, DIALOG_STYLE_MSGBOX, "Горячие клавиши", HotkeysMenuStr,"Закрыть","");
				case 4: PlayerStatistics(playerid,playerid);
				case 5:
				{
					//SendClientMessage(playerid,COLOR_RED,"Данный раздел пока недоступен.");
					new PlStateStr[850], PlState[24];
					format(PlStateStr, sizeof PlStateStr, "ID\tИгрок\tНахождение\n");
					foreach(Player, i)
					{
						if(pAfk[i] > 0) PlState = "AFK";
						else if(dmzone[i] > 0) PlState = "DM";
						else if(tdmzone[i] > 0) PlState = "TDM";
						else if(trainingzone[i] > 0) PlState = "Training Room";
						else if(GetPVarInt(i,"Jailed") > gettime()) PlState = "Тюрьма";
						else if(PlayerInfo[i][pCheater] > 0) PlState = "Читмир";
						else if(GetPlayerState(i) == 9)  PlState = "Наблюдении";
						else if(GetPlayerVirtualWorld(i) == 0)  PlState = "В обычном мире";
						else PlState = "-";
						format(string, sizeof string, "{ffffff}%d\t%s\t{ff9900}%s\n",i,PlayerName(i),PlState);
						strcat(PlStateStr, string);
					}
					SPD(playerid, DIALOG_PLSTATE, DIALOG_STYLE_TABLIST_HEADERS, "Нахождение игроков", PlStateStr,"Выбрать","Выйти");
				}
				case 6:
				{
					new SPtable[500], cstring[128];
					strcat(SPtable, "{ff9900}Player\t{006400}Reward\n");
					foreach(Player, i)
					{
						if(PlayerInfo[i][pReward] >= 100){
							format(cstring, sizeof(cstring), "{ffffff}%s\t{006400}%d\n",PlayerName(i), PlayerInfo[i][pReward]);
							strcat(SPtable, cstring);
						}
					}
					SPD(playerid, DIALOG_MWPLAYERS, DIALOG_STYLE_TABLIST_HEADERS, "Most wanted players", SPtable, "OK", "x");
				}	
				case 7: SPD(playerid, DIALOG_FINDNICK, DIALOG_STYLE_INPUT, "Поиск игрока", "{FFFFFF}Введите никнейм или его часть для поиска","Выбрать","Выйти");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_FINDNICK)
	{
		if(response)
		{
			new FindedPlayers[600], tempstr[24]; // 25 Players in result table
			if(strlen(inputtext) > 0 && strlen(inputtext) < 20)
			{
				foreach(Player, i)
				{
					if(strfind(PlayerName(i), inputtext, true) != -1)
					{
						format(tempstr, sizeof(tempstr), "{FFFFFF}%s\n", PlayerName(i));
						strcat(FindedPlayers, tempstr);
					}
				}
			}
			return SPD(playerid, DIALOG_FINDNICKRESULT, DIALOG_STYLE_LIST, "Игроки", FindedPlayers,"Выбрать","Выйти");
		}
	}
	if(dialogid == DIALOG_FINDNICKRESULT)
	{
		if(response)
		{
			//PlayerStatistics(listitem, playerid);
		}
	}
	if(dialogid == DIALOG_DMEXMENU)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: Sync(playerid);
				//case 0:
				//{
				//	if(dmzone[playerid] > 0) return SPD(playerid, DIALOG_DM, DIALOG_STYLE_TABLIST_HEADERS, "DM",DmMenuStr,"Выбрать","Назад");
				//	if(tdmzone[playerid] > 0) return SPD(playerid, DIALOG_TDM, DIALOG_STYLE_TABLIST_HEADERS, "TDM",TDmMenuLst,"Выбрать","Назад");
				//}
				case 1: PlayersOnDM(playerid);
				case 2: SPD(playerid, DIALOG_CREPORT, DIALOG_STYLE_INPUT, "Подать жалобу", "{FFFFFF}Обращаем внимание что жалоба должна быть по существу!\nФормат подачи жалобы: Ид игрока, затем текст жалобы." ,"Ок","Выйти");
				case 3: Exit(playerid);
			}
		}
	}
	if(dialogid == DIALOG_CREPORT)
	{
		if(response)
		{
			if(strlen(inputtext) > 1 && strlen(inputtext) < 144)
			{
				if(CloseCmdAccess[playerid] == 1) return 0;
				if(GetPVarInt(playerid,"TimeReport") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Слишком часто подаете жалобы!");
				SetPVarInt(playerid,"TimeReport",gettime() + 90);
				new astring[144];
				format(astring, sizeof(astring), " <Report> игрок %s[%d] пожаловался на: %s", PlayerName(playerid), playerid, inputtext);
				ReportsLog(astring);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1) SendClientMessage(i, COLOR_CORAL, astring);
				}
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Перефразируйте, слишком много текста");
		}
	}
	if(dialogid == DIALOG_SUICIDE)
	{
		if(response)
		{
			if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Бессмертные не умирают!");
			if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
			SetPlayerHealth(playerid, 0.0);
		}
	}
	if(dialogid == DIALOG_PDSE)
	{
		if(!response) Ban(playerid); // sobeit dialog show function detect
	}
	if(dialogid == DIALOG_KEYHELP)
	{
		if(!response) SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_RANDNOTICE)
	{
		if(!response) SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_PLSTATE)
	{
		if(response) SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_ADMONLINE)
	{
		if(response) SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_SHOPMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
					if(GetPVarInt(playerid, "Medkit") == 0){
						SetPVarInt(playerid,"Medkit", 1);
						SetMoney(playerid,-500);
						SendClientMessage(playerid, COLOR_INFO, "Для того чтобы воспользоваться аптечкой используй команду /medkit");
					}
					else SendClientMessage(playerid, COLOR_INFO, "У вас уже есть аптечка");
				}
				case 1:
				{
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					if(GetPlayerMoney(playerid) < 200) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");  
					GivePlayerWeapon(playerid, 41, 250);
					SetMoney(playerid, -100);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели баллончик с краской");
				}
				case 2:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 42, 5000);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Огнетушитель");
				}
				case 3:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 15, 1);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Трость");
				}
				case 4:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 2, 1);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Клюшку для гольфа");
				}
				case 5:
				{
					if(GetPlayerMoney(playerid) < 50) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 6, 1);
					SetMoney(playerid, -50);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Лопату");
				}
				case 6:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 8, 1);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Катану");
				}
				case 7:
				{
					if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данный предмет недоступен в режиме бессмертия.");  
					GivePlayerWeapon(playerid, 7, 1);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Кий для бильярда");
				}
				case 8:
				{
					if(GetPlayerMoney(playerid) < 2) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
					GivePlayerWeapon(playerid, 14, 1);
					SetMoney(playerid, -2);
					SendClientMessage(playerid, COLOR_INFO, "Вы приобрели Цветы");
				}
				case 9:
				{
					GivePlayerWeapon(playerid, 43, 100);
					SendClientMessage(playerid, COLOR_INFO, "Вы получили фотоаппарат, теперь можете сделать красивые снимки");
				}
			}
		}
	}			
	if(dialogid == DIALOG_BANKMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				// SPD(playerid, DIALOG_BANKMENU, DIALOG_STYLE_LIST, "Операции со счетом", BankMenuLst,"Выбрать","Назад");
				case 0:
				{
					if(PlayerInfo[playerid][pMoney] > 0)
					{
						PlayerInfo[playerid][pCredit] = PlayerInfo[playerid][pCredit] + PlayerInfo[playerid][pMoney];
						PlayerInfo[playerid][pMoney] = 0;
						ResetPlayerMoney(playerid);
						SaveAccount(playerid);
					}
				}
				case 1:
				{
					format(string, sizeof(string), "{FFFFFF}Укажите сумму которую хотите зачислить на ваш счет\nУ вас на руках {006400}%d$\n",PlayerInfo[playerid][pMoney]);
					SPD(playerid, DIALOG_BANKMENUADD, DIALOG_STYLE_INPUT, "Операции со счетом", string,"Положить","Назад");
				}
				case 2: 
				{
					format(string, sizeof(string), "{FFFFFF}Укажите сумму которую хотите снять с вашего счета.\nУ вас на счету {006400}%d$\n",PlayerInfo[playerid][pCredit]);
					SPD(playerid, DIALOG_BANKMENUTAKE, DIALOG_STYLE_INPUT, "Операции со счетом", string,"Снять","Назад");
				}
			}
		}
	}
	if(dialogid == DIALOG_BANKMENUADD)
	{
		if(response)
		{
			if(strval(inputtext) > 0 && strval(inputtext) <= PlayerInfo[playerid][pMoney])
			{
				PlayerInfo[playerid][pCredit] = PlayerInfo[playerid][pCredit] + strval(inputtext);
				PlayerInfo[playerid][pMoney] = PlayerInfo[playerid][pMoney] - strval(inputtext);
				SaveAccount(playerid);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Указанна некорректная сумма перевода!");
		}
		else SPD(playerid, DIALOG_BANKMENU, DIALOG_STYLE_LIST, "Операции со счетом", BankMenuLst,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_BANKMENUTAKE)
	{
		if(response)
		{
			if(strval(inputtext) > 0 && strval(inputtext) <= PlayerInfo[playerid][pCredit])
			{
				PlayerInfo[playerid][pMoney] = PlayerInfo[playerid][pMoney] + strval(inputtext);
				PlayerInfo[playerid][pCredit] = PlayerInfo[playerid][pCredit] - strval(inputtext);
				SaveAccount(playerid);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Указанна некорректная сумма перевода!");
		}
		else SPD(playerid, DIALOG_BANKMENU, DIALOG_STYLE_LIST, "Операции со счетом", BankMenuLst,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_BANKMENUTAKEMOB)
	{
		if(response)
		{
			if(strval(inputtext) > 0 && strval(inputtext) <= PlayerInfo[playerid][pCredit])
			{
				PlayerInfo[playerid][pMoney] = PlayerInfo[playerid][pMoney] + (strval(inputtext)*0,75);
				PlayerInfo[playerid][pCredit] = PlayerInfo[playerid][pCredit] - strval(inputtext);
				SaveAccount(playerid);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Указанна некорректная сумма перевода!");
		}
	}
	if(dialogid == DIALOG_EXTMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: AdmState(playerid);
				case 1: SPD(playerid, DIALOG_VIPMENU, DIALOG_STYLE_LIST, "VIP",VipMenuStr,"Выбрать","Назад");
				case 2:	SPD(playerid, DIALOG_DOPID, DIALOG_STYLE_INPUT,"Допменю игрока", "{FFFFFF}Введите id игрока:","Выбрать","Назад");
				case 3:	SPD(playerid, DIALOG_TABID, DIALOG_STYLE_INPUT,"TABMENU игрока", "{FFFFFF}Введите id игрока:","Выбрать","Назад");
				case 4:	
				{
					if(PlayerInfo[playerid][pAdmin] >= 2)
					{
						if(GetPVarInt(playerid,"APanel") == 1) SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
						else SPD(playerid, DIALOG_ADMINLOGIN, DIALOG_STYLE_PASSWORD, "Admin panel login..", "{FFCD00}Введите пароль от админки.","Выбрать","Назад");
					}
					else SendClientMessage(playerid, COLOR_YELLOW, "Данное меню только для администрации!");
				}
				case 5:
				{
					if(PlayerInfo[playerid][pAdmin] >= 2)
					{
						if(GetPVarInt(playerid,"APanel") == 1) SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
						else SPD(playerid, DIALOG_ADMINLOGIN, DIALOG_STYLE_PASSWORD, "Admin panel login..", "{FFCD00}Введите пароль от админки.","Выбрать","Назад");
					}
					else SendClientMessage(playerid, COLOR_YELLOW, "Данное меню только для администрации!");
				}
				case 6:	
				{
					if(PlayerInfo[playerid][pAdmin] >= 2)
					{
						if(GetPVarInt(playerid,"APanel") == 1) SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
						else SPD(playerid, DIALOG_ADMINLOGIN, DIALOG_STYLE_PASSWORD, "Admin panel login..", "{FFCD00}Введите пароль от админки.","Выбрать","Назад");
					}
					else SendClientMessage(playerid, COLOR_YELLOW, "Данное меню только для администрации!");
				}
				case 7:	SPD(playerid, DIALOG_ADMINFO, DIALOG_STYLE_LIST, "Информация", AdminInfoTStr,"Выбрать","Назад");
			}
		}
	}
	if(dialogid == DIALOG_ADMSTATE)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
	}
	if(dialogid == DIALOG_ADMCREATE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					// Players map edit disabled 
					//if(PlayerInfo[playerid][pWorld] > 0) return SPD(playerid, DIALOG_WORLDSMANAGE, DIALOG_STYLE_LIST, "Редактор",WEditorMainMenu,"Выбрать","Назад");
					//else return SPD(playerid, DIALOG_WORLDSMANAGE, DIALOG_STYLE_LIST, "Редактор",EditorMainMenu,"Выбрать","Назад");
					PlayerTextDrawShow(playerid, Objrate[playerid]); // Show objrate info
					SetPVarInt(playerid,"Mapedit",1);
					SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
					
				}
				case 1: SPD(playerid, DIALOG_CREATE3DTEXT, DIALOG_STYLE_INPUT,"3D Text","{FFFFFF}Введите {00FF00}3D Text {FFFFFF}в данном месте\n","Создать","Назад");
				case 2: 
				{
					new MapIconsLst[3000];
	                strins(MapIconsLst,"{FFFFFF}1 - {00FF00}White Square (Краш)\t\t{FFFFFF}31 - {00FF00}Property (Зел. дом)\t\t{FFFFFF}61 - {00FF00}San Fierro Rifa\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}2 - {00FF00}Player Position\t\t{FFFFFF}32 - {00FF00}Property (Крас. дом)\t\t{FFFFFF}62 - {00FF00}Grove street\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}3 - {00FF00}Player (Меню стрелка)\t{FFFFFF}33 - {00FF00}Race (Кубок)\t\t{FFFFFF}63 - {00FF00}Pay 'n' Spray (Краска)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}4 - {00FF00}North (N мап | Краш)\t\t{FFFFFF}34 - {00FF00}Ryder (R)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}5 - {00FF00}Air Yard (Аэропорт)\t\t{FFFFFF}35 - {00FF00}Save Game\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}6 - {00FF00}Ammunation (оружейка)\t{FFFFFF}36 - {00FF00}School (Крас. S)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}7 - {00FF00}Barber (Ножницы)\t\t{FFFFFF}37 - {00FF00}Unknown (?)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}8 - {00FF00}Big Smoke (ВS)\t\t{FFFFFF}38 - {00FF00}Sweet (S)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}9 - {00FF00}Boat Yard (Якарь)\t\t{FFFFFF}39 - {00FF00}Tattoo \n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}10 - {00FF00}Burger Shot (Бургер)\t{FFFFFF}40 - {00FF00}The Truth (П)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}11 - {00FF00}Quarry (Трактор)\t\t{FFFFFF}41 - {00FF00}Waypoint (Метка мап)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}12 - {00FF00}Catalina (С - розовая)\t{FFFFFF}42 - {00FF00}Toreno (Т)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}13 - {00FF00}Cesar (СV)\t\t{FFFFFF}43 - {00FF00}Triads\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}14 - {00FF00}Cluckin' Bell\t\t{FFFFFF}44 - {00FF00}Triads Casino\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}15 - {00FF00}Carl Johnson (CJ)\t\t{FFFFFF}45 - {00FF00}Clothes (Футболка)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}16 - {00FF00}C.R.A.S.H\t\t{FFFFFF}46 - {00FF00}Woozie (W)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}17 - {00FF00}Diner (Кафе)\t\t{FFFFFF}47 - {00FF00}Zero (Z)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}18 - {00FF00}Emmet (оружейка)\t\t{FFFFFF}48 - {00FF00}Club\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}19 - {00FF00}Enemy Attack (Крас. флаг)\t{FFFFFF}49 - {00FF00}Bar\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}20 - {00FF00}Fire (Пожарка)\t\t{FFFFFF}50 - {00FF00}Restaurant\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}21 - {00FF00}Girlfriend (Сердце)\t\t{FFFFFF}51 - {00FF00}Truck (Фура)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}22 - {00FF00}Hospital (Больница)\t\t{FFFFFF}52 - {00FF00}Robbery ($)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}23 - {00FF00}Loco (Череп)\t\t{FFFFFF}53 - {00FF00}Race (Флаг)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}24 - {00FF00}Madd Dogg (D)\t\t{FFFFFF}54 - {00FF00}Gym\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}25 - {00FF00}Caligulas\t\t{FFFFFF}55 - {00FF00}Car\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}26 - {00FF00}OG Loc (MC)\t\t{FFFFFF}56 - {00FF00}Light (метка - Краш)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}27 - {00FF00}Mod garage\t{FFFFFF}57 - {00FF00}Closest airport (Аэро)\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}28 - {00FF00}OG Loc (OG)\t\t{FFFFFF}58 - {00FF00}Varrios Los Aztecas\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}29 - {00FF00}Well Stacked Pizza Co\t{FFFFFF}59 - {00FF00}Ballas\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}30 - {00FF00}Police\t\t{FFFFFF}60 - {00FF00}Los Santos Vagos\n",strlen(MapIconsLst));
					strins(MapIconsLst,"\n",strlen(MapIconsLst));
	                strins(MapIconsLst,"{FFFFFF}Введите {00FF00}ID иконки:\n",strlen(MapIconsLst));
					
					SPD(playerid, DIALOG_CREATEMAPICON, DIALOG_STYLE_INPUT,"MapIcon",MapIconsLst,"Создать","Назад");
				}
				case 3: SPD(playerid, DIALOG_CREATEPICKUPLST, DIALOG_STYLE_LIST, "Создание pickup", PickupMenuLst,"Выбрать","Отмена");
				case 4: ShowMainAttachEditMenu(playerid);
				case 5: SPD(playerid, DIALOG_ACTORS, DIALOG_STYLE_LIST, "Actors", ActorsMenuLst,"Выбрать","Отмена");
				case 6: SPD(playerid, DIALOG_OBJTEXTLABEL, DIALOG_STYLE_INPUT, "Label", "{FFFFFF}Введите текст: \n","Ок","<");
				case 7:	SPD(playerid, DIALOG_SCOORDS, DIALOG_STYLE_LIST, "Coords", CoordsMenuLst,"Выбрать","Отмена");
				case 8:	StreamedPickupsInfo(playerid);
				case 9: RemoveTempMapEditorFiles(playerid);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINFO)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: ShowServerStatistics(playerid);
				case 1: AdmCmdsList(playerid);
				case 2: AllPlayersIP(playerid);
				case 3: 
				{
					new Ptable[500], cstring[128];
					strcat(Ptable, "{ff9900}Player\tJail\tCW\n");
					foreach(Player, i)
					{
						if(PlayerInfo[i][pJailed] !=0 || PlayerInfo[i][pCheater] != 0)
						{
							new JailedState[4], CheatState[4];
							if(PlayerInfo[i][pJailed] !=0) JailedState = "[+]"; else JailedState = "[x]";
							if(PlayerInfo[i][pCheater] !=0) CheatState = "[+]"; else CheatState = "[x]";
							format(string, sizeof(string), "{ffffff}%s\t{ff9900}%s\t%s\n",PlayerName(i),JailedState,CheatState);
							strcat(Ptable, cstring);
						}
					}
					SPD(playerid, DIALOG_JAILS, DIALOG_STYLE_TABLIST_HEADERS, "JAILS", Ptable, "OK", "x");
				}
				case 4: 
				{	
					new SPtable[500], cstring[128], Float:distance;
					strcat(SPtable, "{ff9900}Player\tdistance\n");
					foreach(Player, i)
					{
						if(IsPlayerStreamedIn(i, playerid)){
							distance = GetDistanceBetweenPlayers(i, playerid);
							format(cstring, sizeof(cstring), "{ffffff}%s\t{ff9900}%s\n",PlayerName(i),distance);
							strcat(SPtable, cstring);
						}
					}
					SPD(playerid, DIALOG_STREAMPLAYERS, DIALOG_STYLE_TABLIST_HEADERS, "Streamed players", SPtable, "OK", "x");
				}
				case 5: 
				{	
					new SPtable[500], cstring[128];
					strcat(SPtable, "{ff9900}Player\t{778899}AFK\t{DCDCDC}Inactive\n");
					foreach(Player, i)
					{
						if(InactivePlayers[i] > 0 || pAfk[i] > 0){
							new AfkState[6], EscState[6];
							if(pAfk[i] !=0) AfkState = "[AFK]"; else AfkState = "[-]";
							if(InactivePlayers[i] !=0) EscState = "[ESC]"; else EscState = "[-]";
							format(cstring, sizeof(cstring), "{ffffff}%s\t{778899}%s\t{DCDCDC}%s\n",PlayerName(i),AfkState,EscState);
							strcat(SPtable, cstring);
						}
					}
					SPD(playerid, DIALOG_INACTIVEPLAYERS, DIALOG_STYLE_TABLIST_HEADERS, "Inactive players", SPtable, "OK", "x");
				}
				case 6: SPD(playerid, DIALOG_ADMACTINFO, DIALOG_STYLE_MSGBOX, "Таблица наказаний", AdmActTable, "OK", "x");
				case 7: SPD(playerid, DIALOG_ADMSELECTION, DIALOG_STYLE_MSGBOX, "О администрации", 
						"{d1e231}Набор в администрацию только после собеседования.\n\
						{FFFFFF}Требования: \n\
						- 18+ (это действительно важно)\n\
						- стаж игры на DM проектах не менее 3-х лет(RP не учитывается) \n\
						- понимание методик определения читеров, умение отличить баги от читов\n\
						- иметь базовые представление о синхронизации, работе samp клиента\n\
						- быть активным игроком\n\
						- уметь грамотно общаться, отвечать не хамством а по существу\n\
						","Ок","Закрыть");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINSPEC)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_ADMSPAWNMENU, DIALOG_STYLE_LIST, "Spawn",AdminSpawnMenuLst,"Ок","Отмена");
				case 1: SPD(playerid, DIALOG_ADMINTAKEALL, DIALOG_STYLE_LIST, "Выдать всем",AdminTakeAllStr,"Выбрать","Назад");
				case 2: SPD(playerid, DIALOG_OFFLINEACCCONTOL, DIALOG_STYLE_LIST, "OFFLINE",OfflineAccMenuLst,"Ок"," < ");
				case 3: SPD(playerid, DIALOG_GIFTS, DIALOG_STYLE_LIST, "Подарки",GiftsList,"Ок"," < ");
				case 4: SPD(playerid, DIALOG_INVIS, DIALOG_STYLE_LIST, "INVIS",
				"{6b6773}Скрыть иконку с радара\n{6b6773}Стать полностью невидимым\n{6b6773}Выйти из невидимки\n{6b6773}Защита от наблюдения",
				"Ок"," < ");
				case 5:
				{
					SetPVarInt(playerid,"Jailed", 0);
					CloseMenuAccess[playerid] = 0;
					CloseCmdAccess[playerid] = 0;
					PlayerInfo[playerid][pJailed] = 0;
					PlayerInfo[playerid][pCheater] = 0;
					SetPlayerWeather(playerid,15);
					SetPlayerTime(playerid, 21, 0);
					SaveAccount(playerid);
					SpawnPlayer(playerid);
					format(log, sizeof(log), "Администратор %s выпустил себя из тюрьмы либо чм", PlayerName(playerid)), AdmLog(log);
				}
				case 6:
				{
					// welcome to cw
					SetPlayerInterior(playerid, 0);
					SetPlayerWeather(playerid,42);
					SetPlayerTime(playerid, 23, 0);
					SetPlayerVirtualWorld(playerid, 6);
					SetPlayerPos(playerid, 1077.2113+random(2),1064.5568+random(2),10.8359);
					format(log, sizeof(log), "Администратор %s заглянул в читмир", PlayerName(playerid)), AdmLog(log);
				}
				case 7: SPD(playerid, DIALOG_ADMINMESSAGE, DIALOG_STYLE_INPUT, "/amsg","{FFFFFF}Сообщение в чат от имени администрации /amsg.Введите {990000}текст{FFFFFF} сообщения:","Выбрать","Назад");
				case 8:
				{
					if(PlayerInfo[playerid][pAdmin] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "У вас низкий уровень админки.");
					new totalkickedpl = KickInactivePlayers();
					format(log, sizeof(log), "Администратор %s очистил слотов %d и кикнул всех неактивных игроков", PlayerName(playerid),totalkickedpl);
					AdmLog(log);
					SendFormattedTextToAll(COLOR_SYSTEM,"Администратор %s очистил слотов %d и кикнул всех неактивных игроков", PlayerName(playerid),totalkickedpl);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMSPAWNMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_ADMSPAWNVEH, DIALOG_STYLE_INPUT, "Спавн любого тс для игрока",AdmVehSpawnStr,"Ок","Отмена");
				case 1:
				{
					new Float:RandomTankSpawnLV[][4] = {
						{2491.2844,1224.6453,10.8276}, {2671.8645,1205.8518,10.8276}, {2289.4644,1507.8966,10.8276},
						{2179.5239,2486.6228,10.8277}, {2447.9011,2543.1729,10.8276}, {2324.7151,2795.6794,10.8276}
					};
					new Float:RandomTankSpawnLS[][4] = {
						{2565.2266,-2128.5886,0.7559}, {1788.8021,-2655.8813,13.9182}, {1538.9780,-1664.3438,6.2619},
						{1093.3369,-1195.1083,18.4455}, {2491.6396,-1292.8645,32.8120}
					};
					new Float:RandomTankSpawnSF[][4] = {
						{-1300.0594,-658.1351,14.5177}, {-2529.0183,-616.6021,132.9338}, {-2728.7788,83.9283,4.4711},
						{-2210.6489,1046.5883,80.3806}, {-1513.1835,1210.0094,7.5562}
					};
					new Float:RandomSwatSpawnLV[][4] = {
						{2255.962646, 2444.122802, 10.814394}, {1497.804321, 2097.861083, 10.808740}, {2824.597656, 967.732482, 10.743069}
					};
					new Float:RandomSwatSpawnLS[][4] = {
						{1440.300781, -1618.685302, 13.413043}, {2307.565917, -1236.823730, 23.609321}, {351.646392, -1802.892089, 4.474842}
					};
					new Float:RandomSwatSpawnSF[][4] = {
						{-1603.978027, 652.127380, 6.946279},{-2631.734130, 1334.850463, 6.954102},{-2758.297119, -311.786224, 6.797785}
					};
					new randtank = random(sizeof(RandomTankSpawnLV));
					new randtankls = random(sizeof(RandomTankSpawnLS));
					new randtanksf = random(sizeof(RandomTankSpawnSF));
					new randswatlv = random(sizeof(RandomSwatSpawnLV));
					new randswatls = random(sizeof(RandomSwatSpawnLS));
					new randswatsf = random(sizeof(RandomSwatSpawnSF));
					new rtank1 = CreateVehicle(432,RandomTankSpawnLV[randtank][0], RandomTankSpawnLV[randtank][1], RandomTankSpawnLV[randtank][2], 0.10, 0, 1,-1);
					new rtank2 = CreateVehicle(432,RandomTankSpawnLS[randtankls][0], RandomTankSpawnLS[randtankls][1], RandomTankSpawnLS[randtankls][2], 0.10, 0, 1,-1);
					new rtank3 = CreateVehicle(432,RandomTankSpawnSF[randtanksf][0], RandomTankSpawnSF[randtanksf][1], RandomTankSpawnSF[randtanksf][2], 0.10, 0, 1,-1);
					new rswat1 = CreateVehicle(601,RandomSwatSpawnLV[randswatlv][0], RandomSwatSpawnLV[randswatlv][1], RandomSwatSpawnLV[randswatlv][2], 0.10, 0, 1,-1);
					new rswat2 = CreateVehicle(601,RandomSwatSpawnLS[randswatls][0], RandomSwatSpawnLS[randswatls][1], RandomSwatSpawnLS[randswatls][2], 0.10, 0, 1,-1);
					new rswat3 = CreateVehicle(601,RandomSwatSpawnSF[randswatsf][0], RandomSwatSpawnSF[randswatsf][1], RandomSwatSpawnSF[randswatsf][2], 0.10, 0, 1,-1);
					SetVehicleHealth(rtank1, 3000), SetVehicleHealth(rtank2, 3000), SetVehicleHealth(rtank3, 3000);
					SetVehicleHealth(rswat1, 3000),SetVehicleHealth(rswat2, 3000),SetVehicleHealth(rswat3, 3000);
					format(log, sizeof(log), "Администратор %s заспавнил военную технику в обычном мире", PlayerName(playerid));
					AdmLog(log);
					SendClientMessageToAll(COLOR_SYSTEM, "В каждом городе появилась военная техника с усиленной броней!");
				}
				case 2: SpawnNewVehicle(playerid,449);
				case 3:	RespawnVehiclesNearPlayer(playerid, 20.0);
				case 4:	RemoveVehiclesNearPlayer(playerid, 20.0);
				case 5:	RemoveVehiclesNearPlayer(playerid, 300.0);
				case 6: RespawnVehicles();
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_INVIS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(GetPlayerColor(playerid) != 0xFFFFFF00)
					{
						TempColor[playerid] = GetPlayerColor(playerid);
						SetPlayerColor(playerid,0xFFFFFF00);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы скрыли иконку с радара");
					}
					else
					{
						SetPlayerColor(playerid,TempColor[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы снова отображаетесь на радаре");
					}
				}
				case 1:
				{
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						if(IsPlayerInAnyVehicle(playerid))
						{
							new LVehicleID = GetPlayerVehicleID(playerid);
							new int1 = GetPlayerInterior(playerid);
							LinkVehicleToInterior(LVehicleID,int1 + 1);
							SetPlayerColor(playerid,0xFFFFFF00);
							SendClientMessage(playerid,COLOR_WHITE,"You Are Now Invisible");
							SendClientMessage(playerid, COLOR_YELLOW, "Выбран режим невидимости! Рек. использовать совместно с фейк дисконнектом.");
							Invis[playerid] = 1;
						} else {
							new Float:iX,Float:iY,Float:iZ,Float:iAngle,LVehicleID;
							GetPlayerPos(playerid,X,Y,Z); GetPlayerFacingAngle(playerid,Angle);
							SetPlayerColor(playerid,0xFFFFFF00); new int1 = GetPlayerInterior(playerid);
							LVehicleID = CreateVehicle(415,iX,iY,iZ,iAngle,1,-1,500000);
							PutPlayerInVehicle(playerid,LVehicleID,0); LinkVehicleToInterior(LVehicleID,int1 + 1);
							SendClientMessage(playerid,COLOR_WHITE,"You Are Now Invisible");
							SendClientMessage(playerid, COLOR_YELLOW, "Выбран режим невидимости! Рек. использовать совместно с фейк дисконнектом.");
							Invis[playerid] = 1;
						}
					}
				}
				case 2:
				{
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						if(IsPlayerInAnyVehicle(playerid))
						{
							new LVehicleID = GetPlayerVehicleID(playerid);
							new int1 = GetPlayerInterior(playerid);    LinkVehicleToInterior(LVehicleID,int1); SetPlayerColor(playerid,0xAFAFAFAA);
							SendClientMessage(playerid,COLOR_WHITE,"You Are Now Uninvisible");Invis[playerid] = 0;
							SendClientMessage(playerid, COLOR_YELLOW, "Вы вышли из режима невидимости!");
						}
						else 
						{
							SetPlayerColor(playerid,0xAFAFAFAA); SendClientMessage(playerid,COLOR_WHITE,"You Are Now Uninvisible"); Invis[playerid] = 0;
						}
					}
				}
				case 3:
				{
					if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid,COLOR_YELLOW,"У вас маленький уровень админки");
					if(!GetPVarInt(playerid,"SpecProtect")) SetPVarInt(playerid,"SpecProtect", 1);
					else DeletePVar(playerid,"SpecProtect");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_GIFTS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid,COLOR_YELLOW,"У вас маленький уровень админки");
			new Float:pos[3];
			GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
			switch(listitem)
			{
				case 0:
				{
					if(giftpickup) DestroyDynamicPickup(giftpickup);
					giftpickup = CreateDynamicPickup(random(4)+19054, 19, pos[0]+3, pos[1]+3, pos[2], 0, -1, -1, 300, -1, 0);
				}
				case 1:
				{
					if(giftpickup) DestroyDynamicPickup(giftpickup);
					giftpickup = CreateDynamicPickup(18631, 19, pos[0]+3, pos[1]+3, pos[2], 0, -1, -1, 300, -1, 0);
				}
				case 2:
				{
					if(giftpickup) DestroyDynamicPickup(giftpickup);
					giftpickup = CreateDynamicPickup(19580, 19, pos[0]+3, pos[1]+3, pos[2], 0, -1, -1, 300, -1, 0);
				}
				case 3:
				{
					if(giftpickup) DestroyDynamicPickup(giftpickup);
					giftpickup = CreateDynamicPickup(11745, 19, pos[0]+3, pos[1]+3, pos[2], 0, -1, -1, 300, -1, 0);
				}
				case 4:
				{
					if(giftpickup) DestroyDynamicPickup(giftpickup);
					giftpickup = CreateDynamicPickup(19525, 19, pos[0]+3, pos[1]+3, pos[2], 0, -1, -1, 300, -1, 0);
				}
			}
			format(log, sizeof(log), "Администратор %s заспавнил подарок", PlayerName(playerid));
			AdmLog(log);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_OFFLINESEARCH)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(strlen(inputtext) < 2 || strlen(inputtext) > 28) return SendClientMessage(playerid, COLOR_YELLOW, "Никнейм должен быть не менее 1 символа и не более 28");
			new account[128];
            format(account,sizeof(account),"players/%s.ini",inputtext);
			if(!fexist(account)) return SendClientMessage(playerid, COLOR_GREY, "Такой аккаунт не найден!");
			SPD(playerid, DIALOG_OFFLINEACCCONTOL, DIALOG_STYLE_LIST, "ACC CONTOL",OfflineAccCtrl,"Выбрать","Назад");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINTAKEALL)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:	SPD(playerid, DIALOG_ADMGIVEWEAPONALL, DIALOG_STYLE_INPUT, "Дать оружие либо предмет всем игрокам",
				"{ffffff}Введите ид оружия [1-46].\n1-15. Предметы, холодное оружие\n16-18. Гранаты, дымовые шашки, молотов\n22-24. Пистолеты\n25-27. Дробовики\n28-32. Uzi,Mp5,Ak47,M4,Tec-9\n33-34. Винтовки\n35-38. RPG,HS rocket,Огнемет,Миниган\n39-40. C4+взрываетль\n41-46. Баллончик, огнетушитель, камера, очки ночн.видения, тепловизор, парашют.",
				"Далее","Отмена");
				case 1:
				{
					foreach(Player, i)
					{
						if(!IsPlayerConnected(i))continue;
						SetMoney(i,10000);
					}
					format(log, sizeof(log), "Администратор %s выдал всем по 10000$", PlayerName(playerid));
					AdmLog(log);
				}
				case 2:
				{
					foreach(Player, i)
					{
						if(!IsPlayerConnected(i))continue;
						AddExp(i,1000);
					}
					format(log, sizeof(log), "Администратор %s выдал всем по 1000exp", PlayerName(playerid));
					AdmLog(log);
				}
				case 3:
				{
					foreach(Player, i)
					{
						if(!IsPlayerConnected(i) && !SpecialZone(i))continue;
						if(GetPVarInt(i,"pgm") == 0) GivePlayerWeapon(i,16,10);
						GameTextForPlayer(playerid,"~g~GRENADE ~w~FIGHT !!!",5000,3);
					}
					format(log, sizeof(log), "Администратор %s начал бой на гранатах", PlayerName(playerid));
					AdmLog(log);
				}
				case 4:
				{
					foreach(Player, i)
					{
						if(!IsPlayerConnected(i))continue;
						if(GetPVarInt(i,"pgm") == 0) SetPlayerArmour(i,100);
						if(GetPVarInt(i,"pgm") == 0) SetPlayerHealth(i,100);
					}
					format(log, sizeof(log), "Администратор %s пополнил всем хп и бронь", PlayerName(playerid));
					AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINCHATMANAGE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					for(new i = 0; i <= 100; i ++ ) SendClientMessage(playerid,COLOR_WHITE, "" ); // clearchat
					SendClientMessageToAll(COLOR_SYSTEM, "Чат очищен администратором.");
					format(log, sizeof(log), "Администратор %s очистил чат", PlayerName(playerid)), AdmLog(log);
				}
				case 1:
				{
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 200);
					SendClientMessage(playerid, COLOR_SYSTEM, "Килл-чат очищен.");
					format(log, sizeof(log), "Администратор %s очистил киллчат", PlayerName(playerid)), AdmLog(log);
				}
				case 2:
				{
					new str[128];
					SendDeathMessage(INVALID_PLAYER_ID, playerid, 201);
					format(str, sizeof(str), "%s отключился от сервера", PlayerName(playerid));
					SendClientMessageToAll(COLOR_LIME, str);
				}
				case 3:
				{
					if(PlayerInfo[playerid][pAdmin] != 3) return SendClientMessage(playerid, COLOR_YELLOW, "Доступно только Админу");
					if(ServerAntiflood == 0)
					{	
						ServerAntiflood = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили antiflood");
						format(log, sizeof(log), "Администратор %s включил систему antiflood", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						ServerAntiflood = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили antiflood");
						format(log, sizeof(log), "Администратор %s отключил систему antiflood", PlayerName(playerid)), AdmLog(log);
					}
				}
				case 4:
				{
					if(PlayerInfo[playerid][pAdmin] != 3) return SendClientMessage(playerid, COLOR_YELLOW, "Доступно только Админу");
					if(ServerCensore == 0)
					{	
						ServerCensore = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили антимат");
						format(log, sizeof(log), "Администратор %s включил систему антимата", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						ServerCensore = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили антимат");
						format(log, sizeof(log), "Администратор %s отключил систему антимата", PlayerName(playerid)), AdmLog(log);
					}
				}
				case 5:
				{
					if(PlayerInfo[playerid][pAdmin] != 3) return SendClientMessage(playerid, COLOR_YELLOW, "Доступно только Админу");
					if(ServerAntiReklama  == 0)
					{	
						ServerAntiReklama  = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили антирекламу");
						format(log, sizeof(log), "Администратор %s включил систему антирекламы", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						ServerAntiReklama  = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили антирекламу");
						format(log, sizeof(log), "Администратор %s отклключил систему антирекламы", PlayerName(playerid)), AdmLog(log);
					}
				}
				case 6:
				{
					if(PlayerInfo[playerid][pAdmin] != 3) return SendClientMessage(playerid, COLOR_YELLOW, "Доступно только Админу");
					if(ChatAnticaps == 0)
					{	
						ChatAnticaps = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили антикапс");
						format(log, sizeof(log), "Администратор %s включил систему антикапса", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						ChatAnticaps = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили антикапс");
						format(log, sizeof(log), "Администратор %s отключил систему антимата", PlayerName(playerid)), AdmLog(log);
					}
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SERVERLOCK)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						if(ServerLocked == 0)
						{
							SendClientMessage(playerid, COLOR_SYSTEM, "Вы закрыли вход игрокам на сервер.");
							SendClientMessageToAll(COLOR_SYSTEM, "SERVER Locked: Сервер заблокирован!");
							ServerLocked = 1;
							format(log, sizeof(log), "Администратор %s закрыл вход игрокам на сервер", PlayerName(playerid)), AdmLog(log);
						}
						else
						{
							SendClientMessage(playerid, COLOR_SYSTEM, "Сервер открыт для входа игрокам.");
							SendClientMessageToAll(COLOR_SYSTEM, "SERVER Unocked: Сервер разблокирован!");
							ServerLocked = 0;
							format(log, sizeof(log), "Администратор %s открыл вход игрокам на сервер", PlayerName(playerid)), AdmLog(log);
						}
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только Администратору!");
					}
				}
				case 1:
				{
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						if(RegisterLocked == 0)
						{
							SendClientMessage(playerid, COLOR_SYSTEM, "Вы закрыли регистрацию новых аккаунтов. Зарегистрированные пользователи смогут войти!");
							SendClientMessageToAll(COLOR_SYSTEM, "Account register locked: Регистрация новых аккаунтов заблокирована!");
							RegisterLocked = 1;
							format(log, sizeof(log), "Администратор %s закрыли регистрацию новых аккаунтов. Зарегистрированные пользователи смогут войти", PlayerName(playerid)), AdmLog(log);
						}
						else
						{
							SendClientMessage(playerid, COLOR_SYSTEM, "Сервер открыт для входа новым игрокам.");
							SendClientMessageToAll(COLOR_SYSTEM, "Account register unlocked: Регистрация новых аккаунтов разблокирована!");
							RegisterLocked = 0;
							format(log, sizeof(log), "Администратор %s открыл регистрацию новых аккаунтов", PlayerName(playerid)), AdmLog(log);
						}
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только Администратору!");
					}
				}
				case 2:
				{
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						if(OffRPNick == 0) SendClientMessage(playerid, COLOR_SYSTEM, "Вы закрыли вход игрокам с RP никами. Другие игроки смогут войти!"), OffRPNick= 1;
						else SendClientMessage(playerid, COLOR_SYSTEM, "Сервер открыт для входа игрокам с RP-никами."), OffRPNick = 0;
						format(log, sizeof(log), "Администратор %s изменил параметры входа на сервер игроков с RP-никами", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только Администратору!");
					}
				}
				case 3:
				{
					if(PlayerInfo[playerid][pAdmin] >= 4)
					{
						if(ServerCheckPass == 0) SendClientMessage(playerid, COLOR_SYSTEM, "Вы включили проверку пароля на устойчивость при регистрации"), ServerCheckPass = 1;
						else SendClientMessage(playerid, COLOR_SYSTEM, "Вы отключили проверку пароля на устойчивость при регистрации"), ServerCheckPass = 0;
						format(log, sizeof(log), "Администратор %s изменил параметры проверки паролей на устойчивость при входе", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только Администратору!");
					}
				}
				case 4:
				{				
					if(PlayerInfo[playerid][pAdmin] >= 4)
					{
						if(ServerRemoveNewAccs == 0) SendClientMessage(playerid, COLOR_SYSTEM, "Вы включили автоматическую очистку от пустых аккаунтов"), ServerRemoveNewAccs = 1;
						else SendClientMessage(playerid, COLOR_SYSTEM, "Вы отключили автоматическую очистку от пустых аккаунтов"), ServerRemoveNewAccs = 0;
						format(log, sizeof(log), "Администратор %s изменил настройки очистки сервера от пустых аккаунтов", PlayerName(playerid)), AdmLog(log);
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только Администратору!");
					}
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINMODMANAGE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					new PresetACstr[400], FlyhackState[6], SpeedHackState[6], ServerAntiFakeKillState[6], ServerAibreakOn_ACState[6], 
					ServerCarshotOnState[6], ServerAntiVehHackState[6], ServerAimDetectState[6], ServerAntiTabFastState[6], ServerAntiSlideState[6];
					if(FlyHackOn_AC == 0 ) FlyhackState = "[OFF]"; else FlyhackState = "[ON]";
					if(SpeedHackOn_AC == 0) SpeedHackState = "[OFF]"; else SpeedHackState = "[ON]";
					if(ServerAntiFakeKill == 0) ServerAntiFakeKillState = "[OFF]"; else ServerAntiFakeKillState = "[ON]";
					if(ServerAibreakOn_AC == 0) ServerAibreakOn_ACState = "[OFF]"; else ServerAibreakOn_ACState = "[ON]";
					if(ServerCarshotOn == 0) ServerCarshotOnState = "[OFF]"; else ServerCarshotOnState = "[ON]";
					if(ServerAntiVehHack == 0) ServerAntiVehHackState = "[OFF]"; else ServerAntiVehHackState = "[ON]";
					if(ServerAimDetect == 0) ServerAimDetectState = "[OFF]"; else ServerAimDetectState = "[ON]";
					if(ServerAntiTabFast == 0) ServerAntiTabFastState = "[OFF]"; else ServerAntiTabFastState = "[ON]";
					if(ServerAntiSlide == 0) ServerAntiSlideState = "[OFF]"; else ServerAntiSlideState = "[ON]";
					format(PresetACstr, sizeof PresetACstr,
					"{ffffff}Fly-Hack\t{ff6600}%s\n\
					{ffffff}SpeedHack\t{ff6600}%s\n\
					{ffffff}Anti-FakeKill\t{ff6600}%s\n\
					{ffffff}Airbreak\t{ff6600}%s\n\
					{ffffff}Carshot\t{ff6600}%s\n\
					{ffffff}VehicleHack\t{ff6600}%s\n\
					{ffffff}AIM detect\t{ff6600}%s\n\
					{ffffff}Anti-fast\t{ff6600}%s\n\
					{ffffff}Anti-slide\t{ff6600}%s\n\
					{FFD700}Unload SAMPAC\t\n\
					{FFD700}Load SAMPAC\t\n",
					FlyhackState, SpeedHackState, ServerAntiFakeKillState, ServerAibreakOn_ACState, ServerCarshotOnState,ServerAntiVehHackState,ServerAimDetectState, ServerAntiTabFastState,ServerAntiSlideState);
					SPD(playerid, DIALOG_ADMACSET, DIALOG_STYLE_TABLIST_HEADERS, "Античит", PresetACstr,"Выбрать","Назад");
				}
				case 1:
				{
					new AdminChatSetStr[250], AntifloodState[6],CenssorState[6], ServerAntiReklamaState[6], ChatAnticapsState[6];
					if(ServerAntiflood == 0) AntifloodState = "[OFF]"; else AntifloodState = "[ON]";
					if(ServerCensore == 0) CenssorState = "[OFF]"; else CenssorState = "[ON]";
					if(ServerAntiReklama  == 0) ServerAntiReklamaState = "[OFF]"; else ServerAntiReklamaState = "[ON]";
					if(ChatAnticaps == 0) ChatAnticapsState = "[OFF]"; else ChatAnticapsState = "[ON]";
					format(AdminChatSetStr, sizeof AdminChatSetStr,
					"{0066cc}Очистить чат\t(/clear)\n\
					Очистить килл-чат\t\n\
					Фейковый выход с сервера\t\n\
					{ffff00}Antiflood\t{ff6600}%s\n\
					{ffff00}Censore\t{ff6600}%s\n\
					{ffff00}Anti-Reklama\t{ff6600}%s\n\
					{ffff00}Anti-CAPS\t{ff6600}%s\n",
					AntifloodState,CenssorState,ServerAntiReklamaState,ChatAnticapsState);
					SPD(playerid, DIALOG_ADMINCHATMANAGE, DIALOG_STYLE_TABLIST_HEADERS, "Управление чатом", AdminChatSetStr,"Выбрать","Назад");
				}
				case 2:
				{
					new AdminLockSetStr[300], ServerLockedState[6], RegisterLockedState[6], OffRPNickState[6], ServerCheckPassState[6], ServerRemoveNewAccsState[6];
					if(ServerLocked == 0 ) ServerLockedState = "[OFF]"; else ServerLockedState = "[ON]";
					if(RegisterLocked == 0) RegisterLockedState = "[OFF]"; else RegisterLockedState = "[ON]";
					if(OffRPNick == 0) OffRPNickState = "[OFF]"; else OffRPNickState = "[ON]";
					if(ServerCheckPass == 0) ServerCheckPassState = "[OFF]"; else ServerCheckPassState = "[ON]";
					if(ServerRemoveNewAccs == 0) ServerRemoveNewAccsState = "[OFF]"; else ServerRemoveNewAccsState = "[ON]";
					format(AdminLockSetStr, sizeof AdminLockSetStr,
					"{ffffff}\t\nБлокировка входа на сервер\t{ff6600}%s\n\
					{ffffff}Блокировка регистрации новых игроков\t{ff6600}%s\n\
					{ffffff}Блокировка входа игроков с RP никами\t{ff6600}%s\n\
					{ffffff}Проверка пароля на устойчивость к взлому\t{ff6600}%s\n\
					{ffffff}Удалять аккаунты 1-го уровня автоматически\t{ff6600}%s\n",
					ServerLockedState, RegisterLockedState, OffRPNickState, ServerCheckPassState, ServerRemoveNewAccsState);
					SPD(playerid, DIALOG_SERVERLOCK, DIALOG_STYLE_TABLIST_HEADERS,"Вход на сервер", AdminLockSetStr,"Выбрать","Назад");
				}
				case 3: SPD(playerid, DIALOG_MAPCONTROL, DIALOG_STYLE_LIST,"MAP control", Mapcontrollist,"Выбрать","Назад");
				case 4: SPD(playerid, DIALOG_DMCONTROL, DIALOG_STYLE_LIST,"DM mode preset", MapSelectlist,"Выбрать","Назад");
				case 5: SPD(playerid, DIALOG_RCONFUNC, DIALOG_STYLE_LIST,"RCON", RconComStr,"Выбрать","Назад");
				case 6: SPD(playerid, DIALOG_ADMSETWEATHER, DIALOG_STYLE_INPUT, "Установить погоду на сервере","{ffffff}Гроза-8\nТуман-9\nЯсное небо-10\nЖара-11\nПасмурная-12\nДождливая-16\nЯсное небо, Жара-17\nПесчаная буря-18\nЗеленоватое освещ-20.\nНе рекомендуется использовать значения больше 40!","Сменить","Отмена");
				case 7:	SPD(playerid, DIALOG_ADMTIME, DIALOG_STYLE_INPUT, "Установить время на сервере","{ffffff}Утро - 9:00\nДень - 15:00\nВечер - 21:00\nНочь - 0:00","Сменить","Отмена");
				case 8:{
					if(PlayerInfo[playerid][pAdmin] >= 3){
						if(!fexist("mod.ini")) return SendClientMessage(playerid, COLOR_SYSTEM, "Не найден файл конфигурации на сервере!");
						SaveServerConfigfile();
						SendClientMessage(playerid, COLOR_INFO, "Настройки сервера успешно сохранены.");
					}
					else SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только админам!");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_MAPCONTROL)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("reloadfs mapping");
					SendAdminMessage(COLOR_ADM, "Маппинг обновлен успешно");
					format(log, sizeof(log), "Администратор %s перезагрузил маппинг сервера", PlayerName(playerid)), AdmLog(log);
				}
				case 1:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("unloadfs mapping");
					SendAdminMessage(COLOR_ADM, "Маппинг выгружен успешно");
					format(log, sizeof(log), "Администратор %s выгрузил маппинг сервера", PlayerName(playerid)), AdmLog(log);
				}
				case 2:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("loadfs mapping");
					SendAdminMessage(COLOR_ADM, "Маппинг загружен успешно");
					format(log, sizeof(log), "Администратор %s загрузил вручную маппинг сервера", PlayerName(playerid)), AdmLog(log);
				}
				case 3: //tde 
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("loadfs TDE");
					SendAdminMessage(COLOR_ADM, "TDE загружен успешно");
					SendClientMessage(playerid, COLOR_WHITE, "Введите /tde для редактирования");
					format(log, sizeof(log), "Администратор %s загрузил TDE", PlayerName(playerid)), AdmLog(log);
				}
				case 4: //tde
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("unloadfs TDE");
					SendAdminMessage(COLOR_ADM, "TDE выгружен успешно");
					format(log, sizeof(log), "Администратор %s выгрузил TDE", PlayerName(playerid)), AdmLog(log);
				}
				case 5: //vae 
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("loadfs vae");
					SendAdminMessage(COLOR_ADM, "VAE загружен успешно");
					SendClientMessage(playerid, COLOR_WHITE, "Иcпользовать в транспорте: /vae [id объекта]");
					format(log, sizeof(log), "Администратор %s загрузил VAE", PlayerName(playerid)), AdmLog(log);
				}
				case 6://vae
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("unloadfs vae");
					SendAdminMessage(COLOR_ADM, "VAE выгружен успешно");
					format(log, sizeof(log), "Администратор %s выгрузил VAE", PlayerName(playerid)), AdmLog(log);
				}
				case 7: //uc  
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("loadfs creator");
					SendAdminMessage(COLOR_ADM, "Ultimate Creator загружен успешно");
					SendClientMessage(playerid, COLOR_WHITE, "Иcпользовать: /edit (для корректной работы должен быть установлен colandreas)");
					format(log, sizeof(log), "Администратор %s загрузил Ultimate Creator", PlayerName(playerid)), AdmLog(log);
				}
				case 8: //uc
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("unloadfs creator");
					SendAdminMessage(COLOR_ADM, "Ultimate Creator выгружен успешно");
					format(log, sizeof(log), "Администратор %s выгрузил Ultimate Creator", PlayerName(playerid)), AdmLog(log);
				}
				case 9:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					db_free_result(db_query(EDITOR_DATABASE, "DELETE FROM OBJECTS"));
					SendAdminMessage(COLOR_ADM, "База успешно очищена");
					SendClientMessage(playerid, COLOR_ADM, "Помните: Учитывая что объекты были загружены с базы при загрузке мода, необходим перезапуск сервера для обновления данных");
					format(log, sizeof(log), "Администратор %s очистил базу пользовательских объектов", PlayerName(playerid)), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMCONTROL)
	{
		if(response)
		{
			new NextInfo[128];
			switch(listitem)
			{
				case 0:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена dmrand: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmRandomArenaId, MAX_DMRAND_ARENA);
					SPD(playerid, DIALOG_DMNEXTRANDAREA, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				case 1:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена dmchainsaw: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmChainsawArenaId, MAX_DMCHAINSAW_ARENA);
					SPD(playerid, DIALOG_DMNEXTCHAINSAW, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				case 2:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена dmdeagle: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmDeagleArenaId, MAX_DMDEAGLE_ARENA);
					SPD(playerid, DIALOG_DMNEXTDEAGLE, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				case 3:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена dmsniper: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmSniperArenaId, MAX_DMSNIPER_ARENA);
					SPD(playerid, DIALOG_DMNEXTSNIPER, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				case 4:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена tdmsniper: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmSniperArenaId, MAX_TDMSNIPER_ARENA);
					SPD(playerid, DIALOG_DMNEXTTDMSNIPER, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				case 5:
				{
					format(NextInfo, sizeof NextInfo, "{FFFFFF}Текущая арена tdmsawn: %i, всего арен: %i.\nВведите номер следующей арены для смены", DmSniperArenaId, MAX_TDMSAWN_ARENA);
					SPD(playerid, DIALOG_DMNEXTTDMSAWN, DIALOG_STYLE_INPUT, "ARENA",NextInfo,"OK"," < ");
				}
				/*case 1:
				{
					SPD(playerid, DIALOG_CHANGEMAPTIMER, DIALOG_STYLE_INPUT, "Changemap timer",
					"Устанавливает интервал смены карт.\n(По умолчанию 300с - это 5 минут, макс 1800 - это полчаса)\nВведите время в секундах:","OK"," < ");
				}*/
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTRANDAREA)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_DMRAND_ARENA)
			{
				DmRandomArenaId = strval(inputtext);
				foreach(Player,i){ if(dmzone[i] == 1) SpawnPlayer(i); }
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				SendClientMessageToAll(COLOR_ORANGE, "Администратор сменил карту на dmrand");
				format(log, sizeof(log), "Администратор %s сменил карту на dmrand", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTCHAINSAW)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_DMCHAINSAW_ARENA)
			{
				DmChainsawArenaId = strval(inputtext);
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				foreach(Player,i){ if(dmzone[i] == 9) SpawnPlayer(i); }
				SendClientMessageToAll(COLOR_ORANGE, "Администратор  сменил карту на dmchainsaw");
				format(log, sizeof(log), "Администратор %s сменил карту на dmchainsaw", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTDEAGLE)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_DMDEAGLE_ARENA)
			{
				DmDeagleArenaId = strval(inputtext);
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				foreach(Player,i){ if(dmzone[i] == 24) SpawnPlayer(i); }
				SendClientMessageToAll(COLOR_ORANGE, "Администратор  сменил карту на dmdeagle");
				format(log, sizeof(log), "Администратор %s сменил карту на dmdeagle", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTSNIPER)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_DMSNIPER_ARENA)
			{
				DmSniperArenaId = strval(inputtext);
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				foreach(Player,i){ if(dmzone[i] == 34) SpawnPlayer(i); }
				SendClientMessageToAll(COLOR_ORANGE, "Администратор  сменил карту на dmsniper");
				format(log, sizeof(log), "Администратор %s сменил карту на dmsniper", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTTDMSNIPER)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_TDMSNIPER_ARENA)
			{
				DmSniperArenaId = strval(inputtext);
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				foreach(Player,i){ if(tdmzone[i] == 3) SpawnPlayer(i); }
				SendClientMessageToAll(COLOR_ORANGE, "Администратор  сменил карту на tdmsniper");
				format(log, sizeof(log), "Администратор %s сменил карту на tdmsniper", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DMNEXTTDMSAWN)
	{
		if(response)
		{
			if(strlen(inputtext) > 0 && strval(inputtext) <= MAX_TDMSAWN_ARENA)
			{
				DmSniperArenaId = strval(inputtext);
				SendFormattedText(playerid, COLOR_WHITE, "Вы успешно сменили дм арену на номер: ", strval(inputtext));
				foreach(Player,i){ if(tdmzone[i] == 2) SpawnPlayer(i); }
				SendClientMessageToAll(COLOR_ORANGE, "Администратор  сменил карту на tdmsawn");
				format(log, sizeof(log), "Администратор %s сменил карту на tdmsawn", PlayerName(playerid)), AdmLog(log);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CHANGEMAPTIMER)
	{
		if(response)
		{
		/*if(strlen(inputtext) > 0 && strval(inputtext) <= 1801)
			{
				KillTimer(ChangeMapT);
				ChangeMapT = SetTimerEx("ChangeMapTimer", 1000*strval(inputtext), true, "i", strval(inputtext)); 
				changemaptime = strval(inputtext);
				SendClientMessage(playerid, COLOR_WHITE, "Вы успешно установили время смены карт");
				format(log, sizeof(log), "Администратор %s установил интервал смены карт: %i", PlayerName(playerid), strval(inputtext)), AdmLog(log);
			} */
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_RCONFUNC)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					if(PlayerInfo[playerid][pAdmin] >= 3)
					{
						SendClientMessageToAll(COLOR_SYSTEM, "На сервере проведут тех работы.");
						format(log, sizeof(log), "Администратор %s кикнул всех игроков и отправил сервер на техработы", PlayerName(playerid)), AdmLog(log);
						ServerLocked = 1;
						foreach(Player, i)
						{
							if(!IsPlayerAdmin(playerid) || PlayerInfo[i][pAdmin] < 4)
							{
								KickEx(i, COLOR_SYSTEM, "Сервер закрыл соединение по причине тех.работ. Приносим извинения за доставленные неудобства");
							}
						}
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только админу!");
					}
				}
				case 1:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					if(PlayerInfo[playerid][pAdmin] < 3)
					{
						SendRconCommand("reloadbans");
						format(string, 128, "Администратор %s обновил banlist", PlayerName(playerid));
						AdmLog(string);
						SendAdminMessage(COLOR_SYSTEM, string);
					}
				}
				case 2:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					if(PlayerInfo[playerid][pAdmin] < 3)
					{
						return SendClientMessage(playerid, COLOR_YELLOW, "Только администратор может перезагрузить сервер!");
					}
					else{
						format(log, sizeof(log), "Администратор %s перезагрузил сервер", PlayerName(playerid)), AdmLog(log); // rcon gmx
						GMXTimer();
					}
				}
				case 3:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					{
						SendRconCommand("reloadlog");
						format(log, sizeof(log), "Администратор %s очистил server.log", PlayerName(playerid)), AdmLog(log);
					}
				}
				case 4:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					{
						SendRconCommand("varlist");
						SendClientMessage(playerid, COLOR_WHITE, "Информация выведена в консоль сервера");
					}
				}
				case 5:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					{
						SendRconCommand("plugins");
						SendClientMessage(playerid, COLOR_WHITE, "Информация выведена в консоль сервера");
					}
				}
				case 6:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					{
						SendRconCommand("filterscripts");
						SendClientMessage(playerid, COLOR_WHITE, "Информация выведена в консоль сервера");
					}
				}
				case 7:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					{
						SendRconCommand("cmdlist");
						SendClientMessage(playerid, COLOR_WHITE, "Информация выведена в консоль сервера");
					}
				}
				case 8:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					foreach(Player, i) { if(GetPVarInt(i,"Jailed") <= gettime() && GetPlayerInterior(i) == 10) UnJail(i);}
					SendClientMessageToAll(COLOR_SYSTEM, "Гл.Администратор выпустил всех игроков онлайн из тюрьмы");
					format(log, sizeof(log), "Администратор %s выпустил всех игроков онлайн из тюрьмы", PlayerName(playerid)), AdmLog(log);
				}
				case 9:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					foreach(Player, i) { if(PlayerInfo[i][pCheater] > 0) Uncw(i);}
					SendClientMessageToAll(COLOR_SYSTEM, "Гл.Администратор выпустил всех игроков онлайн из чит-мира");
					format(log, sizeof(log), "Администратор %s выпустил всех игроков онлайн из чит-мира", PlayerName(playerid)), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_BASEJUMP)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					minigamezone[playerid] = 1;
					GivePlayerWeapon(playerid, 46, 1);
					SetPlayerPosEx(playerid, -137.177246, -964.729492, 911.168762,0,25,0);
					SendClientMessage(playerid, COLOR_GREY, "Skyjump1 - mapped by heccberte");
				}
				case 1: SetPlayerPosEx(playerid, 1546.6711,-1353.7745,330.3711,0,0,0); // empire
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_MINIGAMES, DIALOG_STYLE_LIST, "Minigames",MingamesLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_STUNTPARKS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SetPlayerPosEx(playerid, 1139.567504, 1356.517456, 10.820312, 186.098419, 0, 0); // skatepark
				case 1: SetPlayerPosEx(playerid, 1918.1520,-1401.2208,13.5703,0,0,0); // bmx
			}
			if(GetPVarInt(playerid, "pgm") == 0) SendClientMessage(playerid, COLOR_INFO, "Для того чтобы не падать с байка включите режим бессмертия");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_MINIGAMES, DIALOG_STYLE_LIST, "Minigames",MingamesLst,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CUSTOMLOC)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:{
					SetPlayerPosEx(playerid, -150.616149, 21.977474, 242.513305,0,24,0);// frozenlake by heccberte mapexpid2
					SendClientMessage(playerid, COLOR_GREY, "Frozen lake - mapped by heccberte");
				}
				case 1:{
					SetPlayerPosEx(playerid, -952.7577,1498.1422,372.4561,0,10,0); //snow cave
					SendClientMessage(playerid, COLOR_GREY, "Snow cave - mapped by heccberte");
				}
				case 2:{
					SetPlayerPosEx(playerid, -12.028274, 125.551658, 378.613677,0,10,0); //snow camp
					SendClientMessage(playerid, COLOR_GREY, "Snow camp - mapped by heccberte");
				}
				case 3: SetPlayerPosEx(playerid, -1427.257202, -728.275818, 6.898427,0,22,0); //NY toys shop
				case 4: SetPlayerPosEx(playerid, 261.968018, -1890.057617, 0.976636,0,22,0); //pirate 
				case 5: SetPlayerPosEx(playerid,-1427.770629, -686.440429, 14.998299, 182.338088, 24, 0);//ny 2019
				case 6: SetPlayerPosEx(playerid,-1026.695800, -992.983886, 129.212646, 88.690223, 22, 0);// zvhr arena
				case 7: SetPlayerPosEx(playerid,-393.187255, 1002.932189, 10.696659,0, 22, 0);// outlast
				case 8: SetPlayerPosEx(playerid,-1107.070557, -991.860413, 129.218750,0, 25, 0);// SS map
				case 9: SetPlayerPosEx(playerid, -1090.847290, 407.918212, 14.148437, 311.432922, 25, 0); //carm_sf
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VIPMENU, DIALOG_STYLE_LIST, "VIP",VipMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMINMESSAGE)
	{
		if(response)
		{
			new AdminMessage[144];
			format(AdminMessage,sizeof(AdminMessage),"{990000}Администрация: %s", inputtext);
			SendClientMessageToAll(COLOR_SYSTEM, AdminMessage);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_TABID)
	{
		if(response)
		{
			new tabplayerid;
			if(sscanf(inputtext,"d", tabplayerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ID игрока!");
			if(PlayerInfo[playerid][pAdmin] >= 1)// ADMINTABMENU
			{
				SPD(tabplayerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
				//ChosenPlayer[playerid] = clickedplayerid;
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel",AdminMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DOPID)
	{
		if(response)
		{
			new tabplayerid;
			if(sscanf(inputtext,"d", tabplayerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ID игрока!");
			if(PlayerInfo[playerid][pVip] >= 1) DopStatistics(playerid, tabplayerid);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
		}
	}
	if(dialogid == DIALOG_VIPTABMENU && response)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
	 	switch(listitem)
	   	{
			case 0:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
				if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_GREY, "Недоступно. Игрок на dm-режиме");
				SendClientMessage(playerid, COLOR_INFO, "Вы открыли правила игроку.");
				RulesDLG(ChosenPlayer[playerid]);
				format(log, sizeof(log), "Хелпер %s открыл правила игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			case 1: DopStatistics(playerid, ChosenPlayer[playerid]);
			case 2:
			{
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать предупреждение себе!");
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				format(string,128,"Хелпер %s выдал предупреждение игроку %s",pName,ClickedPlayerName);
				AdmLog(string);
				SendClientMessageToAll(COLOR_SYSTEM,string);
				PlayerInfo[ChosenPlayer[playerid]][pWarns]++;
				if(PlayerInfo[ChosenPlayer[playerid]][pWarns] >= 3)
				{
					SendClientMessage(ChosenPlayer[playerid], COLOR_RED, "Вы были автоматически посажены системой на 15 минут. Причина: игнорирование предупрежлений администрации.");
					SetPVarInt(ChosenPlayer[playerid],"Jailed", gettime() + (15*60));
					PutInJail(ChosenPlayer[playerid]);
				}
			}
			case 3: SPD(playerid, DIALOG_ADMMUTE, DIALOG_STYLE_LIST,"MUTE",HelperMuteLst,"Выбрать","Назад");
			case 4:
			{
				new votekickid = ChosenPlayer[playerid];
				if(GetPVarInt(playerid,"TimeReport") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя подавать жалобы так часто!");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Вы не можете подать жалобу сами на себя.");
				SetPVarInt(playerid,"TimeReport",gettime() + 90);
				Votekick[votekickid]++;
				Votekick[votekickid]++;
				SendFormattedText(playerid, COLOR_WHITE, "Вы проголосовали за kick игрока. (Ваш голос считается за 2). Текущий счет голосов: %d",Votekick[votekickid]);
			}
			case 5: PlayerModsTest(ChosenPlayer[playerid], playerid);
			case 6: 
			{
				Uncw(ChosenPlayer[playerid]);
				format(log, sizeof(log), "Хелпер %s вытащил из читмира %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			case 7:
			{
				HighPingCount[ChosenPlayer[playerid]] = 0;
				SendClientMessage(playerid, COLOR_INFO, "Вы разрешили снять бессмертие игроку, но если у него снова будут лаги система вернет обратно");
				SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Вам разрешили снять бессмертие");
				format(log, sizeof(log), "Хелпер %s разрешил снять бессмертие игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			case 8:
			{
				SetPlayerPos(ChosenPlayer[playerid],PX,PY,PZ+10);
				format(log, sizeof(log), "Хелпер %s слапнул игрока %s", PlayerName(playerid), PlayerName(ChosenPlayer[playerid])), AdmLog(log);
			}
			case 9: RespawnVehiclesNearPlayer(playerid, 20.0);
			case 10:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				if(GetPVarInt(ChosenPlayer[playerid],"Jailed") > 0) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. Игрок в тюрьме");
				if(GetPVarInt(playerid,"pgm") == 0 && GetPVarInt(playerid,"pAdmin") < 4) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. Вы должны быть в режиме бессмертия!");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Тп можно только к другому игроку!");
				SetPlayerPos(playerid,PX+1,PY,PZ);
				SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(ChosenPlayer[playerid]));
				SetPlayerInterior(playerid,GetPlayerInterior(ChosenPlayer[playerid]));
				format(string,128,"Вы телепортировались к игроку %s",ClickedPlayerName);
				format(log, sizeof(log), "Хелпер %s телепортировался к игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				SendClientMessage(playerid,COLOR_INFO,string);
			}
			case 11:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				if(GetPVarInt(ChosenPlayer[playerid],"Jailed") > 0) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. Игрок в тюрьме");
				if(GetPVarInt(playerid,"pgm") == 0 && GetPVarInt(playerid,"pAdmin") < 4) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. Вы должны быть в режиме бессмертия!");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя тп самого себя!");
				SetPlayerPos(ChosenPlayer[playerid],X+1,Y,Z);
				SetPlayerVirtualWorld(ChosenPlayer[playerid],GetPlayerVirtualWorld(playerid));
				SetPlayerInterior(ChosenPlayer[playerid],GetPlayerInterior(playerid));
				format(string,128,"Вы телепортировали игрока %s к себе",ClickedPlayerName);
				format(log, sizeof(log), "Хелпер %s телепортировал к себе игрока %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				SendClientMessage(playerid,COLOR_INFO,string);
			}
		}
	}
	if(dialogid == DIALOG_ADMINTABMENU && response)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
	 	switch(listitem)
	   	{
			case 0:	SPD(playerid, DIALOG_PLAYERTABMENU, DIALOG_STYLE_LIST,"Меню игрока",PlayerTabMenuStr,"Выбрать","Назад");
			case 1:	SPD(playerid, DIALOG_VIPTABMENU, DIALOG_STYLE_LIST,"Меню хелпера",VipTabStr,"Выбрать","Отмена");
			case 2:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				DopStatistics(playerid, ChosenPlayer[playerid]);
			}
			case 3:	SPD(playerid, DIALOG_ADMGIVEITMENU, DIALOG_STYLE_LIST,"Выдать игроку",AdmGiveItLst,"OK","Отмена");
			case 4:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_INFO,"У вас низкий уровень админки!");
				SPD(playerid, DIALOG_ADMWIPE, DIALOG_STYLE_LIST, "Забрать",AdmwipeLst,"OK","Отмена");
			}
			case 5:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_INFO,"У вас низкий уровень админки!");
				SPD(playerid, DIALOG_ADMACCCONTROL, DIALOG_STYLE_LIST, "Управление аккаунтом",AdmContolLst,"OK","Отмена");
			}
			case 6:	SPD(playerid, DIALOG_ADMMUTE, DIALOG_STYLE_LIST,"MUTE",AdminMuteLst,"Выбрать","Назад");
			case 7:	SPD(playerid, DIALOG_ADMBAN, DIALOG_STYLE_LIST,"BANHUMMER",AdmBanHummerLst,"OK","Отмена");
			case 8: SPD(playerid, DIALOG_ADFREEZE, DIALOG_STYLE_LIST,"Freeze/kill/explode",FreezeList,"OK","Отмена");
			case 9:
			{
				SendClientMessage(playerid, COLOR_YELLOW, "Вы уничтожили транспорт игрока");
				new CurrentVehID = GetPlayerVehicleID(ChosenPlayer[playerid]);
				DestroyVehicle(CurrentVehID);
				RemovePlayerFromVehicle(ChosenPlayer[playerid]);
				SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Ваш транспорт был уничтожен администратором");
				format(log, sizeof(log), "Администратор %s уничтожил транспорт игрока %s", PlayerName(playerid),ClickedPlayerName), AdmLog(log);
			}
			case 10:
			{
				if(PlayerSpectateID[ChosenPlayer[playerid]] >= 0)
				{
					SetPlayerPos(ChosenPlayer[playerid],GetPVarFloat(ChosenPlayer[playerid],"LastPosX"),GetPVarFloat(ChosenPlayer[playerid],"LastPosY"),GetPVarFloat(ChosenPlayer[playerid],"LastPosZ"));
					TogglePlayerSpectating(ChosenPlayer[playerid], 0);
					SetCameraBehindPlayer(ChosenPlayer[playerid]);
					PlayerSpec[PlayerSpectateID[ChosenPlayer[playerid]]] = -1;
					PlayerSpectateID[ChosenPlayer[playerid]] = -1;
					SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,"Слежка окончена.");
					format(log, sizeof(log), "Администратор %s вывел %s из наблюдения", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
			}
			case 11:
			{
				Sync(ChosenPlayer[playerid]);
				SendClientMessage(playerid,COLOR_WHITE,"Вы были успешно синхронизировали игрока с сервером");
				SendClientMessage(ChosenPlayer[playerid],COLOR_INFO,"Вы были успешно синхронизированы с сервером");
				format(log, sizeof(log), "Администратор %s синхронизировал игрока %s с сервером", PlayerName(playerid),ClickedPlayerName), AdmLog(log);
			}
			case 12:
			{
				if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
				SPD(playerid, DIALOG_ADMFUN, DIALOG_STYLE_LIST,"Подколки",AdmFunStr,"Выбрать","Назад");
			}
		}
	}
	if(dialogid == DIALOG_PLAYERTABMENU && response)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(CloseMenuAccess[playerid] == 1) return 0;
	 	switch(listitem)
	   	{
			case 0:
			{
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_INFO, "Передайте привет другому игроку.");
				format(string, sizeof string, "{cc6600}%s[%d] приветствует вас!", PlayerName(playerid), playerid);
				SendClientMessage(ChosenPlayer[playerid],COLOR_WHITE,string);
				format(string, sizeof string, "{cc6600}Вы поприветствовали игрока %s[%d]!", PlayerName(ChosenPlayer[playerid]), ChosenPlayer[playerid]);
				SendClientMessage(playerid,COLOR_WHITE,string);
			}
			case 1: SPD(playerid, DIALOG_PMTAB, DIALOG_STYLE_INPUT, "Личное сообщение","Введите текст сообщения","Отправить","Отмена");
			case 2:	PlayerStatistics(ChosenPlayer[playerid],playerid);
			case 3:	PlMoneyTransferDLG(playerid, ChosenPlayer[playerid]);
			case 4:
			{
				new rewardestr[128];
				format(rewardestr,sizeof(rewardestr),"{ffffff}За игрока назаначена награда в %i $. Сумма должна быть не меньше 100$\nВведите ниже сумму вознаграждения.\n",
				PlayerInfo[ChosenPlayer[playerid]][pReward]);
				SPD(playerid, DIALOG_TABREWARD, DIALOG_STYLE_INPUT, "Установить награду за голову", rewardestr,"Ок","Закрыть");
			}
			case 5:
			{
				SPD(playerid, DIALOG_TABREPORT, DIALOG_STYLE_LIST,
				"{990000}Пожаловаться на игрока", "AIM - автоприцеливание\nGM - бессмертие\nFlyhack - полет по воздуху\nSpeedhack - чит на скорость\nСтрельба без перезарядки\nОскорбление",
				"Ок","Закрыть");
			}
			case 6:	Spectate(playerid, ChosenPlayer[playerid]);
			case 7:
			{
				if(PlayerInfo[playerid][pGang] > 0 && PlayerInfo[playerid][pGang] == PlayerInfo[ChosenPlayer[playerid]][pGang]){
					SPD(playerid, DIALOG_TABGANG, DIALOG_STYLE_LIST, "Клановые действия", GangTabMenuLst ,"Ок","Закрыть");
				}
				else SPD(playerid, DIALOG_TABGANG, DIALOG_STYLE_LIST, "Клановые действия", NGangTabMenuLst ,"Ок","Закрыть");
			}
			case 8: SPD(playerid, DIALOG_VIPTABMENU, DIALOG_STYLE_LIST,"Меню игрока",VipTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_TABGANG && response)
	{
		if(PlayerInfo[playerid][pGang] > 0 && PlayerInfo[playerid][pGang] == PlayerInfo[ChosenPlayer[playerid]][pGang])
		{
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_GANGHEAL, DIALOG_STYLE_MSGBOX, "Вылечить соклана",
				"{FFFFFF}Заберет у вас 20хп и восстановит 25хп соклану.\nУ вас должно быть больше 50хп а у соклана меньше 75хп\nСтоимость 1.000$. Вылечить соклана?",
				"OK","Back");
				case 1: SPD(playerid, DIALOG_GANGRANGSET, DIALOG_STYLE_LIST, "Установить ранг", GangRangsList,"OK","Back");
				case 2: SPD(playerid, DIALOG_GANGMUTE, DIALOG_STYLE_MSGBOX, "Заглушить соклана","{FFFFFF}Заглушить игрока в клане?","Mute","Unmute");
				case 3: SPD(playerid, DIALOG_GANGKICK, DIALOG_STYLE_MSGBOX, "Выгнать", "{FFFFFF}Выгнать игрока из клана?","Да","Нет");
			}
		}
		else if(PlayerInfo[playerid][pGang] == 0)
		{
			if(listitem == 0) SPD(playerid, DIALOG_GANGINVITE, DIALOG_STYLE_MSGBOX, "Пригласить в клан", "{FFFFFF}Пригласить игрока в клан?","Да","Нет");
		} else {
			if(listitem == 0) SendClientMessage(playerid, COLOR_YELLOW, "Действия недоступны");
		}
	}
	if(dialogid == DIALOG_ADMMUTE)
	{
		if(response)
		{
			new automute = GetPVarInt(ChosenPlayer[playerid],"Automute");
			switch(listitem)
			{
				case 0: 
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					SetPVarInt(ChosenPlayer[playerid], "DirtyRoom",1);
					SendClientMessage(playerid, COLOR_INFO, "Вы отправили игрока в 'грязный' чат");
					SendClientMessage(ChosenPlayer[playerid], COLOR_RED, "Ваc перевели в грязный чат, вы не сможете писать в чат рядом или глобальный чат");
					SendClientMessage(ChosenPlayer[playerid], COLOR_RED, "В грязном чате нет цензуры и его видят только другие участники грязного чата");
					format(log, sizeof(log), "Хелпер %s отправил игрока в грязную чат-комнату %s", PlayerName(playerid), PlayerName(ChosenPlayer[playerid])), AdmLog(log);
				}
				case 1: 
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid], "DirtyRoom") == 0) return SendClientMessage(playerid, COLOR_INFO,"Игрок не в грязном чате!");
					SetPVarInt(ChosenPlayer[playerid], "DirtyRoom",0);
					SendClientMessage(playerid, COLOR_INFO, "Игрок переведен в общий чат");
					SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Ваc перевели в обычный чат, вы сможете писать в чат рядом или глобальный чат");
					format(log, sizeof(log), "Хелпер %s достал игрока с грязной чат-комнаты %s", PlayerName(playerid), PlayerName(ChosenPlayer[playerid])), AdmLog(log);
				}
				case 2:
				{
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать мут самому себе!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"Muted") == 0)
					{
						if (automute > 0){
							SetPVarInt(ChosenPlayer[playerid],"Muted", gettime() + (automute * 60));
							SetPVarInt(ChosenPlayer[playerid],"Automute", automute + 10);
						}
						else{
							SetPVarInt(ChosenPlayer[playerid],"Muted", gettime() + (300));
							SetPVarInt(ChosenPlayer[playerid],"Automute", 5);
						}
						new mutetime = GetPVarInt(ChosenPlayer[playerid],"Muted")/60;
						format(string,128,"Администратор %s выдал бан чата по автозаглушке %s на %d минут",pName,ClickedPlayerName, mutetime);
						AdmLog(string);
						SendClientMessageToAll(COLOR_SYSTEM,string);
					}
					else
					{
						SendClientMessage(playerid,COLOR_SYSTEM,"У игрока уже есть заглушка!");
					}
				}
				case 3:
				{
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать мут самому себе!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"Muted") == 0)
					{
						SetPVarInt(ChosenPlayer[playerid],"Muted", gettime() + (600));
						format(string,128,"Администратор %s выдал бан чата %s на 10 минут",pName,ClickedPlayerName);
						AdmLog(string);
						SendClientMessageToAll(COLOR_SYSTEM,string);
					}
					else
					{
						SendClientMessage(playerid,COLOR_SYSTEM,"У игрока уже есть заглушка!");
					}
				}
				case 4:
				{
					SPD(playerid, DIALOG_MUTETIME, DIALOG_STYLE_INPUT,"Mute","{FFFFFF}Укажите время заглушки в минутах:","Выбрать","Отмена");
				}
				case 5:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"Muted") > gettime())
					{
						SetPVarInt(ChosenPlayer[playerid],"Muted", 0);
						format(string,128,"Администратор %s снял бан чата у %s",pName,ClickedPlayerName);
						AdmLog(string);
						SendClientMessageToAll(COLOR_SYSTEM,string);
					}
					else
					{
						SendClientMessage(playerid,COLOR_SYSTEM,"Вы сняли заглушку с игрока");
					}
				}
				case 6:
				{
					if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Низкий уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if (automute > 0){
						PlayerInfo[playerid][pAutomute] = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Автозаглушка очищена");
						format(string,128,"Администратор %s очистил автозаглушку чата у %s",pName,ClickedPlayerName);
						AdmLog(string);
						SendClientMessageToAll(COLOR_SYSTEM,string);
					}
					else SendClientMessage(playerid, COLOR_YELLOW, "Игроку не нужно очищать автозаглушку.");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			if(PlayerInfo[playerid][pAdmin] < 2) SPD(playerid, DIALOG_VIPTABMENU, DIALOG_STYLE_LIST,"Меню хелпера",VipTabStr,"Выбрать","Отмена");
			else if (PlayerInfo[playerid][pAdmin] >= 3) SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_MUTETIME)
	{
		if(response)
		{
			if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать мут самому себе!");
			if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
			if(GetPVarInt(ChosenPlayer[playerid],"Muted") == 0)
			{
				SetPVarInt(ChosenPlayer[playerid],"Muted", gettime() + strval(inputtext) * 60);
				format(string,128,"Администратор %s выдал бан чата %s на %s минут",pName,ClickedPlayerName,inputtext);
				AdmLog(string);
				SendClientMessageToAll(COLOR_SYSTEM,string);
			}
			else
			{
				SendClientMessage(playerid,COLOR_SYSTEM,"У игрока уже есть заглушка!");
			}
		}
	}
	if(dialogid == DIALOG_ADMGIVEITMENU)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: if(PlayerInfo[playerid][pAdmin] >= 4) SPD(playerid, DIALOG_ADMGIVEMONEY, DIALOG_STYLE_INPUT, "Дать денег","{FFFFFF}Введите сумму:","OK","Отмена");
				case 1:
				{
					if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_INFO,"У вас низкий уровень админки!");
					SPD(playerid, DIALOG_ADMGIVEWEAPON, DIALOG_STYLE_INPUT, "Дать оружие","{ffffff}Введите ид оружия [1-46].\n1-15. Предметы, холодное оружие\n16-18. Гранаты, дымовые шашки, молотов\n22-24. Пистолеты\n25-27. Дробовики\n28-32. Uzi,Mp5,Ak47,M4,Tec-9\n33-34. Винтовки\n35-38. RPG,HS rocket,Огнемет,Миниган\n39-40. C4+взрываетль\n41-46. Баллончик, огнетушитель, камера, очки ночн.видения, тепловизор, парашют.\n Примечание: Выдает оружие по лимиту!","Далее","Отмена");
				}
				case 2: SetPlayerSpecialAction(ChosenPlayer[playerid], SPECIAL_ACTION_USEJETPACK);
				case 3: SPD(playerid, DIALOG_ADMSKINCHANGE, DIALOG_STYLE_INPUT, "Выставить скин игроку","{FFFFFF}Укажите ид скина который необходимо выставить игроку","Ок","Отмена");
				case 4: 
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					SPD(playerid, DIALOG_ADMSETVIP, DIALOG_STYLE_LIST, "Назначить","{ff6600}Выдать VIP\n\
					{ff6600}Назначить Хелпером\n\
					{ff6600}Назначить Модератором\n\
					{ff6600}Назначить Админом\n\
					{ff6600}Выставить пароль на вход в админку\n",
					"Выбрать","Отмена");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ADFREEZE)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя зафризить самого себя");
					if(Freezed[ChosenPlayer[playerid]] == 1)
					{
						Freezed[ChosenPlayer[playerid]] = 0;
						CloseMenuAccess[ChosenPlayer[playerid]] = 0;
						CloseCmdAccess[ChosenPlayer[playerid]] = 0;
						TogglePlayerControllable(ChosenPlayer[playerid],1);
						format(string,128,"Вам вернул управление администратор %s.",pName);
						SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,string);
						format(log, sizeof(log), "Администратор %s вернул управление игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
					}
					Freezed[ChosenPlayer[playerid]] = 1;
					TogglePlayerControllable(ChosenPlayer[playerid],0);
					CloseMenuAccess[ChosenPlayer[playerid]] = 1;
					CloseCmdAccess[ChosenPlayer[playerid]] = 1;
					format(string,128,"Проверка: Вы были заморожены администратором %s.Не выходить из игры!!!",pName);
					SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,string);
					format(string,128,"Вы зафризили и закрыли меню и команды игроку %s.",ClickedPlayerName);
					SendClientMessage(playerid,COLOR_YELLOW,string);
					format(log, sizeof(log), "Администратор %s закрыл меню и команды игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 1:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Суицид среди администраторов не приемлем!");
					SetPlayerHealth(ChosenPlayer[playerid],0.0);
					SendClientMessage(playerid, COLOR_YELLOW,"Помните некотрые читы обходят ГМ тест и при взрыве игроку сносит ХП.");
					format(log, sizeof(log), "Администратор %s обнулил хп игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 2:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					CreateExplosion(PX, PY, PZ, 12, 7);
					SendClientMessage(playerid, COLOR_YELLOW,"Помните некотрые читы обходят ГМ тест и при взрыве игроку сносит ХП.");
					format(log, sizeof(log), "Администратор %s взорвал игрока %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ADMBAN)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(playerid,"Jailed") == 0)
					{
						SetPVarInt(ChosenPlayer[playerid],"Jailed", gettime() + (15*60));
						PutInJail(ChosenPlayer[playerid]);
						format(string,128,"Администратор %s посадил %s в тюрьму",pName,ClickedPlayerName);
						AdmLog(string);
						SendClientMessageToAll(COLOR_SYSTEM,string);
					}
					else {
						SendClientMessage(playerid,COLOR_SYSTEM,"Игрок уже находится в тюрьме");
					}
				}
				case 1:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"Jailed") != 0 || PlayerInfo[ChosenPlayer[playerid]][pCheater] != 0)
					{
						UnJail(ChosenPlayer[playerid]);
						format(string,128,"Администратор %s выпустил игрока %s",pName,ClickedPlayerName);
						AdmLog(string);
						SendAdminMessage(COLOR_SYSTEM,string);
						SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор вытащил вас, не повторяйте своих ошибок!");
					}
					else {
						SendClientMessage(playerid,COLOR_YELLOW,"Этот игрок уже на свободе");
					}
				}
				case 2:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя самому сесть в чм. Чтобы заглянуть в чит мир исп меню - Локации!");
					SendClientMessage(playerid, COLOR_YELLOW, "Вы отправили игрока в чит-мир");
					PutInCheatWorld(ChosenPlayer[playerid]);
					PlayerInfo[playerid][pCheater] = 2; // helper will not be able to remove
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор отправил вас в чит-мир");
					format(string,128,"Администратор %s отправил в чит-мир игрока %s",pName,ClickedPlayerName);
					AdmLog(string);
					SendClientMessageToAll(COLOR_SYSTEM,string);
				}
				case 3:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя кикнуть самого себя!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") == 5) return SendClientMessage(playerid, COLOR_INFO,"Нельзя кикнуть основателя!");
					Kick(ChosenPlayer[playerid]);
					format(string,128,"Администратор %s кикнул %s",pName,ClickedPlayerName);
					AdmLog(log);
					SendClientMessageToAll(COLOR_SYSTEM,string);
				}
				case 4:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") == 5) return SendClientMessage(playerid, COLOR_INFO,"Нельзя забанить основателя!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя забанить самого себя!");
					//if(PlayerInfo[ChosenPlayer[playerid]][pAdmin] > PlayerInfo[playerid][pAdmin] return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя забанить самого себя!");
					Ban(ChosenPlayer[playerid]);
					format(string,128,"Администратор %s забанил %s",pName,ClickedPlayerName);
					AdmLog(log);
					SendClientMessageToAll(COLOR_SYSTEM,string);
				}
				case 5:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") == 5) return SendClientMessage(playerid, COLOR_INFO,"Нельзя забанить основателя!");
					if(GetPVarInt(playerid,"pAdmin") < 4) return SendClientMessage(playerid, COLOR_INFO,"Доступно только для старшей администрации!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя забанить самого себя!");
					Ban(ChosenPlayer[playerid]);
					new serial[164];
					gpci(ChosenPlayer[playerid], serial, sizeof(serial));
					new File:sfile = fopen("HwBan.txt", io_readwrite);
					new sstring[162];
					format(sstring, sizeof(sstring), "%s\n", serial);
					fwrite(sfile, sstring);
					fclose(sfile);
					sstring[0] = EOS;
					format(sstring, sizeof(sstring), "Вы забанили серийный номер {FF0000}%s", serial);
					SendClientMessage(playerid, COLOR_WHITE, sstring);
					Kick(ChosenPlayer[playerid]);
					format(string,128,"Администратор %s забанил по serialid %s",pName,ClickedPlayerName);
					AdmLog(log);
					SendClientMessageToAll(COLOR_SYSTEM,string);
				}
				case 6:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") == 5) return SendClientMessage(playerid, COLOR_INFO,"Нельзя забанить основателя!");
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя забанить самого себя!");
					desync[ChosenPlayer[playerid]] = 1;
					format(string,128,"Администратор %s принудительно рассинхронизировал %s",pName,ClickedPlayerName);
					AdmLog(log);
					SendClientMessageToAll(COLOR_SYSTEM,string);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_CONFIRMPASS)
	{
		if(response)
		{
			new account[128],password[129];
            format(account,sizeof(account),"players/%s.ini",PlayerName(playerid));
			new iniFile = ini_openFile(account);
			new hpass[129];
			WP_Hash(hpass, sizeof(hpass), inputtext);
			ini_getString(iniFile, "Password",password);
            if(!strcmp(hpass, password, true))
            {
				SPD(playerid, DIALOG_SETPASSWORD, DIALOG_STYLE_INPUT, "Сменить пароль","{ffffff}Рекомендуется использовать пароли из латинских букв и цифр.\n Введите новый пароль:",
				"Сменить", "Отмена");
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Неккоректный пароль!.Операциия отменена.");
		}
	}
	if(dialogid == DIALOG_SETSEKKEY)
	{
		if(response)
		{
			for(new i = strlen(inputtext); i != 0; --i){
				switch(inputtext[i]){
					case 'А'..'Я', 'а'..'я', ' ': return SendClientMessage(playerid, COLOR_YELLOW, "Секретно слово устанавливается только латинскими символами, русские буквы не сохраняются!");
				}
			}
			new account[128];
            format(account,sizeof(account),"players/%s.ini",PlayerName(playerid));
			new iniFile = ini_openFile(account);
            if(iniFile < 0) ini_openFile (account);
			{
				new hkey[129];
				WP_Hash(hkey, sizeof(hkey), inputtext);
				ini_setString(iniFile,"Key",hkey);
				ini_closeFile(iniFile); 
				SendClientMessage(playerid, COLOR_YELLOW, "Вы успешно сменили секретное слово!");
			}
		}
	}
	if(dialogid == DIALOG_SETPASSWORD)
	{
		if(response)
		{
			new account[128];
            format(account,sizeof(account),"players/%s.ini",PlayerName(playerid));
			new iniFile = ini_openFile(account);
            if(iniFile < 0) ini_openFile (account);
			{
				new hpass[129];
				WP_Hash(hpass, sizeof(hpass), inputtext);
				ini_setString(iniFile,"Password",hpass);
				ini_closeFile(iniFile); 
				SendClientMessage(playerid, COLOR_YELLOW, "Вы успешно сменили пароль!");
			}
		}
	}
	if(dialogid == DIALOG_ADMACSET)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0: if(FlyHackOn_AC == 0) FlyHackOn_AC = 1; else FlyHackOn_AC = 0;
				case 1: if(SpeedHackOn_AC == 0) SpeedHackOn_AC = 1; else SpeedHackOn_AC = 0;
				case 2: if(ServerAntiFakeKill == 0) ServerAntiFakeKill = 1; else ServerAntiFakeKill = 0;
				case 3: if(ServerAibreakOn_AC == 0) ServerAibreakOn_AC = 1; else ServerAibreakOn_AC = 0;
				case 4: if(ServerCarshotOn == 0) ServerCarshotOn = 1; else ServerCarshotOn = 0;
				case 5: if(ServerAntiVehHack == 0) ServerAntiVehHack = 1; else ServerAntiVehHack= 0;
				case 6: if(ServerAimDetect == 0) ServerAimDetect = 1; else ServerAimDetect= 0;
				case 7: if(ServerAntiTabFast == 0) ServerAntiTabFast = 1; else ServerAntiTabFast= 0;
				case 8: if(ServerAntiSlide == 0) ServerAntiSlide = 1; else ServerAntiSlide = 0;
				case 9: 
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("unloadfs sampcac_base");
					SendAdminMessage(COLOR_ADM, "SAMPAC выключен");
					format(log, sizeof(log), "Администратор %s отключил систему SAMPAC", PlayerName(playerid)), AdmLog(log);
				}
				case 10:
				{
					if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
					SendRconCommand("loadfs sampcac_base");
					SendAdminMessage(COLOR_ADM, "SAMPAC загружен успешно"); 
					format(log, sizeof(log), "Администратор %s загрузил систему SAMPAC", PlayerName(playerid)), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINMODMANAGE, DIALOG_STYLE_LIST,"Управление сервером", AdminManageStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SETNICKNAME)
	{
		if(response)
		{
			if(strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_YELLOW, "Не более 20-ти символов!");
			new PlayerNickName[MAX_PLAYER_NAME], account[128], str[128];
			GetPlayerName(playerid,PlayerNickName,sizeof(PlayerNickName));
            format(account,sizeof(account),"players/%s.ini",inputtext);
			if(fexist(account))
			{ 
				SendClientMessage(playerid, COLOR_YELLOW, "Такой ник уже существует!");
				return SPD(playerid, DIALOG_SETNICKNAME, DIALOG_STYLE_INPUT, "Сменить ник",NickSetStr, "Save", "Cancel");
			}
			else
			{
				SetPlayerName(playerid, inputtext);
				new iniFile = ini_createFile(account); 
				if(iniFile < 0) ini_openFile (account);
				{
					SaveAccount(playerid);
					ini_closeFile(iniFile); 
					format(account,sizeof(account),"players/%s.ini",PlayerNickName);
					fremove(account);
					format(str, sizeof str, "%s сменил ник на %s", PlayerNickName, inputtext);
					AdmLog(str, 1);
					SendClientMessageToAll(COLOR_GREEN, str);
					SendClientMessage(playerid, COLOR_WHITE, "{FF0000}ВНИМАНИЕ:{FFFFFF} не забудь изменить на новый ник в клиенте!");
				}
			}
		}
	}
	if(dialogid == DIALOG_ADMPANELDROP)
	{
		if(response)
		{
			if(strlen(inputtext) < 4 || strlen(inputtext) > 20) return SendClientMessage(playerid, COLOR_YELLOW, "Пароль должен быть не менее 4-х символов и не более 20.(цифры и латиница)");
			if(PlayerInfo[playerid][pAdmin] >= 3 || IsPlayerAdmin(playerid))
			{
				new PlayerNickName[MAX_PLAYER_NAME], account[128];
				GetPlayerName(ChosenPlayer[playerid],PlayerNickName,sizeof(PlayerNickName));
				format(account,sizeof(account),"players/%s.ini",PlayerNickName);
				new iniFile = ini_openFile(account);
				ini_setString(iniFile, "Adminpanel",inputtext);
				//PlayerInfo[playerid][pAdminpanel] = inputtext;
				SendClientMessage(ChosenPlayer[playerid],COLOR_WHITE,"Администратор изменил вам пароль на вход в админку");
				SendClientMessage(ChosenPlayer[playerid],COLOR_WHITE,"Помните что передавать админ права и пароли третьим лицам запрещено!");
				format(log, sizeof(log), "Администратор %s изменил логин для входа в админку игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				SaveAccount(ChosenPlayer[playerid]);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "У вас низкий уровеь админки");
		}
	}
	if(dialogid == DIALOG_ADMSETNICKNAME)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pAdmin] >= 3 || IsPlayerAdmin(playerid))
			{
				new account[128], str[128], oldname[24];
				format(account,sizeof(account),"players/%s.ini",inputtext);
				if(fexist(account))
				{ 
					SendClientMessage(playerid, COLOR_YELLOW, "Такой ник уже существует!");
					return SPD(playerid, DIALOG_ADMSETNICKNAME, DIALOG_STYLE_INPUT, "Сменить ник игроку","{ffffff}Введите новый ник, максимльное кол-во символо 20", "Выбор", "Отмена");
				}
				else
				{
					oldname = PlayerName(ChosenPlayer[playerid]);
					SetPlayerName(ChosenPlayer[playerid], inputtext);
					new iniFile = ini_createFile(account); 
					if(iniFile < 0) ini_openFile (account);
					{
						SaveAccount(ChosenPlayer[playerid]);
						ini_closeFile(iniFile); 
						format(account,sizeof(account),"players/%s.ini",oldname);
						fremove(account);
						format(str, sizeof str, "Администратор %s сменил ник игроку %s на %s", PlayerName(playerid), oldname, inputtext);
						AdmLog(str);
						AdmLog(str, 1);
						SendClientMessageToAll(COLOR_GREEN, str);
					}
				}
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "У вас низкий уровеь админки");
		}
	}
	if(dialogid == DIALOG_PMTAB && response)
	{
		if(pAfk[ChosenPlayer[playerid]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отошел и не может прочитать ваше сообщение, попробуйте написать позже.");
		if(GetPVarInt(ChosenPlayer[playerid],"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок в бою и может не заметить ваше сообщение.");
		if(CloseCmdAccess[ChosenPlayer[playerid]] == 1) return 0;
		if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_INFO, "Вы не можете послать сообщение сами себе.");
		if(PlayerInfo[playerid][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "У вас отключены личные сообщения");
		if(!IsPlayerConnected(ChosenPlayer[playerid])) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел.");
		if(PlayerInfo[ChosenPlayer[playerid]][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отключил прием личных сообщений.");
		if(ignoredlst[ChosenPlayer[playerid]][playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок заигнорировал прием личных сообщений от вас.");
		if(ignoredlst[playerid][ChosenPlayer[playerid]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Вы заигнорировали этого игрока!");
		format(string, sizeof(string), "{EEA2AD}ЛС для %s[%d]: %s{EEA2AD}", ClickedPlayerName, ChosenPlayer[playerid], inputtext);
		SendClientMessage(playerid, COLOR_ORANGE, string);
		format(string, sizeof(string), "{FF6347}ЛC от %s[%d]: %s{FF6347}", pName, playerid, inputtext);
		SendClientMessage(ChosenPlayer[playerid], COLOR_ORANGE, string);
		LastPmID[playerid] = ChosenPlayer[playerid];
		PlayerPlaySound(ChosenPlayer[playerid],1149,0,0,0);
	}
	if(dialogid == DIALOG_ADMGIVEMONEY)
	{
		if(response)
		{
			new tmoney;
			if(sscanf(inputtext,"d", tmoney))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести сумму для перевода.");
			SetMoney(ChosenPlayer[playerid],tmoney);
			format(string, sizeof(string), "Вам перевели %s от %s", inputtext, pName);
			format(log, sizeof(log), "Администратор %s дал %s$ игроку %s", PlayerName(playerid), inputtext, ClickedPlayerName), AdmLog(log);
			SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, string);
		}
	}
	if(dialogid == DIALOG_ADMGIVEWEAPON)
	{
		if(response)
		{
			new tweap;
			if(sscanf(inputtext,"d", tweap)) return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ид оружия.");
			if(GetPVarInt(ChosenPlayer[playerid],"pgm") == 0) GivePlayerWeapon(ChosenPlayer[playerid],tweap,10000);
			format(log, sizeof(log), "Администратор %s дал оружие %s игроку %s", PlayerName(playerid), GetWeaponNames(tweap), ClickedPlayerName), AdmLog(log);
		}
	}
	if(dialogid == DIALOG_ADMGIVEWEAPONALL)
	{
		if(response)
		{
			new tweap;
			if(sscanf(inputtext,"d", tweap))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ид оружия либо предмета");
			foreach(Player, i)
			{
				if(!IsPlayerConnected(i))continue;
				if(GetPVarInt(i,"pgm") == 0) GivePlayerWeapon(i,tweap,10000);
			}
			format(log, sizeof(log), "Администратор %s дал всем оружие %s", PlayerName(playerid), GetWeaponNames(tweap)), AdmLog(log);
		}
	}
	if(dialogid == DIALOG_ADMSPAWNVEH)
	{
		if(response)
		{
			new vehid;
			if(sscanf(inputtext,"d", vehid))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести корректный ид");
			if(!IsPlayerAdmin(playerid))
			{
				if(vehid != 520 && vehid != 519 && vehid != 425 && vehid != 447 && vehid != 432)
				{
					SpawnNewVehicle(playerid,vehid);
					format(log, sizeof(log), "Администратор %s заспавнил транспорт id:%d", PlayerName(playerid), vehid), AdmLog(log);
				}
				else
				{
					SendClientMessage(playerid, COLOR_YELLOW, "Данное тс запрещено для спавна, только RCON может заспавнить!");
				}
			}
			else 
			{
				SpawnNewVehicle(playerid,vehid);
				format(log, sizeof(log), "Администратор %s заспавнил транспорт id:%d", PlayerName(playerid), vehid), AdmLog(log);
			}
		}
		else
		{
			SPD(playerid, DIALOG_ADMINSPEC, DIALOG_STYLE_LIST, "Действия", AdminSpecStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMSETWEATHER)
	{
		if(response)
		{
			new tweath;
			if(sscanf(inputtext,"d", tweath))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ид погоды.");
			SetWeather(tweath);
			format(log, sizeof(log), "Администратор %s сменил погоду на сервере", PlayerName(playerid)), AdmLog(log);
		}
	}
	if(dialogid == DIALOG_ADMTIME)
	{
		if(response)
		{
			new ttime;
			if(sscanf(inputtext,"d", ttime))
			return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести время (указывайте только который час, минуты не нужно).");
			SetWorldTime(ttime);
			format(log, sizeof(log), "Администратор %s сменил игровое время суток на сервере", PlayerName(playerid)), AdmLog(log);
		}
	}
	if(dialogid == DIALOG_ADMFUN)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Применимо только к другим игрокам а не к самому себе!");
					SetPlayerSkin(ChosenPlayer[playerid],252);
					SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Не просите админов использовать админку в личных целях :)");
				}
				case 1:
				{
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Применимо только к другим игрокам а не к самому себе!");
					SetPlayerSkin(ChosenPlayer[playerid],167);
					PlayerInfo[ChosenPlayer[playerid]][pObjHat] = 10;
					SetPlayerAttachedObject( ChosenPlayer[playerid], 0, 19137, 2, 0.110959, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // CluckinBellHat1 - 7
					PlayerPlaySound(ChosenPlayer[playerid], 1052, 0.0, 0.0, 0.0);
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					if(GetPVarInt(ChosenPlayer[playerid],"pgm") == 0) GivePlayerWeapon(ChosenPlayer[playerid], 10, 1);
					SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Ко-ко-кок");
				}
				case 2:
				{
					PlayerInfo[ChosenPlayer[playerid]][pObjHat] = 7;
					SetPlayerAttachedObject( ChosenPlayer[playerid], 0, 1550, 15, 0.016491, 0.205742, -0.208498, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // CJ_MONEY_BAG - money
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Подарок от администрации - мешок денег:)");
				}
				case 3:
				{
					if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Применимо только к другим игрокам а не к самому себе!");
					PlayerInfo[ChosenPlayer[playerid]][pObjHat] = 9;
					SetPlayerAttachedObject( ChosenPlayer[playerid], 0, 1607, 1, 0.000000, 0.000000, 0.000000, 0.000000, 86.543479, 0.000000, 1.000000, 1.000000, 1.000000 ); // dolphin - /dolphin
					PlayerPlaySound(playerid, 141, 0, 0, 0);// Let's Get Ready to Bumble (Bee Bee Gone) music
					SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, "Плыви отседава");
				}
				case 4:
				{
					SetPlayerPosEx(ChosenPlayer[playerid],346.870025,309.259033,999.155700, 0, 0, 6);// bdsm
					//PlayerPlaySound(ChosenPlayer[playerid], 31400, 0.0, 0.0, 0.0);
					PlayerPlaySound(ChosenPlayer[playerid], 144, 0.0, 0.0, 0.0);
					if(GetPVarInt(ChosenPlayer[playerid],"pgm") == 0) GivePlayerWeapon(ChosenPlayer[playerid], 10, 1);
					SendClientMessage(ChosenPlayer[playerid], COLOR_PINK, "Вы были перемещены в комнату важных переговоров");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ADMSETVIP)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(listitem == 0)
			{
				if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_YELLOW, "Данная функ-ця вам недоступна");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать VIP самому себе!");
				PlayerInfo[ChosenPlayer[playerid]][pVip] = 1;
				SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,"Администратор дал вам VIP");
				format(log, sizeof(log), "Администратор %s дал VIP игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			if(listitem == 1)
			{
				if(PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_YELLOW, "Данная функ-ця вам недоступна");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать Хелперку самому себе!");
				PlayerInfo[ChosenPlayer[playerid]][pAdmin] = 1;
				SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,"Администратор назначил вас Хелпером");
				format(log, sizeof(log), "Администратор %s дал Хелперку игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			if(listitem == 2)
			{
				if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данная функ-ця вам недоступна");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать Модерку самому себе!");
				PlayerInfo[ChosenPlayer[playerid]][pAdmin] = 2;
				SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,"Администратор назначил вас Модератором");
				format(log, sizeof(log), "Администратор %s дал Модерку игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
			}
			if(listitem == 3)
			{
				if(IsPlayerAdmin(playerid))
				{
					PlayerInfo[ChosenPlayer[playerid]][pAdmin] = 3;
					SendClientMessage(ChosenPlayer[playerid],COLOR_YELLOW,"Поздравляем!! RCON назначил вас Администратором.");
					format(log, sizeof(log), "RCON %s назначил Администратором %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
			}
			if(listitem == 4)
			{
				if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данная функ-ця вам недоступна");
				if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя сбросить пароль самому себе!");
				SPD(playerid, DIALOG_ADMPANELDROP, DIALOG_STYLE_INPUT,"Изменить пароль","{FFFFFF}Изменить игроку пароль на вход в админку?\n\
				Введите новый пароль для админки и сообщите игроку безопасным способом.","Ок","[<]");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ADMWIPE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					PlayerInfo[ChosenPlayer[playerid]][pWarns] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, "Вы вайпнули варны игроку.");
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор очистил вам варны.");
					format(log, sizeof(log), "Администратор %s очистил варны игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 1:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					format(string, sizeof(string), "Администратор %s забрал у Вас все оружия.", ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, string);
					format(string, sizeof(string), "Вы забрали у игрока %s все оружия.", ClickedPlayerName);
					SendClientMessage(playerid, COLOR_SYSTEM, string);
					ResetPlayerWeapons(ChosenPlayer[playerid]);
					format(log, sizeof(log), "Администратор %s забрал все оружие у игрока %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 2:
				{
					PlayerInfo[ChosenPlayer[playerid]][pVip] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendFormattedText(playerid, COLOR_SYSTEM, "Вы забрали VIP у игрока", PlayerName(playerid));
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор забрал VIP");
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					format(log, sizeof(log), "Администратор %s забрал VIP у игрока %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 3:
				{
					if(PlayerInfo[ChosenPlayer[playerid]][pAdmin] > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_YELLOW, "У вас низкий уровень адмы! Действие недоступно");
					PlayerInfo[ChosenPlayer[playerid]][pAdmin] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendFormattedText(playerid, COLOR_SYSTEM, "Вы забрали админ права у игрока.", PlayerName(ChosenPlayer[playerid]));
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "У вас забрали админ права");
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					format(log, sizeof(log), "Ст.Администратор %s снял администратора %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 4:
				{
					PlayerInfo[ChosenPlayer[playerid]][pMoney] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, "Вы забрали все деньги у игрока");
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор обнулили ваш счет, но счастье ведь не в деньгах.");
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					format(log, sizeof(log), "Администратор %s обнулил деньги игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 5:
				{
					PlayerInfo[ChosenPlayer[playerid]][pKills] = 0;
					PlayerInfo[ChosenPlayer[playerid]][pDeaths] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, "Вы вайпнули статистику киллов и смертей игроку");
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор обнулил вам статстику киллов и смертей");
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					format(log, sizeof(log), "Администратор %s обнулил статистику киллов игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
				case 6:
				{
					PlayerInfo[ChosenPlayer[playerid]][pExp] = 0;
					PlayerInfo[ChosenPlayer[playerid]][pLevel] = 0;
					SaveAccount(ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, "Вы обнулили опыт и уровни игроку");
					SendClientMessage(ChosenPlayer[playerid], COLOR_YELLOW, "Администратор обнулил ваш опыт и уровень");
					PlayerPlaySound(playerid, 31202, 0, 0, 0);// mission failed sound
					format(log, sizeof(log), "Администратор %s обнулил опыт и уровни игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_ADMACCCONTROL)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					SPD(playerid, DIALOG_ADMSETNICKNAME, DIALOG_STYLE_INPUT, "Сменить ник игроку","{ffffff}Введите новый ник, максимльное кол-во символо 20", "Выбор", "Отмена");
				}
				case 1:
				{
					if(GetPVarInt(ChosenPlayer[playerid],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
					new compareip[200], chosenip[16], ip[16];
					GetPlayerIp(ChosenPlayer[playerid],chosenip,sizeof(chosenip));
					foreach(Player, i)
					{
						if(IsPlayerConnected(i))
						{
							GetPlayerIp(i,ip,sizeof(ip));
							if(strcmp(ip, chosenip) == 0)
							{
								format(string, sizeof(string), "{ffffff}%d\t%s\t{ff9900}%s\n",i,PlayerName(i),ip);
								strcat(compareip, string);
							}
							else
							{
								SendClientMessage(playerid, COLOR_YELLOW, "Аккаунтов с таким IP больше не найдено!");
							}
						}
					}
					SPD(playerid, DIALOG_COMPAREIP, DIALOG_STYLE_LIST, "Таблица аккаунтов по IP", compareip, "Выбрать", "Закрыть");
				}
				case 2:
				{
					RemoveAccount(ChosenPlayer[playerid]);
					SendClientMessage(playerid, COLOR_SYSTEM, "Вы вайпнули аккаунт игроку");
					format(log, sizeof(log), "Администратор %s вайпнул аккаунт игроку %s", PlayerName(playerid), ClickedPlayerName), AdmLog(log);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ADMINTABMENU, DIALOG_STYLE_LIST,"Меню Администратора",AdminTabStr,"Выбрать","Отмена");
		}
	}
	if(dialogid == DIALOG_TABREPORT)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new reported[144];
			new votekickid = ChosenPlayer[playerid];
			if(GetPVarInt(playerid,"TimeReport") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя подавать жалобы так часто!");
			if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Вы не можете подать жалобу сами на себя.");
			SetPVarInt(playerid,"TimeReport",gettime() + 90);
			if (listitem == 0)
			{
				if(PlayerInfo[playerid][pLevel] >= 10) Votekick[votekickid]++;
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: AIM", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			if (listitem == 1)
			{
				if(PlayerInfo[playerid][pLevel] >= 10) Votekick[votekickid]++;
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: GM", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			if (listitem == 2)
			{
				if(PlayerInfo[playerid][pLevel] >= 10) Votekick[votekickid]++;
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: FlyHack", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			if (listitem == 3)
			{
				if(PlayerInfo[playerid][pLevel] >= 10) Votekick[votekickid]++;
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: SpeedHack", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			if (listitem == 4)
			{
				if(PlayerInfo[playerid][pLevel] >= 10) Votekick[votekickid]++;
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: Бесконечные патроны", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
			}
			if (listitem == 5)
			{
				format(reported, sizeof(reported), "<Report> игрок %s [%d] пожаловался на игрока %s [%d] , причина: Оскорбление.", pName, playerid, ClickedPlayerName, ChosenPlayer[playerid]);
				ReportsLog(reported);
				foreach(Player, i)
				{
					if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
					{
						SendClientMessage(i, COLOR_CORAL, reported);
					}
				}
				SendReports++;
				SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
				SendClientMessage(playerid, COLOR_YELLOW, "Напоминаем что отключить прием личных сообщений можно командой /togpm");
			}
		}
	}
	if(dialogid == DIALOG_GANGS)
	{
		if(response)
		{
			// gangmenu
			if(PlayerInfo[playerid][pGang] > 0)
			{
				switch(listitem)
				{
					case 0: GangStat(playerid, PlayerInfo[playerid][pGang]);
					case 1: SPD(playerid, DIALOG_GANGMANAGE, DIALOG_STYLE_LIST, "Управление кланом", GangManageStr,"OK","Back");
					case 2: SPD(playerid, DIALOG_GANGZONESMENU, DIALOG_STYLE_LIST, "Gang Zones", GangZonesManageLst,"OK","Back");
					case 3: GangList(playerid);
					case 4: SPD(playerid, DIALOG_GANGBANK, DIALOG_STYLE_LIST, "Казна клана", "{FFFFFF}Положить сумму\nСнять сумму\n","OK","Отмена");
					case 5: SPD(playerid, DIALOG_GANGLEAVE, DIALOG_STYLE_MSGBOX, "Уйти из клана", "{FFFFFF}Вы действительно желаете покинуть клан?","Да","Нет");
					case 6: SPD(playerid, DIALOG_GANGINFO, DIALOG_STYLE_MSGBOX, "О клановой системе", GangSystemInfo,"Ok","");
				}
			}
			else
			{
				switch(listitem)
				{
					case 0: GangList(playerid);
					case 1: SPD(playerid, DIALOG_GANGCREATE, DIALOG_STYLE_MSGBOX, "Создать клан", GangCreateInfo,"Создать","Отмена");
					case 2: SPD(playerid, DIALOG_GANGJOIN, DIALOG_STYLE_MSGBOX, "Принять приглашение", "{FFFFFF}Вы действительно желаете присоединиться к клану?","Да","Нет");
					case 3: SPD(playerid, DIALOG_GANGINFO, DIALOG_STYLE_MSGBOX, "О клановой системе", GangSystemInfo,"Ok","");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_GANGMANAGE)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					format(string, sizeof(string), "{FFFFFF}Повысить кол-во слотов для игроков в клане?.\nСейчас слотов: {FFD700}%i\n{FFFFFF}В казне: {7fff00}%d$",
					GangInfo[GetPVarInt(playerid,"gangid")][gSlots], GangInfo[GetPVarInt(playerid,"gangid")][gBank]);
					SPD(playerid, DIALOG_GANGSLOTS, DIALOG_STYLE_MSGBOX, "Gang slots", string,"OK"," < ");
				}
				case 1: SPD(playerid, DIALOG_GANGABOUTSET, DIALOG_STYLE_LIST, "Clan set", "{FFFFFF}Сменить название\nСменить тег\nСменить группу\nСменнить тип группы","OK"," < ");
				case 2: SPD(playerid, DIALOG_GANGCOLOR, DIALOG_STYLE_INPUT, "Выбрать clist", "{FFFFFF}Введите {FFD700}id {FFFFFF} цвета от 0 - 199","OK"," < ");
				case 3: SPD(playerid, DIALOG_GANGSPAWN, DIALOG_STYLE_MSGBOX, "Set spawn place", "{FFFFFF}Установить спавн клана в этой точке?","OK"," < ");
				case 4: SPD(playerid, DIALOG_GANGWEAPSET, DIALOG_STYLE_TABLIST_HEADERS, "Weapons", GangWeapSetList,"OK"," < ");
				case 5:
				{
					format(string, sizeof(string), "{FFFFFF}Slot {FF0000}1\t{FFFFFF}id:{FF0000}%i\n{FFFFFF}Slot {FF0000}2\t{FFFFFF}id:{FF0000}%i\n{FFFFFF}Respawn{008000}500$",
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1model], GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2model]);
					SPD(playerid, DIALOG_GANGVEHS, DIALOG_STYLE_LIST, "Vehicles", string,"OK"," < ");
				}
				case 6: SPD(playerid, DIALOG_GANGBANKPASSWSET, DIALOG_STYLE_INPUT, "Password", "{FFFFFF}Введите пароль на казну:","OK"," < ");
				case 7: SPD(playerid, DIALOG_GANGTAGLABEL, DIALOG_STYLE_MSGBOX, "TAG", "{FFFFFF}Вы можете оставить один тэг. Добавить тег клана в этой точке?\n","Ok","Удалить");
				case 8: SPD(playerid, DIALOG_GANGBASE, DIALOG_STYLE_LIST, "Base", BaseMenuLst,"Ok","Отмена");
				case 9: SPD(playerid, DIALOG_GANGREMOVE, DIALOG_STYLE_MSGBOX, "Remove clan", "{FFFFFF}Вы действительно хотите расформировать свой клан?. {FF0000}Это действие необратимо!\n","Ok","Отмена");
			}
		}
		else 
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_GANGBASE)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					if(GangInfo[GetPVarInt(playerid,"gangid")][gPosX] != 0){
						SetPlayerPos(playerid,GangInfo[GetPVarInt(playerid,"gangid")][gPosX], GangInfo[GetPVarInt(playerid,"gangid")][gPosY], GangInfo[GetPVarInt(playerid,"gangid")][gPosZ]);
					}
				}
				case 1: SPD(playerid, DIALOG_GANGBASESET, DIALOG_STYLE_MSGBOX, "Add gang base here?", "{FFFFFF}Создать вход в базу в этой точке?","Ok"," < ");
				case 2: SPD(playerid, DIALOG_GANGBASEINTERIOR, DIALOG_STYLE_LIST, "Base interior", "Default","Ok"," < ");
				case 3: SPD(playerid, DIALOG_GANGBASEINFO, DIALOG_STYLE_MSGBOX, "Base", BaseAddInf,"Ok"," < ");
			}
		}
		else 
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_GANGBASESET)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
		if(response)
		{
			new Float:pos[3];
			GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
			GangBases[GetPVarInt(playerid,"gangid")] = CreateDynamicPickup(19523, 1, pos[0],pos[1],pos[2], 0, -1, -1, 300, -1, 0);
		}
	}
	if(dialogid == DIALOG_GANGZONESMENU)
	{
		if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
		if(response)
		{
			switch(listitem)
			{
				case 0:
				{
					new ZoneInfo[400];
					format(string, sizeof(string), "{ffffff}Zone №: {ff9900}%i\n",DynamicZone[playerid]);
					strcat(ZoneInfo, string);
					SPD(playerid, DIALOG_GANGZONEINFO, DIALOG_STYLE_MSGBOX, "Zone info", ZoneInfo,"Ok","Back");
				}
				case 1: GangZoneFlashForAll(DynamicZone[playerid],COLOR_RED);
				case 2: GangZoneStopFlashForAll(DynamicZone[playerid]);
				//case 3: GangZoneShowForPlayer(playerid, GangZoneId[i], 0xFFFFFFAA); //drop zone
			}
		}
		else 
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_GANGSTAT && !response) SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
	if(dialogid == DIALOG_GANGSLOTS && !response) SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
	if(dialogid == DIALOG_GANGABOUTSET && !response) SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
	if(dialogid == DIALOG_GANGVEHS)
	{
		if(response)
		{
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_GANGVEHSLOT1, DIALOG_STYLE_INPUT, "Vehs slot 1",
				"{FFFFFF}Устанавливает спавн транспорта клана в текущей точке. Введите id модели транспорта на спавн:","OK"," < ");
				case 1: SPD(playerid, DIALOG_GANGVEHSLOT2, DIALOG_STYLE_INPUT, "Vehs slot 2",
				"{FFFFFF}Устанавливает спавн транспорта клана в текущей точке. Введите id модели транспорта на спавн:","OK"," < ");
				case 2:
				{
					SetVehicleToRespawn(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1id]);
					SetVehicleToRespawn(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2id]);
					SetMoney(playerid, -500);
					SendClientMessage(playerid, COLOR_WHITE, "Транспорт возвращен на точку спавна.");
				}
			}
		} else {
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_GANGMANAGE, DIALOG_STYLE_LIST, "Управление кланом", GangManageStr,"OK","Назад");
		}
	}
	if(dialogid == DIALOG_GANGHEAL)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pMoney] < 1000) return SendClientMessage(playerid, COLOR_YELLOW, "Недостаточно средств!");
			if(PlayerInfo[playerid][pGang] == PlayerInfo[ChosenPlayer[playerid]][pGang])
			{
				new Float:Player_HP, Float:ChosenPlayer_HP ;
				GetPlayerHealth(playerid, Player_HP);
				GetPlayerHealth(ChosenPlayer[playerid], ChosenPlayer_HP);
				if(Player_HP < 50 && ChosenPlayer_HP < 75){
					if(GetPVarInt(playerid,"TimeHeal") > gettime()) return SendClientMessage(playerid, COLOR_YELLOW, "Действие доступно раз в минуту");
					SetPVarInt(playerid,"TimeHeal", gettime() + 60);
					SetPlayerHealth(ChosenPlayer[playerid], ChosenPlayer_HP+25);
					SetPlayerHealth(playerid, Player_HP-20);
					SetMoney(playerid, -1000);
					PlayerPlaySound(playerid,1139,0,0,0);
					PlayerPlaySound(ChosenPlayer[playerid],1139,0,0,0);
				}
				else SendClientMessage(playerid, COLOR_INFO, "Действие недоступно. У вас должно быть больше 50 хп а у соклана меньше 75!");
			}
		}
	}
	if(dialogid == DIALOG_GANGVEHSLOT1)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
			switch(strval(inputtext))
			{
				case 425,432,435,441,416,447,449,450,464,465,501,520,537,538,564,569,570,584,590,591,594,606,608,609,610,611: SendClientMessage(playerid, COLOR_YELLOW, "Данный тип транспорта запрещен для вызова.");
				default: {
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1model] = strval(inputtext);
					new Float:pos[3];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1PosX] = pos[0];
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1PosY] = pos[1];
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1PosZ] = pos[2];
					GetPlayerFacingAngle(playerid, GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1PosA]);
					if(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1id] != 0) DestroyVehicle(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1id]);
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1id] = CreateVehicle(strval(inputtext),pos[0],pos[1],pos[2],GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot1PosA],1,-1,0);
					SendClientMessage(playerid, COLOR_CYAN, "Вы сменили транспорт банды на 1 слоте");
					GangSave();
				}
			}
		}
		else SPD(playerid, DIALOG_GANGVEHS, DIALOG_STYLE_LIST, "Vehicles", "{FFFFFF}Slot {FF0000}1\n","OK"," < ");
	}
	if(dialogid == DIALOG_GANGVEHSLOT2)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
			switch(strval(inputtext))
			{
				case 425,432,435,441,416,447,449,450,464,465,501,520,537,538,564,569,570,584,590,591,594,606,608,609,610,611: SendClientMessage(playerid, COLOR_YELLOW, "Данный тип транспорта запрещен для вызова.");
				default: {
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2model] = strval(inputtext);
					new Float:pos[3];
					GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2PosX] = pos[0];
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2PosY] = pos[1];
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2PosZ] = pos[2];
					GetPlayerFacingAngle(playerid, GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2PosA]);
					if(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2id] != 0) DestroyVehicle(GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2id]);
					GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2id] = CreateVehicle(strval(inputtext),pos[0],pos[1],pos[2],GangInfo[GetPVarInt(playerid,"gangid")][gVehSlot2PosA],1,-1,0);
					SendClientMessage(playerid, COLOR_CYAN, "Вы сменили транспорт банды на 2 слоте");
					GangSave();
				}
			}
		}
		else SPD(playerid, DIALOG_GANGVEHS, DIALOG_STYLE_LIST, "Vehicles", "{FFFFFF}Slot {FF0000}1\n","OK"," < ");
	}
	if(dialogid == DIALOG_GANGBANKPASSWSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
			new hpass[129];
			WP_Hash(hpass, sizeof(hpass), inputtext);
			GangInfo[GetPVarInt(playerid,"gangid")][gPass] = hpass;
			SendFormattedText(playerid, COLOR_YELLOW, "Сменен клан пароль на: %s", inputtext);
		}
	}
	if(dialogid == DIALOG_GANGBANKPASSW)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGang] == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только игрокам клана");
			if(GangInfo[GetPVarInt(playerid,"gangid")][gPass] != 0)
			{
				new hpass[129];
				WP_Hash(hpass, sizeof(hpass), inputtext);
				if(!strcmp(hpass, GangInfo[GetPVarInt(playerid,"gangid")][gPass], true))
				{
					SendClientMessage(playerid, COLOR_CYAN, "Доступ получен");
				}
				else SendClientMessage(playerid, COLOR_YELLOW, "Неверный пароль");
			}
		}
	}
	if(dialogid == DIALOG_GANGTAGLABEL)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно тлидеру, заместителям, либо игрокам основного состава");
			new objectid = CreateDynamicObjByModelid(playerid, 19482, .savebase = false, .reverse = true, .originalcoords = true);
			//SetDynamicObjectRot(objectid, 0, 0, 180);
			GangTagLabel[GetPVarInt(playerid,"gangid")] = objectid;
			SetDynamicObjectMaterialText(objectid, 0, GangInfo[GetPVarInt(playerid,"gangid")][gTag], 140, "Impact", 150, 0, 0xFF000000, 0, 0);
			PlayerPlaySound(playerid, 1134, 0, 0, 0);// respray
			SendClientMessage(playerid, COLOR_WHITE, "Вы оставили тег клана");
		}
		else DestroyDynamicObject(GangTagLabel[GetPVarInt(playerid,"gangid")]);
		//else SPD(playerid, DIALOG_OBJMATERIAL, DIALOG_STYLE_LIST, "Перекрасить", MaterialsLst,"OK","<");
	}
	if(dialogid == DIALOG_GANGSPAWN)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
			new Float:pos[3];
			GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
			GangInfo[GetPVarInt(playerid,"gangid")][gPosX] = pos[0];
			GangInfo[GetPVarInt(playerid,"gangid")][gPosY] = pos[1];
			GangInfo[GetPVarInt(playerid,"gangid")][gPosZ] = pos[2];
			CreateDynamic3DTextLabel(GangInfo[GetPVarInt(playerid,"gangid")][gTag],COLOR_YELLOW,GangInfo[GetPVarInt(playerid,"gangid")][gPosX],GangInfo[GetPVarInt(playerid,"gangid")][gPosY],GangInfo[GetPVarInt(playerid,"gangid")][gPosZ],30.0,INVALID_PLAYER_ID,INVALID_PLAYER_ID,0,0,0,-1,100.0);
		}
		else SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_GANGREMOVE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] != 5) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру клана");
			new path[32], copypath[32], cmess[128];
			format(path, sizeof(path), "gangs/%i",GetPVarInt(playerid,"gangid"));
			format(copypath, sizeof(copypath), "gangs/removed/%i",GetPVarInt(playerid,"gangid"));
			format(cmess, sizeof(cmess), "Клан №%i - %s был расформирован.",GetPVarInt(playerid,"gangid"), GangInfo[GetPVarInt(playerid,"gangid")][gName]);
			PlayerInfo[playerid][pGang] = 0;
			PlayerInfo[playerid][pGangRang] = 0;
			SaveAccount(playerid);
			if(fexist(path)){
				fcopy(path, copypath);
				fremove(path);
				SendClientMessageToAll(COLOR_SYSTEM, cmess);
			}
		}
		else SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_GANGRANGSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < PlayerInfo[ChosenPlayer[playerid]][pGangRang]) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно! У игрока выше ранг в клане!");
			if(PlayerInfo[playerid][pGangRang] == PlayerInfo[ChosenPlayer[playerid]][pGangRang]) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно! Нельзя менять ранг самому себе");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно лидеру, заместителям, либо игрокам основного состава");
					PlayerInfo[ChosenPlayer[playerid]][pGangRang] = 1;
					SendFormattedText(ChosenPlayer[playerid], COLOR_CYAN, "Вам установлен ранг новичка игроком %s[%d]", PlayerName(playerid), playerid);
				}
				case 1:
				{
					if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно лидеру, заместителям, либо игрокам основного состава");
					PlayerInfo[ChosenPlayer[playerid]][pGangRang] = 2;
					SendFormattedText(ChosenPlayer[playerid], COLOR_CYAN, "Вам установлен ранг воина игроком %s[%d]", PlayerName(playerid), playerid);
				}
				case 2:
				{
					if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
					PlayerInfo[ChosenPlayer[playerid]][pGangRang] = 3;
					SendFormattedText(ChosenPlayer[playerid], COLOR_CYAN, "Вас перевели в основной состав. игрок %s[%d]", PlayerName(playerid), playerid);
				}
				case 3: 
				{
					if(PlayerInfo[playerid][pGangRang] < 5) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру");
					PlayerInfo[ChosenPlayer[playerid]][pGangRang] = 4;
					SendFormattedText(ChosenPlayer[playerid], COLOR_CYAN, "Вам установлен ранг заместителя игроком %s[%d]", PlayerName(playerid), playerid);
				}
				case 4:
				{
					SPD(playerid, DIALOG_GANGRANGLEADERSET, DIALOG_STYLE_LIST, "Leader set",
					"{FF0000}Передавая лидерство{FFFFFF} вы должны понимать что это действие необратимо!!\n \
					Администрация не несет ответственности за внутриклановые отношения игроков\n \
					{FF0000}Никто из администрации не вернет{FFFFFF} вам лидерку {FF0000}ни при каких обстоятельствах!!{FFFFFF}\n \
					Передать лидерство?",
					"OK","Отмена");
				}
			}
		} else {
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
		}
	}
	if(dialogid == DIALOG_GANGRANGLEADERSET)
	{
		if(response)
		{
			PlayerInfo[ChosenPlayer[playerid]][pGangRang] = 5;
			PlayerInfo[playerid][pGangRang] = 4;
			SendFormattedText(ChosenPlayer[playerid], COLOR_RED, "Поздравляем вам передано лидерство игроком %s[%d]", PlayerName(playerid), playerid);
			SendClientMessage(playerid, COLOR_CYAN, "Лидерство передано вы назначены замом.");
		}
	}
	if(dialogid == DIALOG_GANGBANK)
	{
		new gangid = PlayerInfo[playerid][pGang];
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					format(string, sizeof(string), "{FFFFFF}Укажите сумму которую хотите положить в казну\nУ вас на руках: {006400}%d$\n{FFFFFF}В казне: {7fff00}%d$",PlayerInfo[playerid][pMoney], GangInfo[gangid][gBank]);
					SPD(playerid, DIALOG_GANGBANKADD, DIALOG_STYLE_INPUT, "Положить в казну",string,"Положить","Назад");
				}
				case 1:
				{
					if(PlayerInfo[playerid][pGangRang] < 2) return SendClientMessage(playerid, COLOR_YELLOW, "Низкий ранг в клане. Данное действие не доступно новичкам!");
					format(string, sizeof(string), "{FFFFFF}Укажите сумму которую хотите cнять с казны\nУ вас на руках: {006400}%d$\n{FFFFFF}В казне: {7fff00}%d$",PlayerInfo[playerid][pMoney], GangInfo[gangid][gBank]);
					SPD(playerid, DIALOG_GANGBANKTAKE, DIALOG_STYLE_INPUT, "Снять с казны клана",string,"Снять","Назад");
				}
			}
		} else {
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
		}
	}
	if(dialogid == DIALOG_GANGBANKADD)
	{
		if(response)
		{
			new gangid = PlayerInfo[playerid][pGang];
			if(strval(inputtext) > 0 && strval(inputtext) <= PlayerInfo[playerid][pMoney])
			{
				GangInfo[gangid][gBank] = GangInfo[gangid][gBank] + strval(inputtext);
				PlayerInfo[playerid][pMoney] = PlayerInfo[playerid][pMoney] - strval(inputtext);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Указанна некорректная сумма перевода!");
		}
		else SPD(playerid, DIALOG_GANGBANK, DIALOG_STYLE_LIST, "Казна клана", "{FFFFFF}Положить сумму\nСнять сумму\n","OK","Отмена");
	}
	if(dialogid == DIALOG_GANGBANKTAKE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 2) return SendClientMessage(playerid, COLOR_YELLOW, "Низкий ранг в клане. Данное действие не доступно новичкам!");
			new gangid = PlayerInfo[playerid][pGang];
			if(strval(inputtext) > 0 && strval(inputtext) <= GangInfo[gangid][gBank])
			{
				GangInfo[gangid][gBank] = GangInfo[gangid][gBank] - strval(inputtext);
				PlayerInfo[playerid][pMoney] = PlayerInfo[playerid][pMoney] + strval(inputtext);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Указанна некорректная сумма перевода!");
		}
		else SPD(playerid, DIALOG_GANGBANK, DIALOG_STYLE_LIST, "Казна клана", "{FFFFFF}Положить сумму\nСнять сумму\n","OK","Отмена");
	}
	if(dialogid == DIALOG_GANGCOLOR)
	{
		if(response)
		{
			if(strval(inputtext) > 0 && strval(inputtext) <= 199){
				SetPlayerColor(playerid,playerClistColors[strval(inputtext)]);
				PlayerInfo[playerid][pColor] = strval(inputtext);
			}
			else SendClientMessage(playerid, COLOR_INFO, "Нужно ввести id Цвета от 0 до 199");
		} else {
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
		}
	}
	if(dialogid == DIALOG_GANGWEAPSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGangRang] < 4) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру и его заместителям");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: GangInfo[GetPVarInt(playerid,"gangid")][gWeap] = 1;
				case 1: GangInfo[GetPVarInt(playerid,"gangid")][gWeap] = 2;
				case 2: GangInfo[GetPVarInt(playerid,"gangid")][gWeap] = 0;
			}
		}else{
			SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
		}
	}
	if(dialogid == DIALOG_GANGINVITE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new invid = ChosenPlayer[playerid];
			if(!IsPlayerConnected(invid)) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел");
			if(PlayerInfo[invid][pGang] > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок уже играет в другом клане");
			if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру, его заместителям, либо игрокам основного состава");
			if(GetPVarInt(invid,"GangInvite") == 0)
			{ 
				SetPVarInt(invid,"GangInvite", PlayerInfo[playerid][pGang]);
				SendClientMessage(invid, COLOR_CYAN, "Вас приглашают в клан, принять приглашение можно в разделе Y - Кланы");
				SendClientMessage(playerid, COLOR_YELLOW, "Приглашение отправлено.");
			}
			else
			{ 
				SendClientMessage(playerid, COLOR_YELLOW, "Игрока пригласили в другой клан");
			}
		}
	}
	if(dialogid == DIALOG_GANGMUTE)
	{
		new pid = ChosenPlayer[playerid];
		if(playerid == ChosenPlayer[playerid]) return SendClientMessage(playerid, COLOR_YELLOW, "Не применимо самому к себе");
		if(response)
		{
			if(!IsPlayerConnected(pid)) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел");
			if(PlayerInfo[pid][pGang] != PlayerInfo[playerid][pGang]) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок играет в другом клане");
			if(PlayerInfo[playerid][pGangRang] < PlayerInfo[ChosenPlayer[playerid]][pGang]) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно! У игрока выше ранг");
			if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру, его заместителям, либо игрокам основного состава");
			SetPVarInt(ChosenPlayer[playerid], "GangMute", 1);
			SendFormattedText(playerid, COLOR_CYAN, "! %s заглушил в клан чате %s", PlayerName(playerid), PlayerName(ChosenPlayer[playerid]));
		}
		else
		{
			if(!IsPlayerConnected(pid)) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел");
			if(PlayerInfo[pid][pGang] != PlayerInfo[playerid][pGang]) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок играет в другом клане");
			if(PlayerInfo[playerid][pGangRang] < PlayerInfo[ChosenPlayer[playerid]][pGang]) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно! У игрока выше ранг");
			if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру, его заместителям, либо игрокам основного состава");
			if(GetPVarInt(ChosenPlayer[playerid], "GangMute") > 0){
				SetPVarInt(ChosenPlayer[playerid], "GangMute", 0);
				SendFormattedText(playerid, COLOR_CYAN, "! %s разглушил в клан чате %s", PlayerName(playerid), PlayerName(ChosenPlayer[playerid]));
			}
		}
	}
	if(dialogid == DIALOG_GANGKICK)
	{
		if(response)
		{
			new kickid = ChosenPlayer[playerid];
			if(!IsPlayerConnected(kickid)) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел");
			if(PlayerInfo[kickid][pGang] != PlayerInfo[playerid][pGang]) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок играет в другом клане");
			if(PlayerInfo[playerid][pGangRang] < PlayerInfo[kickid][pGangRang]) return SendClientMessage(playerid, COLOR_YELLOW, "Вы не можете выгнать игрока выше рангом");
			if(PlayerInfo[playerid][pGangRang] < 3) return SendClientMessage(playerid, COLOR_YELLOW, "Данное действие доступно только лидеру, его заместителям, либо игрокам основного состава");
			PlayerInfo[kickid][pGang] = 0;
			SendFormattedText(kickid, COLOR_RED, "%s выгнал вас из клана", PlayerName(playerid));
			SendFormattedText(playerid, COLOR_CYAN, "! %s выгнал из клана %s", PlayerName(playerid), PlayerName(kickid));
		}
	}
	if(dialogid == DIALOG_GANGCREATE)
	{
		if(response)
		{
			//new gid;
			//if(sscanf(inputtext,"d", gid))
			//return SendClientMessage(playerid, COLOR_YELLOW, "Нужно ввести ид клана");
			if(PlayerInfo[playerid][pGang] > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вы уже в клане");
			if(PlayerInfo[playerid][pLevel] < 20) return SendClientMessage(playerid, COLOR_YELLOW, "Низкий уровень игрока необходим 20");
			if(PlayerInfo[playerid][pMoney] < 200000) return SendClientMessage(playerid, COLOR_YELLOW, "Необходимо 200к для создания клана");
			new freeslot = GetFreeGang();
			if(freeslot == 0) return SendClientMessage(playerid, COLOR_GREY, "Превышен лимит кланов");
			if(freeslot != 0 && freeslot < MAX_GANGS)
			{
				PlayerInfo[playerid][pGang] = freeslot;
				PlayerInfo[playerid][pGangRang] = 5;
				SPD(playerid, DIALOG_GANGCREATENAME, DIALOG_STYLE_INPUT, "Создать клан","{FFFFFF}Введите имя клана","OK","Отмена");
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "Некорректный id клана");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			if(PlayerInfo[playerid][pGang] > 0) return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
			else return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы", NoGangMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_GANGCREATENAME)
	{
		if(response)
		{
			new gangid = PlayerInfo[playerid][pGang];
			if(strlen(inputtext) >= 3){
				new tmp[32];
				format(tmp, 32, "%s", inputtext);
				GangInfo[gangid][gName] = tmp;
				//GangInfo[gangid][gName] = strmid(string, inputtext, 0, 32); 
				//GangInfo[gangid][gName] = strval(inputtext);
				SPD(playerid, DIALOG_GANGCREATETAG, DIALOG_STYLE_INPUT, "Создать клан","{FFFFFF}Введите тег клана","OK","Отмена");
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "введите от 3 до 32 символов");
		}
	}
	if(dialogid == DIALOG_GANGCREATETAG)
	{
		if(response)
		{
			new gangid = PlayerInfo[playerid][pGang];
			if(strlen(inputtext) >= 3){
				new tmp[12];
				format(tmp, 12, "%s", inputtext);
				GangInfo[gangid][gTag] = tmp;
				//GangInfo[gangid][gTag] = strval(inputtext);
				GangCreate(playerid, gangid);
			}
			else SendClientMessage(playerid, COLOR_YELLOW, "введите от 3 до 24 символов");
		}
	}
	if(dialogid == DIALOG_GANGJOIN)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pGang] > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Действие недоступно");
			if(GetPVarInt(playerid,"GangInvite") > 0)
			{
				PlayerInfo[playerid][pGang] = GetPVarInt(playerid,"GangInvite");
				SendClientMessage(playerid, COLOR_YELLOW, "Вы приняли приглашение теперь вы в клане");
				SendFormattedText(playerid, COLOR_CYAN, "%s Принял приглашение теперь он в клане", PlayerName(playerid));
				SendClientMessage(playerid, COLOR_CYAN, "Для того чтобы писать в клан чат используйте !текст");
			}
		}
		else
		{
			SetPVarInt(playerid,"GangInvite",0);
			SendClientMessage(playerid, COLOR_YELLOW, "Вы отказались от приглашения в клан");
		}
	}
	if(dialogid == DIALOG_GANGLEAVE && response)
	{
		PlayerInfo[playerid][pGang] = 0;
		SendClientMessage(playerid, COLOR_YELLOW, "Вы покинули клан");
	}
	if(dialogid == DIALOG_GANGLIST)
	{
		if(response) 
		{
			GangStat(playerid, listitem+1);
		}
	}
	if(dialogid == DIALOG_GANGINFO)
	{
		if(response) 
		{
			if(PlayerInfo[playerid][pGang] > 0) return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
			else return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы", NoGangMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SETTINGS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_SETACCOUNT, DIALOG_STYLE_LIST, "Настройки аккаунта",AccSettingMenuStr,"Выбрать","Назад");
				case 1:
				{
					new InterfaceSettingMenuStr[420], ExpBarState[6], FpsBarState[6], BottomBarState[6], SpeedBarState[6],
					HealthBarState[6], DamageInfoState[6], FirstPersonState[6], HudState[6];
					if(PlayerInfo[playerid][pExpBar] == 0) ExpBarState = "[OFF]"; else ExpBarState = "[ON]";
					if(PlayerInfo[playerid][pHealthBar] == 0) HealthBarState = "[OFF]"; else HealthBarState = "[ON]";
					if(PlayerInfo[playerid][pFpsBar] == 0) FpsBarState = "[OFF]"; else FpsBarState = "[ON]";
					if(PlayerInfo[playerid][pBottomBar] == 0) BottomBarState = "[OFF]"; else BottomBarState = "[ON]";
					if(PlayerInfo[playerid][pSpeedBar] == 0) SpeedBarState = "[OFF]"; else SpeedBarState = "[ON]";
					if(PlayerInfo[playerid][pDamageInfo] == 0) DamageInfoState = "[OFF]"; else DamageInfoState = "[ON]";
					if(FirstpersonOn[playerid] == 0) FirstPersonState = "[OFF]"; else FirstPersonState = "[ON]";
					if(PlayerInfo[playerid][pHudOn] == 0) HudState = "[OFF]"; else HudState = "[ON]";
					format(InterfaceSettingMenuStr, sizeof InterfaceSettingMenuStr,
					"{ffffff}\t\nОтображение уровня и опыта\t{ff6600}%s\n{ffffff}Отображение хп и брони в цифрах\t{ff6600}%s\n{ffffff}Отображение FPS\t{ff6600}%s\n{ffffff}Отображение нижней панели\t{ff6600}%s\n{ffffff}Отображение спидометра\t{ff6600}%s\nОтображение урона над игроком\t{ff6600}%s\n{ffffff}Вид от первого лица\t{ff6600}%s\n{ffffff}HUD сервера\t{ff6600}%s\n",
					ExpBarState,HealthBarState,FpsBarState, BottomBarState, SpeedBarState, DamageInfoState, FirstPersonState, HudState);
					SPD(playerid, DIALOG_INTERFACESET, DIALOG_STYLE_TABLIST_HEADERS, "Настройки интерфейса",InterfaceSettingMenuStr,"Выбрать","Назад");
				}
				case 2:
				{
					new SoundSettingMenuStr[250], SoundMenuState[6], BellState[6], RadioState[6];
					if(PlayerInfo[playerid][pSoundMenu] == 0) SoundMenuState = "[OFF]"; else SoundMenuState = "[ON]";
					if(PlayerInfo[playerid][pBell] == 0) BellState = "[OFF]"; else BellState = "[ON]";
					if(PlayerInfo[playerid][pRadio] == 0) RadioState = "[OFF]"; else RadioState = "[ON]";
					format(SoundSettingMenuStr, sizeof SoundSettingMenuStr,
					"{ffffff} \t \n{ffffff}Озвучка перехода по меню\t{ff6600}%s\n{ffffff}Колокольчик\t{ff6600}%s\n{ffffff}Радио\t{ff6600}%s\n",
					SoundMenuState, BellState, RadioState);
					SPD(playerid, DIALOG_SOUNDSET, DIALOG_STYLE_TABLIST_HEADERS, "Настройки звука",SoundSettingMenuStr,"Выбрать","Назад");
				}
				case 3:
				{
					new ChatSettingMenuStr[250], PmState[6], ChatColorState[9], CommonChatState[6];
					if(PlayerInfo[playerid][pPM] == 1) PmState = "[OFF]"; else PmState = "[ON]";
					if(PlayerInfo[playerid][pCommonChatOFF] > 0) CommonChatState= "[OFF]"; else CommonChatState = "[ON]";
					if(PlayerInfo[playerid][pChatColor] == 0) ChatColorState = "[OFF]"; else ChatColorState = "";
					format(ChatSettingMenuStr, sizeof ChatSettingMenuStr,
					"{ffffff} \t \n{ffffff}Прием личных сообщений\t{ff6600}%s\n{ffffff}Цвет сообщений в чат\t{ff6600}%s\n{ffffff}Общий чат\t{ff6600}%s\n{ffffff}Очистить чат\t{ff6600}/clearchat\n",
					PmState, ChatColorState, CommonChatState);
					SPD(playerid, DIALOG_CHATSET, DIALOG_STYLE_TABLIST_HEADERS, "Настроки чата", ChatSettingMenuStr,"Выбрать","Отмена");
				}
				case 4:
				{
					if (IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя менять скин в транспорте");
					MSelect_Show(playerid, MSelect:skinselect);
				}
				case 5:	SPD(playerid, DIALOG_NICKCOLORSET, DIALOG_STYLE_LIST,"{FFB6C1}Цвет nickname",NicknameColorMenuStr,"Применить"," Отмена");
				case 6:	SPD(playerid, DIALOG_WEATHERSET,DIALOG_STYLE_LIST,"Смена погоды", "Гроза\nТуман\nЯсное небо\nЖара\nПасмурная\nДождливая\nЯсное небо, Жара\nПесчаная буря\nЗеленоватое освещ\n{ff9900}Вернуть стандартную","Сменить","Отмена");
				case 7: SPD(playerid, DIALOG_SETTIME, DIALOG_STYLE_LIST, "Сменить время суток.",settimestr, "Выбор", "Отмена");
				case 8:	SPD(playerid, DIALOG_FIGHTSTYLE, DIALOG_STYLE_LIST, "Стили боя","Boxing\nKung-Fu\nKickboxin\nStreet\nElbow\n{ff9900}Вернуть стандартный", "Выбор", "Отмена");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			MAIN_MENU(playerid);
		}
	}
	if(dialogid == DIALOG_INTERFACESET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{		
					if(PlayerInfo[playerid][pExpBar] == 0)
					{
						PlayerInfo[playerid][pExpBar] = 1;
						PlayerTextDrawShow(playerid, TDExp[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение уровня и опыта");
					}
					else
					{
						PlayerInfo[playerid][pExpBar] = 0;
						PlayerTextDrawHide(playerid, TDExp[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение уровня и опыта");
					}
				}
				case 1:
				{
					if(PlayerInfo[playerid][pHealthBar] == 0)
					{
						PlayerInfo[playerid][pHealthBar] = 1;
						PlayerTextDrawShow(playerid, PlayerHp[playerid]);
						PlayerTextDrawShow(playerid, PlayerArmour[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение хп и брони в цифрах");
					}
					else
					{
						PlayerInfo[playerid][pHealthBar] = 0;
						PlayerTextDrawHide(playerid, PlayerHp[playerid]);
						PlayerTextDrawHide(playerid, PlayerArmour[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение  хп и брони в цифрах");
					}
				}
				case 2:
				{
					if(PlayerInfo[playerid][pFpsBar] == 0)
					{
						SPD(playerid, DIALOG_FPSBAR, DIALOG_STYLE_LIST, "Выбери положение","Под картой\nПод худом","Выбрать","Назад");
					}
					else
					{
						PlayerInfo[playerid][pFpsBar] = 0;
						PlayerTextDrawHide(playerid, FPS[playerid]);
						PlayerTextDrawHide(playerid, FPS2[playerid]);
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение FPS под радаром");
					}
				}
				case 3:
				{
					if(PlayerInfo[playerid][pBottomBar] == 0)
					{
						PlayerInfo[playerid][pBottomBar] = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение нижней панели");
					}
					else
					{
						PlayerInfo[playerid][pBottomBar] = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение нижней панели");
					}
				}
				case 4:
				{
					if(PlayerInfo[playerid][pSpeedBar] == 0)
					{
						PlayerInfo[playerid][pSpeedBar] = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение спидометра");
					}
					else
					{
						PlayerInfo[playerid][pSpeedBar] = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение спидометра");
					}
				}
				case 5:
				{
					if(PlayerInfo[playerid][pDamageInfo] == 0)
					{	
						PlayerInfo[playerid][pDamageInfo] = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение урона над игроком");
					}
					else
					{
						PlayerInfo[playerid][pDamageInfo] = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили отображение урона над игроком");
					}
				}
				case 6:
				{
					if(FirstpersonOn[playerid] == 0)
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция прденазначена для съемок и скринов.");
						SendClientMessage(playerid, COLOR_YELLOW, "При движении в транспорте будет неккоректно отрисовывать окружение!");
						firstperson[playerid] = CreateObject(19300, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
						AttachObjectToPlayer(firstperson[playerid],playerid, 0.0, 0.12, 0.7, 0.0, 0.0, 0.0);
						AttachCameraToObject(playerid, firstperson[playerid]);
						FirstpersonOn[playerid] = 1;
					}
					else
					{
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили вид от 1-го лица");
						SetCameraBehindPlayer(playerid);
						DestroyObject(firstperson[playerid]);
						FirstpersonOn[playerid] = 0;
					}
				}
				case 7:
				{
					if(PlayerInfo[playerid][pHudOn] == 0)
					{
						PlayerInfo[playerid][pHudOn] = 1;
						PlayerTextDrawShow(playerid, TDExp[playerid]);
						PlayerTextDrawShow(playerid, Combo[playerid]);
						PlayerTextDrawShow(playerid, PlayerHp[playerid]);
						PlayerTextDrawShow(playerid, PlayerArmour[playerid]);
						PlayerTextDrawShow(playerid, MoneyHUD[playerid]);
						PlayerTextDrawShow(playerid, MoneyHUDBack[playerid]);
						TextDrawShowForPlayer(playerid, TDTime);
						TextDrawShowForPlayer(playerid, Logo);
						SendClientMessage(playerid,COLOR_YELLOW,"Вы включили HUD сервера. Иcпользуйте <F7> и <F10> для временного скрытия HUD");
					}
					else
					{
						PlayerInfo[playerid][pHudOn] = 0;
						PlayerTextDrawHide(playerid, TDExp[playerid]);
						PlayerTextDrawHide(playerid, Combo[playerid]);
						PlayerTextDrawHide(playerid, PlayerHp[playerid]);
						PlayerTextDrawHide(playerid, PlayerArmour[playerid]);
						PlayerTextDrawHide(playerid, MoneyHUD[playerid]);
						PlayerTextDrawHide(playerid, MoneyHUDBack[playerid]);
						TextDrawHideForPlayer(playerid, TDTime);
						TextDrawHideForPlayer(playerid, Logo);
						SendClientMessage(playerid,COLOR_YELLOW,"Вы отключили HUD сервера. Иcпользуйте <F7> и <F10> для временного скрытия HUD");
					}
				}
			}
			return 1;
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_FPSBAR)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if (listitem == 0)
			{
				PlayerInfo[playerid][pFpsBar] = 1;
				PlayerTextDrawShow(playerid, FPS[playerid]);
				PlayerTextDrawHide(playerid, FPS2[playerid]);
				SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение FPS под радаром");
			}
			if (listitem == 1)
			{
				PlayerInfo[playerid][pFpsBar] = 2;
				PlayerTextDrawShow(playerid, FPS2[playerid]);
				PlayerTextDrawHide(playerid, FPS[playerid]);
				SendClientMessage(playerid, COLOR_YELLOW, "Вы включили отображение FPS под HUD");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SOUNDSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(PlayerInfo[playerid][pSoundMenu] == 0)
					{
						PlayerInfo[playerid][pSoundMenu] = 1;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы включили озвучку перехода по меню(звук проигрывается при переходе по элементам меню).");
					}
					else
					{
						PlayerInfo[playerid][pSoundMenu] = 0;
						SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили озвучку меню.");
					}
				}
				case 1:	SPD(playerid, DIALOG_PLAYERBELL, DIALOG_STYLE_LIST, "Колокольчик при уроне",BellMenuStr,"Выбрать","Назад");
				case 2: SPD(playerid, DIALOG_RADIO, DIALOG_STYLE_LIST, "RADIO",RadioStLst,"Выбрать","Назад");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_PLAYERBELL)
	{
		if(response)
		{
			SendClientMessage(playerid, COLOR_INFO, "Если у вас не слышно выбранного звука при попадании возможно он вырезан из вашей версии gta");
			SendClientMessage(playerid, COLOR_INFO, "В случае если любой колокольчик не срабатывает при включенном звуке в настр игры  - скачайте SAMP++ cleo script");
			switch(listitem)
			{
				case 0: 
				{
					PlayerInfo[playerid][pBell] = 1137;
					PlayerPlaySound(playerid,1137,0,0,0);
				}
				case 1:
				{
					PlayerInfo[playerid][pBell] = 6401;
					PlayerPlaySound(playerid,6401,0,0,0);
				}
				case 2:
				{ 
					PlayerInfo[playerid][pBell] = 1057;
					PlayerPlaySound(playerid,1057,0,0,0);
				}
				case 3:
				{
					PlayerInfo[playerid][pBell] = 17802;
					PlayerPlaySound(playerid,17802,0,0,0);
				}
				case 4:
				{
					PlayerInfo[playerid][pBell] = 31000;
					PlayerPlaySound(playerid,31000,0,0,0);
				}
				case 5:
				{
					PlayerInfo[playerid][pBell] = 0; //default
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_RADIO)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			// Not all audio streams work in the samp
			PlayerInfo[playerid][pRadio] = listitem;
 			switch(listitem)
			{
				case 0: StopAudioStreamForPlayer(playerid);
		        case 1: PlayAudioStreamForPlayer(playerid, "http://cnr-radio.com/listen.m3u"); //"CnR Radio"
		        case 2: PlayAudioStreamForPlayer(playerid, "http://radio02-cn03.akadostream.ru:8108/shanson128.mp3");//SHANSON
		        case 3: PlayAudioStreamForPlayer(playerid, "http://online.radiorecord.ru:8101/rr_128"); //Radio Record
				case 4: PlayAudioStreamForPlayer(playerid, "http://live.leanstream.co/CKRYFM-MP3?tunein"); //"Сry FM"
				case 5: PlayAudioStreamForPlayer(playerid, "http://laradiofm.ru/download/798-ru.pls"); //"RAP.FM"
				case 6: PlayAudioStreamForPlayer(playerid, "http://laradiofm.com/download/419-ru.pls"); //"ROCK.FM" 
				case 7: PlayAudioStreamForPlayer(playerid, "http://www.internet-radio.com/servers/tools/playlistgenerator/?u=http://uplink.duplexfx.com:8054/listen.pls&t=.m3u"); //"P181. FM"
				case 8: PlayAudioStreamForPlayer(playerid, "http://www.internet-radio.com/servers/tools/playlistgenerator/?u=http://uplink.duplexfx.com:8096/listen.pls&t=.m3u"); //"P181. Reggae" 
		    }
			if(PlayerInfo[playerid][pRadio] > 0)
			{
				SendFormattedText(playerid, COLOR_INFO, "Выбрана станция номер - %i", PlayerInfo[playerid][pRadio]);
				SendClientMessage(playerid, COLOR_INFO, "Онлайн радио включено. Если у вас нет звука проверьте включено ли радио в настройках игры");
				SendClientMessage(playerid, COLOR_INFO, "Выключить радио или сменить станцию можно в настройках Y - Настройки - Звук. а также через /radiostop");
			}
			else
			{
				SendClientMessage(playerid, COLOR_INFO, "Онлайн радио выключено. Выключить стандартное радио можно в настройках игры");
			}
		}
	}
	if(dialogid == DIALOG_CHATSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if (listitem == 0)
			{
				if(PlayerInfo[playerid][pPM] == 1)
				{
					PlayerInfo[playerid][pPM] = 0;
					SendClientMessage(playerid, COLOR_YELLOW, "Вы включили прием личных сообщений.");
				}
				else
				{
					PlayerInfo[playerid][pPM] = 1;
					SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили прием личных сообщений.");
				}
			}
			if (listitem == 1)
			{
				SPD(playerid, DIALOG_SETCHATCOLOR, DIALOG_STYLE_INPUT, "Смена цвета в чате","{ffffff}Введите цвет в формате RGB (6 символов)\nБазовые цвета:{ffff00}ffff00,{ff0000}ff0000,{00ff00}00ff00,{0000ff}0000ff,{ff00ff}ff00ff,{00ffff}00ffff,{ffffff}ffffff", "Выбор", "Отмена");
			}
			if (listitem == 2)
			{
				if(PlayerInfo[playerid][pCommonChatOFF] == 0)
				{
					PlayerInfo[playerid][pCommonChatOFF] = 1;
					SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили общий чат");
				}
				else
				{
					PlayerInfo[playerid][pCommonChatOFF] = 0;
					SendClientMessage(playerid, COLOR_YELLOW, "Вы включили общий чат");
				}
			}
			if (listitem == 3)
			{
				for(new i=0; i<200; i++)
				{
					SendClientMessage(playerid, -1, " ");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SETACCOUNT)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SPD(playerid, DIALOG_SETNICKNAME, DIALOG_STYLE_INPUT, "Сменить ник",NickSetStr, "Выбор", "Отмена");
				case 1: SPD(playerid, DIALOG_CONFIRMPASS, DIALOG_STYLE_INPUT, "Confirm password change",
				"{ffffff}Подтвердите смену пароля. Для смены пароля введите ваш текущий пароль:", "Выбор", "Отмена");
				case 2: SPD(playerid, DIALOG_SETSEKKEY, DIALOG_STYLE_INPUT, "Секретное слово",
				"{ffffff}Секретное слово нужно для подтверждения владения аккаунтом и поможет защитить ваш аккаунт от кражи.\nВведите секретное слово.", "Выбор", "Отмена");
				case 3: SPD(playerid, DIALOG_SETABOUTME, DIALOG_STYLE_INPUT, "О себе",
				"{ffffff}Введите краткую информацию о себе. \nЭта информация будет отображаться у вас в статистике.\n(Не больше {FFFF00}65 символов)", "Выбор", "Отмена");
				case 4: {
					new Accsec[990] = 
					"{00a550}Рекомендации по выбору пароля\n"\
					"{FFFFFF} - {FF0000}Не рекомендуется{FFFFFF} использовать пароли состоящие только из цифр\n"\
					"{FFFFFF} - содержащие, дату рождения, ник, либо другие данные доступные через соцсети.\n"\
					"{FFFFFF} - Постарайтесь {FF0000}не использовать{FFFFFF} один и тот же пароль для аккаунта на разных серверах.\n"\
					"{FFFFFF} - Постарайтесь {FF0000}не использовать{FFFFFF} пароль от соцсетей, почты, других персональных веб ресурсов.\n"\
					"{00a550}Можно ли передавать аккаунт?\n"\
					"{FFFFFF} - Вы в праве делать с аккаунтом все что пожелаете, продать, обменять, дать поиграть кому-либо.\n"\
					"{FFFFFF} - В случае нарушений правил повлекших бан аккаунта проверять кто играл вы либо ваш товарищ администрация {FF0000}не будет{FFFFFF}!\n"\
					"{FFFFFF} - Соответственно претензии по бану рассматриваться в таких случаях не будут!\n"\
					"{00a550}Что делать если я забыл пароль от аккаунта?\n"\
					"{FFFFFF} - Связаться с администрацией через группу. Аккаунты {FF0000}без секретного слова{FFFFFF} восстановлению не подлежат.\n";
					SPD(playerid, DIALOG_ACCSECINFO, DIALOG_STYLE_MSGBOX, "Acc security", Accsec,"OK", "X");
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ACCSECINFO && !response)
	{
		SPD(playerid, DIALOG_SETACCOUNT, DIALOG_STYLE_LIST, "Настройки аккаунта",AccSettingMenuStr,"Выбрать","Назад");
	}
	if(dialogid == DIALOG_SETABOUTME)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(strlen(inputtext) > 65) return SendClientMessage(playerid, COLOR_YELLOW, "Максимальная длина текста 65 символов!");
			new AboutPlayer[66];
			format(AboutPlayer, sizeof(AboutPlayer),"%s", inputtext);
			strmid(PlayerInfo[playerid][pAboutPlayer],AboutPlayer,0,strlen(AboutPlayer),66);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETACCOUNT, DIALOG_STYLE_LIST, "Настройки аккаунта",AccSettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_BONUSASK)
	{
		new Float:pos[3];
		GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
		if(PlayerInfo[playerid][pBonustime] != 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вы уже получили бонус. Приходите позже");
		if(response)
		{
			if(strlen(inputtext) <= 0) CreateExplosion(pos[0], pos[1], pos[2], 12, 2);
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(strcmp(inputtext, "2006", true) == 0){
				PlayerPlaySound(playerid, 43001, 0, 0, 0);
				SetMoney(playerid, 25000);
				AddExp(playerid, 500);
				SendFormattedText(playerid, COLOR_WHITE, "Вы получили бонус от сервера {006400}25000 $ {ffffff}и {CD853F}500 EXP", PlayerName(playerid), playerid);
				PlayerInfo[playerid][pBonustime] = gettime() + (172800);
			}
			else CreateExplosion(pos[0], pos[1], pos[2], 12, 2);
		}
		else CreateExplosion(pos[0], pos[1], pos[2], 7, 3);
	}
	if(dialogid == DIALOG_FIGHTSTYLE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(listitem == 0)
			{
				SetPlayerFightingStyle(playerid, 5);
				PlayerInfo[playerid][pFightStyle] = 5;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Boxing");  
			}
			if(listitem == 1)
			{
				SetPlayerFightingStyle(playerid, 6);
				PlayerInfo[playerid][pFightStyle] = 6;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Kung-Fu");  
			}
			if(listitem == 2)
			{
				SetPlayerFightingStyle(playerid, 7);
				PlayerInfo[playerid][pFightStyle] = 7;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Kickboxing");  
			}
			if(listitem == 3)
			{
				SetPlayerFightingStyle(playerid, 15);
				PlayerInfo[playerid][pFightStyle] = 15;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Street");  
			}
			if(listitem == 4)
			{
				SetPlayerFightingStyle(playerid, 16);
				PlayerInfo[playerid][pFightStyle] = 16;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Elbow");  
			} 
			if(listitem == 5)
			{
				SetPlayerFightingStyle(playerid, 4);
				PlayerInfo[playerid][pFightStyle] = 4;				
				SendClientMessage(playerid, COLOR_INFO, "Вы сменили стиль боя на - Default");  
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_WEATHERSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(listitem == 0)
			{
				SetPlayerWeather(playerid,08);
				PlayerInfo[playerid][pWeather] = 08;
			}
			if(listitem == 1)
			{
				SetPlayerWeather(playerid,09);
				PlayerInfo[playerid][pWeather] = 09;
			}
			if(listitem == 2)
			{
				SetPlayerWeather(playerid,10);
				PlayerInfo[playerid][pWeather] = 10;
			}
			if(listitem == 3)
			{
				SetPlayerWeather(playerid,11);
				PlayerInfo[playerid][pWeather] = 11;
			}
			if(listitem == 4)
			{
				SetPlayerWeather(playerid,12);
				PlayerInfo[playerid][pWeather] = 12;
			}
			if(listitem == 5)
			{
				SetPlayerWeather(playerid,16);
				PlayerInfo[playerid][pWeather] = 16;
			}
			if(listitem == 6)
			{
				SetPlayerWeather(playerid,17);
				PlayerInfo[playerid][pWeather] = 17;
			}
			if(listitem == 7)
			{
				SetPlayerWeather(playerid,19);
				PlayerInfo[playerid][pWeather] = 18;
			}
			if(listitem == 8)
			{
				SetPlayerWeather(playerid,20);
				PlayerInfo[playerid][pWeather] = 20;
			}
			if(listitem == 9)
			{
				SetPlayerWeather(playerid,15);
				PlayerInfo[playerid][pWeather] = 15;
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_CLISTCLORSLIST)
	{
		if(response)
		{
			new clistid;
			if(sscanf(inputtext,"d", clistid)) return SendClientMessage(playerid, COLOR_INFO, "Веди ид от 0-199");
			SendFormattedText(playerid, playerClistColors[clistid], "Предпросмотр цвета номер %i", clistid);
			SPD(playerid, DIALOG_CLISTCLORSLIST, DIALOG_STYLE_INPUT, "Clist colors", "{FFFFFF}Предпросмотр clist. Введи номер от 0-199:","Ок","Закрыть");
		}
	}
	if(dialogid == DIALOG_CLISTCLORSET)
	{
		if(response)
		{
			new tmp[256],idx;
			if(sscanf(inputtext,"d", tmp)) return SPD(playerid, DIALOG_CLISTCLORSET, DIALOG_STYLE_INPUT, "Clist color",
			"{FFFFFF}Nickname color. Предпросмотр цветов командой /clists.\nВведи номер цвета от 0-199:","Ок","Закрыть");
			tmp = strtok(inputtext,idx);
			if (strval(tmp)>199||strval(tmp)<0){
				SendClientMessage(playerid, COLOR_INFO, "Используй: /clist [id], нужно ввести id Цвета от 0 до 199");
			}else{
				SetPlayerColor(playerid,playerClistColors[strval(tmp)]);
				PlayerInfo[playerid][pColor] = strval(tmp);
			}
		}
	}
	if(dialogid == DIALOG_NICKCOLORSET)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					SPD(playerid, DIALOG_CLISTCLORSET, DIALOG_STYLE_INPUT, "Clist color",
					"{FFFFFF}Nickname color. Предпросмотр цветов командой /clists.\nВведи номер цвета от 0-199:","Ок","Закрыть");
				}
				case 1: 
				{
					SPD(playerid, DIALOG_CLISTCLORSLIST, DIALOG_STYLE_INPUT, "Clist colors", 
					"{FFFFFF}Предпросмотр clist. Введи номер от 0-199:","Ок","Закрыть");
				}
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_INFO, "Используйте /clist [номер] для установки цвета по номеру, предпросмотр цветов /clists");
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_SKINCHANGE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new skinid;
			if(sscanf(inputtext,"d", skinid)) return SendClientMessage(playerid, COLOR_INFO, "Используй: /skin [id]");
			if (IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя менять скин в транспорте");
			SetPlayerSkin(playerid,skinid);
			PlayerInfo[playerid][pSkin] = skinid;
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_ADMSKINCHANGE)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new skinid;
			if(sscanf(inputtext,"d", skinid)) return SendClientMessage(playerid, COLOR_INFO, "Некорректный id");
			if (IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя менять скин пока игрок в транспорте");
			SetPlayerSkin(ChosenPlayer[playerid],skinid);
		}
	}
	if(dialogid == DIALOG_SETCHATCOLOR)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			new chatcolor;
			if(strlen(inputtext) != 6)
			{
				SendClientMessage(playerid, COLOR_YELLOW, "Значение должно быть из 6 символов формата RRGGBB!");
				return SPD(playerid, DIALOG_SETCHATCOLOR, DIALOG_STYLE_INPUT, "Смена цвета в чате","{ffffff}Введите цвет в формате RGB (6 символов)\nБазовые цвета:{ffff00}ffff00,{ff0000}ff0000,{00ff00}00ff00,{0000ff}0000ff,{ff00ff}ff00ff,{00ffff}00ffff,{ffffff}ffffff", "Выбор", "Отмена");
			}
			if(sscanf(inputtext,"h", chatcolor)) return SendClientMessage(playerid, COLOR_YELLOW, "Введите цвет в hex формате 6 символов");
			format(PlayerInfo[playerid][pChatColor], 7, "%s", inputtext);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_SETTINGS, DIALOG_STYLE_LIST, "Настройки",SettingMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_DRINKSMENU)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if (listitem == 0) SetPlayerSpecialAction(playerid, 21); // weed
			if (listitem == 1) SetPlayerSpecialAction(playerid, 22); // vine
			if (listitem == 2) SetPlayerSpecialAction(playerid, 23); // sprunk
			if (listitem == 3) SetPlayerSpecialAction(playerid, 20); // beer
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_ETC, DIALOG_STYLE_LIST, "Разное",EtcMenuStr,"Выбрать","Назад");
		}
	}
	if(dialogid == DIALOG_BARMENU)
	{
		if(response)
		{
			new Float:pos[3];
			GetPlayerPos(playerid,pos[0],pos[1],pos[2]);
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					if(GetPlayerDrunkLevel(playerid) <= 6000){
						ApplyAnimation(playerid, "PED", "SHOVE_PARTIAL", 4.0, 0, 1, 1, 1, 0);
					}
					if(GetPlayerDrunkLevel(playerid) < 9000){
						ApplyAnimation(playerid, "PAULNMAC", "Piss_loop", 4.0, 0, 1, 1, 1, 0);
						IsAnimLoop[playerid] = 1;
					}
					SetPlayerDrunkLevel (playerid, GetPlayerDrunkLevel(playerid)+3000);
					SetPlayerSpecialAction(playerid, 22); // beer
				}
				case 1:
				{
					if(GetPlayerDrunkLevel(playerid) <= 12000){
						ApplyAnimation(playerid, "PED", "KO_SKID_FRONT", 4.0, 0, 1, 1, 1, 0);
					}
					SetPlayerSpecialAction(playerid, 22);
					SetPlayerDrunkLevel (playerid, GetPlayerDrunkLevel(playerid)+4000); // vodka
				}
				case 2: CreateExplosion(pos[0], pos[1], pos[2], 12, 2);// sambuka
				case 3:
				{
					SetPlayerDrunkLevel(playerid, 4000);// tequilla
					ApplyAnimation(playerid,"VENDING","VEND_DRINK_P",4.0,0,0,0,0,0,1);
					ApplyAnimation(playerid,"PED","IDLE_TIRED",4.0,0,0,0,0,0,1);
				}
				case 4:
				{
					SetPlayerDrunkLevel(playerid, 4000);// Djeen
					ApplyAnimation(playerid,"PED","GAS_CWR",4.0,0,0,0,0,0,1);
				}
				case 5:
				{
					SetPlayerDrunkLevel(playerid, 4000);// Kon
					ApplyAnimation(playerid,"VENDING","VEND_DRINK_P",4.0,0,0,0,0,0,1);
				}
				case 6:
				{
					SetPlayerDrunkLevel(playerid, 4000);// Whiskey
					ApplyAnimation(playerid,"VENDING","VEND_DRINK2_P",4.0,0,0,0,0,0,1);
				}
				case 7: SetPlayerDrunkLevel(playerid, 4000);// Sake
				case 8:
				{
					SetPlayerSpecialAction(playerid, 22);
					SetPlayerAttachedObject(playerid, 7, 19078, 1, 0.329150, -0.072101, 0.156082, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 );
					SendClientMessage(playerid, COLOR_WHITE, "Йо-хо-хо, и бутылка рому! Пей, и дьявол тебя доведёт до конца.");
					SetPlayerDrunkLevel(playerid, 4000);// Rom
				}
				case 9:
				{
					SetPlayerDrunkLevel(playerid, 5000);// Cymus
					SendClientMessage(playerid, COLOR_WHITE, "ыстыk kымыз oте дaмді болды, Мен kазаk тілін тyсіне бастадым");
				}
				case 10:
				{
					if(GetPlayerDrunkLevel(playerid) < 40000){
						SetPlayerSpecialAction(playerid, 22);
						SetPlayerDrunkLevel(playerid, 50000);// abscent
						SendClientMessage(playerid, COLOR_INFO, "Очень крепкий напиток, если перебрать то можно сгореть заживо");
					}
					else CreateExplosion(pos[0], pos[1], pos[2], 1, 2);
				}
				case 11:
				{
					SetPlayerSpecialAction(playerid, 23); // sprunk
					SetPlayerDrunkLevel (playerid, 0); 
				}
			}
		}
	}
	if(dialogid == DIALOG_PLAYERCOUNT && response)
	{
		new countstring[64], countparam[2];
		if(CloseCmdAccess[playerid] == 1) return 0;
		if(CountStarted) return SendClientMessage(playerid, COLOR_INFO, "Кто-то уже начал отсчёт!");
		if(sscanf(inputtext,"d", countparam)) return 0;
		CountCmd = countparam[0];
		if(!(1 <= CountCmd <= 9)) return SendClientMessage(playerid, COLOR_INFO, "Количество секунд от 1 до 9!");
		//format(countstring, sizeof countstring, "*** %s начал отсчёт.", PlayerName(playerid));
		//SendClientMessageToAll(COLOR_YELLOW, countstring);
		format(countstring, sizeof countstring, "~y~%d", CountCmd);
		PlaySoundForAll(1056, 0.0, 0.0, 0.0);
		GameTextForAll(countstring, 1000, 3);
		SetTimer("CountFunc", 1000, 0);
		CountStarted = true;
	}
	if(dialogid == DIALOG_PLAYERTMONEY && response)
	{
		new transfersumm;
		if(sscanf(inputtext,"d", transfersumm)) return SendClientMessage(playerid, COLOR_YELLOW, "Неверная сумма перевода");
		if(GetPlayerMoney(playerid) < transfersumm) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег."); 
		if(PlayerInfo[ChosenPlayer[playerid]][pLimit] == 0) return SendClientMessage(playerid, COLOR_YELLOW, "У игрока исчерпан лимит!"); 
		SetMoney(ChosenPlayer[playerid],transfersumm);
		SetMoney(playerid,-transfersumm);
		format(string, sizeof(string), "Вам перевели %s от %s", inputtext, pName);
		SendClientMessage(ChosenPlayer[playerid], COLOR_INFO, string);
	}
	if(dialogid == DIALOG_TABREWARD && response)
	{
		new transfersumm;
		new getrewstr[128];
		if(sscanf(inputtext,"d", transfersumm)) return SendClientMessage(playerid, COLOR_YELLOW, "Неверная сумма вознаграждения");
		if(GetPlayerMoney(playerid) < transfersumm) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
		if(transfersumm < 100) return SendClientMessage(playerid, COLOR_YELLOW, "Минимальная сумма 100$");
		SetMoney(playerid,-transfersumm);
		PlayerInfo[ChosenPlayer[playerid]][pReward] = transfersumm;
		format(getrewstr, sizeof(getrewstr), "За убийство игрока %s установленна награда %i $", PlayerName(ChosenPlayer[playerid]), transfersumm);
		SendClientMessageToAll(COLOR_ORANGE, getrewstr);
	}
	if(dialogid == DIALOG_PLGMODE && response)
	{
		// GM after 30 sec
		SetTimerEx("PgmTimer",1000*30,false,"i",playerid);
		if(GetPVarInt(playerid,"pgm") == 0)	SendClientMessage(playerid, COLOR_SYSTEM, "Через 30 секунд вы станете бессмертным\n");
		else SendClientMessage(playerid, COLOR_SYSTEM, "Через 30 секунд оружие будет возвращено\n");
	}
	if(dialogid == DIALOG_SETTIME)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:	SetPlayerTime(playerid, 0, 0);
				case 1: SetPlayerTime(playerid, 1, 0);
				case 2: SetPlayerTime(playerid, 2, 0);
				case 3: SetPlayerTime(playerid, 3, 0);
				case 4: SetPlayerTime(playerid, 4, 0);
				case 5: SetPlayerTime(playerid, 5, 0);
				case 6: SetPlayerTime(playerid, 6, 0);
				case 7: SetPlayerTime(playerid, 7, 0);
				case 8: SetPlayerTime(playerid, 8, 0);
				case 9: SetPlayerTime(playerid, 9, 0);
				case 10: SetPlayerTime(playerid, 10, 0);
				case 11: SetPlayerTime(playerid, 11, 0);
				case 12: SetPlayerTime(playerid, 12, 0);
				case 13: SetPlayerTime(playerid, 13, 0);
				case 14: SetPlayerTime(playerid, 14, 0);
				case 15: SetPlayerTime(playerid, 15, 0);
				case 16: SetPlayerTime(playerid, 16, 0);
				case 17: SetPlayerTime(playerid, 17, 0);
				case 18: SetPlayerTime(playerid, 18, 0);
				case 19: SetPlayerTime(playerid, 19, 0);
				case 20: SetPlayerTime(playerid, 20, 0);
				case 21: SetPlayerTime(playerid, 21, 0);
				case 22: SetPlayerTime(playerid, 22, 0);
				case 23: SetPlayerTime(playerid, 23, 0);
				case 24: SetPlayerTime(playerid, 21, 0); // default
			}
		}
	}
	if(dialogid == DIALOG_PLAYEROBJ)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:	SPD(playerid, DIALOG_HATS, DIALOG_STYLE_LIST, "Объекты к игроку", "{ffffff}Шляпа Санты\nПопугай на плече\nКепка\nКейс в руке\nФермерская шляпа", "Выбрать", "Назад");
				case 1: MSelect_Show(playerid, MSelect:glasses);
				case 2: SPD(playerid, DIALOG_MASKS, DIALOG_STYLE_LIST, "Маски", "{ffffff}Белая хоккейная\nКрасная хоккейная 2\nЗеленая хоккейная 3\nЗорро\nБоксерская", "Выбрать", "Назад");
				case 3:	SPD(playerid, DIALOG_HANDOBJ, DIALOG_STYLE_LIST, "Взять в руки", "{ffffff}Лом\nКрест\nУдочка\nМолоток\nОтвертка\nГрабли\nФлюгегехаймен\nНож\nСабля\nВеер\nМикрофон\nЛопата\nЧемодан CJ\nМолот\nКуриная ножка\nДорожный знак\n", "Выбрать", "Назад");
				case 4: RemoveAllAttachedObjects(playerid);
			}
		}
    }
	if(dialogid == DIALOG_HATS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(listitem == 0)
			{
				PlayerInfo[playerid][pObjHat] = 1;
				SetPlayerAttachedObject( playerid, 3, 19065, 2, 0.121128, 0.023578, 0.001139, 222.540847, 90.773872, 211.130859, 1.098305, 1.122310, 1.106640 ); // SantaHat
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}	
			if(listitem == 1) 
			{
				PlayerInfo[playerid][pObjHat] = 2;
				SetPlayerAttachedObject( playerid, 3, 19078, 1, 0.329150, -0.072101, 0.156082, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // TheParrot1
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem == 2) 
			{
				PlayerInfo[playerid][pObjHat] = 3;
				SetPlayerAttachedObject( playerid, 3, 18939, 2, 0.147825, 0.010626, -0.004892, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000 ); // CapBack1 - Sapca RuTeN
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem == 3) 
			{
				PlayerInfo[playerid][pObjHat] = 4;
				SetPlayerAttachedObject( playerid, 3, 1210, 6, 0.259532, -0.043030, -0.009978, 85.185333, 271.380615, 253.650283, 1.000000, 1.000000, 1.000000 ); // briefcase - briefcase
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem == 4) 
			{
				PlayerInfo[playerid][pObjHat] = 5;
				SetPlayerAttachedObject( playerid, 3, 19098, 2, 0.147825, 0.010626, -0.004892, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000); // farmer hat
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_PLAYEROBJ, DIALOG_STYLE_LIST, "Объекты к игроку", ShopObjList, "Выбрать", "Назад");
		}
    }
	if(dialogid == DIALOG_MASKS)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			if(listitem ==  0)//Hockeymask1
			{
				PlayerInfo[playerid][pObjMask] = 1;
				SetPlayerAttachedObject(playerid, 1, 19036, 2, 0.107, 0.020, 0.0, 90, 90, 0);
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem ==  1)//Hockeymask2
			{
				PlayerInfo[playerid][pObjMask] = 2;
				SetPlayerAttachedObject(playerid, 1, 19037, 2, 0.107, 0.020, 0.0, 90, 90, 0);
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem ==  2)//Hockeymask3
			{
				PlayerInfo[playerid][pObjMask] = 3;
				SetPlayerAttachedObject(playerid, 1, 19038, 2, 0.107, 0.020, 0.0, 90, 90, 0);
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem ==  3)//Zorromask
			{
				PlayerInfo[playerid][pObjMask] = 4;
				SetPlayerAttachedObject(playerid, 1, 18974, 2, 0.098, 0.0258, 0.0, 90, 90, 0);
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
			if(listitem ==  4)//Boxing
			{
				PlayerInfo[playerid][pObjMask] = 5;
				SetPlayerAttachedObject(playerid, 1, 18952, 2, 0.105, 0.01, 0.0, 0, 0, 0);
				PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
			}
		}
	    else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_PLAYEROBJ, DIALOG_STYLE_LIST, "Объекты к игроку", ShopObjList, "Выбрать", "Назад");
		}
    }
	if(dialogid == DIALOG_HANDOBJ)
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0: SetPlayerAttachedObject(playerid, 1, 18634, 6,  0.072999, 0.021000, 0.155000,  -98.099967, -89.499885, -177.499969,  1.000000, 1.000000, 1.000000); // freeman
				case 1: SetPlayerAttachedObject(playerid, 1, 11712, 6,  0.059999, -0.007000, 0.155000,  0.000000, 0.000000, 0.000000,  1.000000, 1.000000, 1.000000); //crest
				case 2:	SetPlayerAttachedObject(playerid, 1, 18632, 6,  0.060999, 0.015000, 0.024000,  176.900009, 0.000000, 0.000000,  1.000000, 1.000000, 1.000000); // rod
				case 3: SetPlayerAttachedObject(playerid, 1, 18635, 6,  -0.016000, -0.016000, 0.061999,  3.799963, 0.000000, 0.000000,  1.000000, 1.000000, 1.000000); // molot
				case 4: SetPlayerAttachedObject(playerid, 1, 18644, 6,  0.066999, 0.005000, 0.014999,  173.100006, 0.000000, 0.000000,  1.000000, 1.000000, 1.000000); // Screwdriver
				case 5: SetPlayerAttachedObject(playerid, 1, 18890, 6,  -0.014000, 0.026999, 0.014999,  173.100006, 0.000000, -88.499984,  1.000000, 1.000000, 1.000000); // rake
				case 6: SetPlayerAttachedObject(playerid, 1, 19086, 6,  0.015999, 0.035999, 0.014999,  -79.700027, -83.400016, -94.500061,  1.000000, 1.000000, 1.000000); // chainsawdildo
				case 7: SetPlayerAttachedObject(playerid, 1, 19583, 6,  0.061999, 0.015000, 0.032000,  -99.700004, 179.399902, 0.000000,  1.000000, 1.000000, 1.000000); // bigknife
				case 8: SetPlayerAttachedObject(playerid, 1, 19590, 6,  0.061999, 0.010999, 0.032000,  -99.700004, -93.500244, 0.000000,  1.000000, 1.000000, 1.000000); // wuziknife
				case 9: SetPlayerAttachedObject(playerid, 1, 19591, 6,  0.058999, 0.010999, 0.043000,  -87.399948, 92.399757, -72.099960,  1.000000, 1.000000, 1.000000); // fan
				case 10: SetPlayerAttachedObject(playerid, 1, 19610, 6,  0.058999, 0.010999, 0.043000,  -87.399948, 92.399757, 166.600097,  1.000000, 1.000000, 1.000000); // microphone
				case 11: SetPlayerAttachedObject(playerid, 1, 19626, 6,  0.062999, 0.065999, 0.162999,  -8.699932, -173.800247, 166.600097,  1.000000, 1.000000, 1.000000); //spade
				case 12: SetPlayerAttachedObject(playerid, 1, 19624, 6,  0.060999, 0.020999, 0.025999,  -8.699932, -101.700302, 166.600097,  1.000000, 1.000000, 1.000000); // cj_bag
				case 13: SetPlayerAttachedObject(playerid, 1, 19631, 6,  0.001999, -0.008000, 0.325999,  -8.699932, -101.700302, 76.900085,  1.000000, 1.000000, 1.000000); // sledgehammer
				case 14: SetPlayerAttachedObject(playerid, 1, 19847, 6,  0.056999, 0.024999, 0.026999,  -8.699932, -101.700302, 76.900085,  1.000000, 1.000000, 1.000000); // legham
				case 15: SetPlayerAttachedObject(playerid, 1, 19966, 6,  0.069999, 0.001000, -0.406999,  -3.200000, 0.300164, -3.299997,  1.000000, 1.000000, 1.000000); // stop
			}
			PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
		}
	    else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_PLAYEROBJ, DIALOG_STYLE_LIST, "Объекты к игроку", ShopObjList, "Выбрать", "Назад");
		}
    }
	if(dialogid == DIALOG_ALLIPTABLE && !(response)) SPD(playerid, DIALOG_ADMINFO, DIALOG_STYLE_LIST, "Информация", AdminInfoTStr,"Выбрать","Назад");
	if(dialogid == DIALOG_SERVERSTAT && !(response)) SPD(playerid, DIALOG_ADMINFO, DIALOG_STYLE_LIST, "Информация", AdminInfoTStr,"Выбрать","Назад");
	if(dialogid == DIALOG_ADMINCOMMANDSHELP && !(response)) SPD(playerid, DIALOG_ADMINFO, DIALOG_STYLE_LIST, "Информация", AdminInfoTStr,"Выбрать","Назад");
	/* 	if(dialogid == DIALOG_ALLIPTABLE)
	{
		if(response)
		{
			new clickedid = -1;
			foreach(Player, i)
			{
				if(clickedid == listitem) 
				{
					clickedid = i; 
					break;
				}  
				if(clickedid == -1) return 1; 
			}
			DopStatistics(playerid,clickedid);
		}
	} */
	if(dialogid == DIALOG_VEHMENU)
    {
        if(response)
        {
			switch(listitem)
			{
				case 0: MSelect_Show(playerid, MSelect:Airplanes);
				case 1: MSelect_Show(playerid, MSelect:Helicopters);
				case 2: MSelect_Show(playerid, MSelect:Bikes);
				case 3: MSelect_Show(playerid, MSelect:Industrial);
				case 4: MSelect_Show(playerid, MSelect:Lowriders);
				case 5: MSelect_Show(playerid, MSelect:Offroad);
				case 6: MSelect_Show(playerid, MSelect:Services);
				case 7: MSelect_Show(playerid, MSelect:Saloons);
				case 8: MSelect_Show(playerid, MSelect:Sport);
				case 9: MSelect_Show(playerid, MSelect:Boats);
				case 10: MSelect_Show(playerid, MSelect:Unique);
			}
		}
	}
	if(dialogid == DIALOG_VEHMENUOPT) 
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					for ( new i ; i != sizeof( Draw ); i ++ ) TextDrawShowForPlayer( playerid, Draw[ i ]) ;
					SelectTextDraw( playerid, 0xffffff00 ) ;
				}
				case 1: FixCar(playerid);
				case 2: FlipCar(GetPlayerVehicleID(playerid));
				case 3: EjectPassagersFromVeh(playerid);
				case 4: SPD(playerid, DIALOG_TUNING, DIALOG_STYLE_LIST, "Tuning", TuneStr,"OK"," < ");
				case 5: SPD(playerid, DIALOG_VEHSPEC, DIALOG_STYLE_LIST, "Vehicle Spec Actions", VehSpecStr,"OK"," < ");
			}
		}
	}
	if(dialogid == DIALOG_TUNING) 
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					AddVehicleComponent(GetPlayerVehicleID(playerid),1087);
					PlayerPlaySound(playerid,1133,0.0,0.0,0.0);
				}
				case 1: SPD(playerid, DIALOG_WHEELS, DIALOG_STYLE_LIST, "Wheels - Диски", "Shadow\nMega\nWires\nClassic\nRimshine\nCutter\nTwist\nSwitch\nGrove\nImport\nDollar\nTrance\nAtomic\n{A9A9A9}Default", "OK", " < ");
				case 2: SPD(playerid, DIALOG_PAINTJOBS, DIALOG_STYLE_LIST, "Paintjobs - Покрасочные работы", "{800080}Paintjob 1\nPaintjob 2\n{800080}Paintjob 3\nPaintjob 4", "OK", " < ");
				case 3: SPD(playerid, DIALOG_NEON, DIALOG_STYLE_LIST, "Neon - Выбор неона", "{FF0000}RED\n{0033CC}BLUE\n{33FF00}GREEN\n{FFFF00}YELLOW\n{FEBFEF}PINK\nWHITE\nRemove(удалить)", "OK", " < ");
				case 4: ArmoringVehicle(playerid);
				case 5: SPD(playerid, DIALOG_TUNESET, DIALOG_STYLE_LIST, "Styling - Стайлинг", StylingList,"OK"," < "); // {8B0000}Transfender Kit\n
				case 6: SPD(playerid, DIALOG_TPLISTTUNING, DIALOG_STYLE_LIST, "Workshops - Мастерские", TplistTuningMenuStr,"OK"," < ");
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_VEHSPEC) 
	{
		if(response)
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
			switch(listitem)
			{
				case 0:
				{
					// open-close hood
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABike(vehicleid) || IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					new engine,lights,alarm,doors,bonnet,boot,objective;
					GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					if(bonnet != 0) SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,0,boot,objective); 
					else SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,1,boot,objective);
				}
				case 1:
				{
					// open-close trunk
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABike(vehicleid) || IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					new engine,lights,alarm,doors,bonnet,boot,objective;
					GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					if(boot != 0) SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,0,objective); 
					else SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,1,objective);
				}
				case 2:
				{
					// turn on-off lights
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					new engine,lights,alarm,doors,bonnet,boot,objective;
					GetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					SetVehicleParamsEx(vehicleid,engine,lights,alarm,doors,bonnet,boot,objective);
					if(lights != 0) SetVehicleParamsEx(vehicleid,engine,0,alarm,doors,bonnet,boot,objective); 
					else SetVehicleParamsEx(vehicleid,engine,1,alarm,doors,bonnet,boot,objective);
				}
				case 3: // 4 wheels cut
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					new panels, doors, lights, tires;	
					GetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
					UpdateVehicleDamageStatus(vehicleid, panels, doors, lights, 15);
				}
				case 4: // 2 wheels cut
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					new panels, doors, lights, tires;	
					GetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
					UpdateVehicleDamageStatus(vehicleid, panels, doors, lights, 5);
				}
				case 5: // attach minigun
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABike(vehicleid) || IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					DestroyObject(VehAttach[playerid][0]);
					VehAttach[playerid][0] = CreateObject(362,0,0,0,0,0,0,100.0);
					AttachObjectToVehicle(VehAttach[playerid][0], vehicleid, 0.439999, 0.824999, 0.629999, -2.010001, 30.149990, 93.464942); //Object Model: 362 
				}
				case 6: // atttach engine
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(IsABike(vehicleid) || IsABoat(vehicleid) || IsAPlane(vehicleid) || IsANoSpeed(vehicleid)) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного транспорта");
					DestroyObject(VehAttach[playerid][1]);
					VehAttach[playerid][1] = CreateObject(19917 ,0,0,0,0,0,0,100.0);
					AttachObjectToVehicle(VehAttach[playerid][1], vehicleid, -0.009999, 1.379998, -0.219999, 7.034998, 0.000000, 180.900100); //Object Model: 19917 
				}
				case 7:
				{
					DestroyObject(VehAttach[playerid][0]);
					DestroyObject(VehAttach[playerid][1]);
					DestroyObject(VehAttach[playerid][2]);
					DestroyObject(VehAttach[playerid][3]);
					DestroyObject(VehAttach[playerid][4]);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_TUNESET)
	{// https://wiki.sa-mp.com/wiki/Car_Component_ID
	    if(response)
		{
			switch(listitem)
        	{
				case 0:// Alien kit
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(GetVehicleModel(vehicleid) == 562) // Elegy
			        {
			            AddVehicleComponent(vehicleid,1036);
			            AddVehicleComponent(vehicleid,1034);
			            AddVehicleComponent(vehicleid,1038);
			            AddVehicleComponent(vehicleid,1040);
			            AddVehicleComponent(vehicleid,1147);
			            AddVehicleComponent(vehicleid,1149);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
			        }
					else if(GetVehicleModel(vehicleid) == 565) // Flash
					{
					    AddVehicleComponent(vehicleid,1046);
					    AddVehicleComponent(vehicleid,1047);
					    AddVehicleComponent(vehicleid,1049);
					    AddVehicleComponent(vehicleid,1051);
					    AddVehicleComponent(vehicleid,1054);
					    AddVehicleComponent(vehicleid,1150);
					    AddVehicleComponent(vehicleid,1153);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else if(GetVehicleModel(vehicleid) == 559) // Jester
					{
					    AddVehicleComponent(vehicleid,1065);
					    AddVehicleComponent(vehicleid,1067);
					    AddVehicleComponent(vehicleid,1069);
					    AddVehicleComponent(vehicleid,1071);
					    AddVehicleComponent(vehicleid,1159);
					    AddVehicleComponent(vehicleid,1160);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else if(GetVehicleModel(vehicleid) == 560) // Sultan
					{
					    AddVehicleComponent(vehicleid,1141);
					    AddVehicleComponent(vehicleid,1169);
					    AddVehicleComponent(vehicleid,1138);
					    AddVehicleComponent(vehicleid,1026);
					    AddVehicleComponent(vehicleid,1027);
					    AddVehicleComponent(vehicleid,1028);
					    AddVehicleComponent(vehicleid,1032);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else if(GetVehicleModel(vehicleid) == 558)  // Uranus
					{			
					    AddVehicleComponent(vehicleid,1164);
					    AddVehicleComponent(vehicleid,1166);
					    AddVehicleComponent(vehicleid,1168);
					    AddVehicleComponent(vehicleid,1088);
					    AddVehicleComponent(vehicleid,1090);
					    AddVehicleComponent(vehicleid,1092);
					    AddVehicleComponent(vehicleid,1094);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else
					{
						SendClientMessage(playerid,COLOR_YELLOW,"Недоступно для данного транспорта");
					}
				}
				case 1:
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(GetVehicleModel(vehicleid) == 562) // Elegy
			        {
			            AddVehicleComponent(vehicleid,1035);
			            AddVehicleComponent(vehicleid,1037);
			            AddVehicleComponent(vehicleid,1039);
			            AddVehicleComponent(vehicleid,1041);
			            AddVehicleComponent(vehicleid,1046);
			            AddVehicleComponent(vehicleid,1048);
			            AddVehicleComponent(vehicleid,1172);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
			        }
					else if(GetVehicleModel(vehicleid) == 565) // Flash
					{
					    AddVehicleComponent(vehicleid,1045);
					    AddVehicleComponent(vehicleid,1048);
					    AddVehicleComponent(vehicleid,1050);
					    AddVehicleComponent(vehicleid,1052);
					    AddVehicleComponent(vehicleid,1053);
					    AddVehicleComponent(vehicleid,1151);
					    AddVehicleComponent(vehicleid,1152);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else if(GetVehicleModel(vehicleid) == 559) // Jester
					{
					    AddVehicleComponent(vehicleid,1066);
					    AddVehicleComponent(vehicleid,1068);
					    AddVehicleComponent(vehicleid,1070);
					    AddVehicleComponent(vehicleid,1072);
					    AddVehicleComponent(vehicleid,1073);
					    AddVehicleComponent(vehicleid,1158);
					    AddVehicleComponent(vehicleid,1161);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					/*else if(GetVehicleModel(vehicleid) == 561) // Stratum
					{
					    AddVehicleComponent(vehicleid,1156); //xflow
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}*/
					else if(GetVehicleModel(vehicleid) == 560) // Sultan
					{
					    AddVehicleComponent(vehicleid,1029);
					    AddVehicleComponent(vehicleid,1030);
					    AddVehicleComponent(vehicleid,1033);
					    AddVehicleComponent(vehicleid,1031);
					    AddVehicleComponent(vehicleid,1139);
					    AddVehicleComponent(vehicleid,1140);
					    AddVehicleComponent(vehicleid,1170);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else if(GetVehicleModel(vehicleid) == 558)  // Uranus
					{			
					    AddVehicleComponent(vehicleid,1089);
					    AddVehicleComponent(vehicleid,1091);
					    AddVehicleComponent(vehicleid,1093);
					    AddVehicleComponent(vehicleid,1095);
					    AddVehicleComponent(vehicleid,1165);
					    AddVehicleComponent(vehicleid,1167);
			            PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
					}
					else
					{
						SendClientMessage(playerid,COLOR_YELLOW,"Недоступно для данного транспорта");
					}
				}
				case 2: SPD(playerid, DIALOG_SPOILERS, DIALOG_STYLE_LIST, "Spoilers", "{ffffff}Pro\nWin\nDrag\nAlpha\nChamp\nRace\nWorx","OK", " < ");
				case 3: //hood remove
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					new panels, doors, lights, tires;
					GetVehicleDamageStatus(vehicleid,panels,doors,lights,tires);
					UpdateVehicleDamageStatus(vehicleid, panels, (doors | 0b00000100), lights, tires);
				}
				case 4: // rtunk remove
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					new panels, doors, lights, tires;
					GetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
					UpdateVehicleDamageStatus(vehicleid, panels, (doors | 0b00000000_00000000_0000100_00000100), lights, tires);
				}
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_SPOILERS)
	{
	    if(response)
		{
			new vehicleid;
			vehicleid = GetPlayerVehicleID(playerid);
			switch(vehicleid){
				case 406,407,430,432,425,447,464,476,601: return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного вида траспорта"); // airveh
				case 446,448,452,424,453,454,461,462,463,468,471,472,449,473,481,484,493,509,510,521,538,522,523,532,537,570,581,586,590,569,595,604,611: return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного вида траспорта");
			}
			// 1000 - Pro 1001 - Win 1002 - Drag 1003 - Alpha 1014 - Champ 1015 - Race 1016 - Worx
		    if(listitem == 0)AddVehicleComponent(vehicleid,1000);
			if(listitem == 1)AddVehicleComponent(vehicleid,1001);
			if(listitem == 2)AddVehicleComponent(vehicleid,1002);
			if(listitem == 3)AddVehicleComponent(vehicleid,1003);
			if(listitem == 4)AddVehicleComponent(vehicleid,1014);
			if(listitem == 5)AddVehicleComponent(vehicleid,1015);
			if(listitem == 6)AddVehicleComponent(vehicleid,1016);
			PlayerPlaySound(playerid, 1133, 0.0, 0.0, 0.0);
			SendClientMessage(playerid, COLOR_WHITE, "Примечание: не все спойлеры можно установить на ваш транспорт.");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_WHEELS)
	{
	    if(response)
		{
			new vehicleid;
			vehicleid = GetPlayerVehicleID(playerid);
		    if(listitem == 0)AddVehicleComponent(vehicleid,1073);
			if(listitem == 1)AddVehicleComponent(vehicleid,1074);
			if(listitem == 2)AddVehicleComponent(vehicleid,1076);
			if(listitem == 3)AddVehicleComponent(vehicleid,1077);
			if(listitem == 4)AddVehicleComponent(vehicleid,1075);
			if(listitem == 5)AddVehicleComponent(vehicleid,1079);
			if(listitem == 6)AddVehicleComponent(vehicleid,1078);
			if(listitem == 7)AddVehicleComponent(vehicleid,1080);
			if(listitem == 8)AddVehicleComponent(vehicleid,1081);
			if(listitem == 9)AddVehicleComponent(vehicleid,1082);
			if(listitem == 10)AddVehicleComponent(vehicleid,1083);
			if(listitem == 11)AddVehicleComponent(vehicleid,1084);
			if(listitem == 12)AddVehicleComponent(vehicleid,1085);
			if(listitem >= 0 && listitem <= 12)PlayerPlaySound(playerid,1133,0.0,0.0,0.0);
			if(listitem == 13)
			{
				new dop;
				dop = GetVehicleComponentInSlot(vehicleid, 7);
				if(dop != 0)
				{
					RemoveVehicleComponent(vehicleid, dop);
					PlayerPlaySound(playerid,5202,0.0,0.0,0.0);
				}
			}
			SPD(playerid, DIALOG_WHEELS, DIALOG_STYLE_LIST, "Диски", "Shadow\nMega\nWires\nClassic\nRimshine\nCutter\
			\nTwist\nSwitch\nGrove\nImport\nDollar\nTrance\nAtomic\nСтандарт", "OK", " < ");
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_PAINTJOBS)
	{
	    if(response)
		{
			new vehicleid;
			vehicleid = GetPlayerVehicleID(playerid);
		    if(listitem == 0)ChangeVehiclePaintjob(vehicleid, 1);
			if(listitem == 1)ChangeVehiclePaintjob(vehicleid, 2);
			if(listitem == 2)ChangeVehiclePaintjob(vehicleid, 3);
			if(listitem == 4)ChangeVehiclePaintjob(vehicleid, 0);
			if(listitem >= 0 && listitem <= 4)PlayerPlaySound(playerid,1133,0.0,0.0,0.0);
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	if(dialogid == DIALOG_PLAYERATTACHMAIN)
	{
		if(response)
		{
			switch(listitem)
			{
				case 00:ShowIndexList(playerid);
				case 01:ShowModelInput(playerid);
				case 02:ShowBoneList(playerid);
				case 03:EditAttachCoord(playerid, ATPPOS_OFFSET_X);
				case 04:EditAttachCoord(playerid, ATPPOS_OFFSET_Y);
				case 05:EditAttachCoord(playerid, ATPPOS_OFFSET_Z);
				case 06:EditAttachCoord(playerid, ROT_OFFSET_X);
				case 07:EditAttachCoord(playerid, ROT_OFFSET_Y);
				case 08:EditAttachCoord(playerid, ROT_OFFSET_Z);
				case 09:EditAttachCoord(playerid, ATPSCALE_X);
				case 10:EditAttachCoord(playerid, ATPSCALE_Y);
				case 11:EditAttachCoord(playerid, ATPSCALE_Z);
				case 12:EditAttachment(playerid);
				case 13:ClearCurrentIndex(playerid);
				case 14:SaveAttachedObjects(playerid);
			}
		}
		else SPD(playerid, DIALOG_ADMCREATE, DIALOG_STYLE_LIST, "Создать", AdmCreateLst,"Выбрать","Отмена");
	}
	if(dialogid == DIALOG_ATPINDEX_SELECT)
	{
		if(response)
		{
			gCurrentAttachIndex[playerid] = listitem;
			ShowMainAttachEditMenu(playerid);
		}
		else ShowMainAttachEditMenu(playerid);

		return 1;
	}
	if(dialogid == DIALOG_ATPMODEL_SELECT)
	{
		if(response)
		{
			gIndexModel[playerid][gCurrentAttachIndex[playerid]] = strval(inputtext);
			ShowMainAttachEditMenu(playerid);
		}
		else ShowMainAttachEditMenu(playerid);
	}

	if(dialogid == DIALOG_ATPBONE_SELECT)
	{
		if(response)
		{
			gIndexBone[playerid][gCurrentAttachIndex[playerid]] = listitem + 1;
			ShowMainAttachEditMenu(playerid);
		}
		else ShowMainAttachEditMenu(playerid);
	}
	if(dialogid == DIALOG_ATPCOORD_INPUT)
	{
		if(response)
		{
			new Float:value = floatstr(inputtext);

			switch(gCurrentAxisEdit[playerid])
			{
				case ATPPOS_OFFSET_X:  gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = value;
				case ATPPOS_OFFSET_Y:  gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = value;
				case ATPPOS_OFFSET_Z:  gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = value;
				case ROT_OFFSET_X:  gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = value;
				case ROT_OFFSET_Y:  gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = value;
				case ROT_OFFSET_Z:  gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = value;
				case ATPSCALE_X:       gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = value;
				case ATPSCALE_Y:       gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = value;
				case ATPSCALE_Z:       gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = value;
			}

			SetPlayerAttachedObject(playerid,
			gCurrentAttachIndex[playerid],
			gIndexModel[playerid][gCurrentAttachIndex[playerid]],
			gIndexBone[playerid][gCurrentAttachIndex[playerid]],
			gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
			gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
			gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
			gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
			gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
			gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
			gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
			gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
			gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z]);
		}
		ShowMainAttachEditMenu(playerid);
	}
	if(dialogid == DIALOG_NEON)
    {
		new model = GetVehicleModel(GetPlayerVehicleID(playerid));
		if(response)
		{
			if(listitem == 0)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18647,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18647,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18647,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }		
			if(listitem == 1)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18648,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18648,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18648,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }
            if(listitem == 2)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18649,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18649,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18649,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }
            if (listitem == 3)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18650,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18650,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18650,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }
            if(listitem == 4)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18651,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18651,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18651,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }
            if(listitem == 5)
            {
				DestroyObject(neon[playerid][0]);
				DestroyObject(neon[playerid][1]);
				switch(model)
				{
					case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448:
					{
						neon[playerid][0] = CreateObject(18652,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), 0.0, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
					case 430,446,452,453,454,472,473,484,493,595: SendClientMessage(playerid, COLOR_YELLOW, "На лодки ставить нельзя!");
					case 460,476,511,512,513,519,520,553,577,592,593,417,425,447,469,487,488,497,548,563: SendClientMessage(playerid, COLOR_YELLOW, "На воздушный транспорт ставить нельзя!");
					default:
					{
						neon[playerid][0] = CreateObject(18652,0,0,0,0,0,0,100.0);
						neon[playerid][1] = CreateObject(18652,0,0,0,0,0,0,100.0);
						AttachObjectToVehicle(neon[playerid][0], GetPlayerVehicleID(playerid), -0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
						AttachObjectToVehicle(neon[playerid][1], GetPlayerVehicleID(playerid), 0.8, 0.0, -0.70, 0.0, 0.0, 0.0);
					}
				}
            }
            if(listitem == 6)
            {
				DestroyObject(neon[playerid][0]);
                DestroyObject(neon[playerid][1]);
			}
		}
		else
		{
			if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_OUT, 0, 0, 0);
			SPD(playerid, DIALOG_VEHMENUOPT, DIALOG_STYLE_LIST, "Vehicle menu", VehicleOptMenu,"OK", " X ");
		}
	}
	return 1;
}

public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
	new vehicleid = GetPlayerVehicleID(playerid);
	new inmess[128];
    if(PlayerInfo[playerid][pVip] > 0 && GetPVarInt(playerid,"pgm") > 0){
        if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, fX, fY, fZ);
        else{
			SetPlayerPosEx(playerid, fX, fY, fZ-1,0,GetPlayerVirtualWorld(playerid),GetPlayerInterior(playerid));
			Spawnkill(playerid,1);
			format(inmess, sizeof(inmess), "~w~x=%.2f y=%.2f z=%.2f", fX,fY,fZ);
			SendTexdrawMessage(playerid, inmess);
		}
    }
	else if(PlayerInfo[playerid][pAdmin] >= 4 || IsPlayerAdmin(playerid)){
        if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, fX, fY, fZ);
        else{
			SetPlayerPosEx(playerid, fX, fY, fZ-1,0,GetPlayerVirtualWorld(playerid),GetPlayerInterior(playerid));
			Spawnkill(playerid,1);
			format(inmess, sizeof(inmess), "~w~x=%.2f y=%.2f z=%.2f", fX,fY,fZ);
			SendTexdrawMessage(playerid, inmess);
		}
    }
	else if(GetPlayerVirtualWorld(playerid) >= 100 && GetPlayerVirtualWorld(playerid) <= 500){
		if(vehicleid > 0 && GetPlayerState(playerid) == PLAYER_STATE_DRIVER) SetVehiclePos(vehicleid, fX, fY, fZ);
        else{
			SetPlayerPosEx(playerid, fX, fY, fZ-1,0,GetPlayerVirtualWorld(playerid),GetPlayerInterior(playerid));
			Spawnkill(playerid,1);
			format(inmess, sizeof(inmess), "~w~x=%.2f y=%.2f z=%.2f", fX,fY,fZ);
			SendTexdrawMessage(playerid, inmess);
		}
	}
    return 1;
}

// ---------------------- [CMDS] -----------------------
CMD:testf(playerid, params[])
{
	// using for fast test some functions. remove on release version
	//SetPlayerWantedLevel(playerid, 1);
	SendClientMessage(playerid, COLOR_CORAL, "test function");
	PlayerTextDrawHide(playerid, SpecPlInfo[playerid]);
	SetCameraBehindPlayer(playerid);
	//MSelect_Show(playerid, MSelect:example_ms);
	return 1;
}

CMD:menu(playerid, params[])
{
	//if(CloseCmdAccess[playerid] == 1) return 0;
	SendClientMessage(playerid,COLOR_INFO,"Используйте клавишу <Y> для вызова главного меню.");
	if(IsPlayerAdmin(playerid)) MAIN_MENU(playerid);
	if(CloseMenuAccess[playerid] == 0){
		MAIN_MENU(playerid);
	}
	return 1;
}
alias:menu("меню");

CMD:clan(playerid, params[])
{
	if(CloseMenuAccess[playerid] == 0){
		if(PlayerInfo[playerid][pGang] > 0) return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы",GangsMenuStr,"Выбрать","Назад");
		else return SPD(playerid, DIALOG_GANGS, DIALOG_STYLE_LIST, "Кланы", NoGangMenuStr,"Выбрать","Назад");
	}
	return 1;
}
alias:clan("клан");

CMD:extpanel(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pVip] > 0)
	{
		SPD(playerid, DIALOG_EXTMENU, DIALOG_STYLE_LIST, "Extended Panel", AdminMenuStr,"Выбрать","Назад");
	}
	return 1;
}

CMD:cmds(playerid, params[])
{
    CmdsList(playerid); 
	return 1;
}
alias:cmds("команды");

CMD:vipcmds(playerid, params[])
{
    SPD(playerid, DIALOG_VIPINFO, DIALOG_STYLE_MSGBOX, "{ffcc00}О VIP", VipInfoMenuStr,"Ок","Выйти"); 
	return 1;
}
alias:vipcmds("vipcmd");

CMD:help(playerid, params[])
{
    SPD(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Информация",InfoMenuStr,"Выбрать","Назад");
	return 1;
}
alias:help("помощь");

CMD:hotkeys(playerid, params[])
{
    SPD(playerid, DIALOG_KEYHELP, DIALOG_STYLE_MSGBOX, "Горячие клавиши", HotkeysMenuStr,"Закрыть","");
	return 1;
}
alias:hotkeys("клавиши");

CMD:rules(playerid, params[])
{
    RulesDLG(playerid);
	return 1;
}
alias:rules("правила");

CMD:faq(playerid, params[])
{
    FAQ(playerid);
	return 1;
}

CMD:tplist(playerid, params[])
{
	SPD(playerid, DIALOG_BASETPLIST, DIALOG_STYLE_TABLIST_HEADERS, "Телепорты",BaseTplistMenu,"Выбрать","Назад");
	return 1;
}
alias:tplist("телепорты");

CMD:ls(playerid, params[]){	SetPlayerPosEx(playerid,1765.7373,-1895.3802,14.1300,269.5316);	return 1;}
CMD:sf(playerid, params[]){	SetPlayerPosEx(playerid,-1984.3955,138.3253,27.9796,85.2897); return 1;}
CMD:lv(playerid, params[]){	SetPlayerPosEx(playerid,1320.864624,1266.815307,10.820312,0); return 1;}
CMD:ammo(playerid, params[]){ SetPlayerPosEx(playerid,2147.1230,1032.8364,11.1582,178.9772); return 1;}
CMD:bayside(playerid, params[]){ SetPlayerPosEx(playerid,-2256.1833,2364.7615,5.6276,158.9472); return 1;}
CMD:bone(playerid, params[]){ SetPlayerPosEx(playerid,43.8830,1173.1411,18.8473,276.7381); return 1;}
CMD:flint(playerid, params[]){ SetPlayerPosEx(playerid,-1064.1818,-1223.9795,130.1247,264.8313); return 1;}
CMD:red(playerid, params[]){ SetPlayerPosEx(playerid,1078.4608,-331.7300,74.8740,97.5330); return 1;}
CMD:rancho(playerid, params[]){ SetPlayerPosEx(playerid,-700.888549, 952.368713, 12.351770,0); return 1;}
CMD:whetstone(playerid, params[]){ SetPlayerPosEx(playerid,-2095.4441,-2368.0361,31.3874,52.4125); return 1;}

flags:jizzy(VIP_CMD);
CMD:jizzy(playerid, params[]){ SetPlayerPosEx(playerid,-2640.524414, 1406.663574, 906.460937, 87.373756, 0, 3); return 1;}
alias:jizzy("club");

flags:loc(ADMIN_CMD);
CMD:loc(playerid, params[])
{
	SPD(playerid, DIALOG_CUSTOMLOC, DIALOG_STYLE_LIST, "Незадействованые Локации",CustomLocList,"Выбрать","Назад");
	return 1;
}
alias:loc("locations");

CMD:anim(playerid, params[])
{
	SPD(playerid, DIALOG_ANIMDLG, DIALOG_STYLE_LIST, "Анимации",AnimList,"Выбрать","Назад");
	return 1;
}

CMD:duel(playerid, params[])
{
 	//new str[128];
	if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid, COLOR_GREY, DEMO_MESSG);
	new id = params[0];
	//new rounds = params[1];
	//new weapset = params[2];
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	SPD(playerid, DIALOG_DUELZONES, DIALOG_STYLE_LIST, "Локации",DuelMapsList,"OK"," X ");
	Duel[id] = playerid;/*
	format(str, sizeof(str), "%s приглашает на дуэль. кол-во раундов:%d set:%d введите /accept для продолжения", PlayerName(playerid), rounds, weapset);
	SendClientMessage(id, COLOR_RED, str);
	format(str, sizeof(str), "Приглашение отправлено %s, ждите подтверждения", PlayerName(id));
	SendClientMessage(playerid, COLOR_RED, str); */
	return 1;
}

CMD:fso(playerid, params[])//stub fso
{
	if(!IsPlayerAdmin(playerid)){
		new fkstr[128];
		format(fkstr, sizeof fkstr, "%s[%d] использует софт для слива маппинга!", PlayerName(playerid), playerid);
		SendAdminMessage(COLOR_ADM, fkstr);
		Votekick[playerid] = Votekick[playerid] + 2;
	}
	return 1;
}

CMD:delgun(playerid, params[]){ Votekick[playerid]++; } //stub delgun

CMD:lang(playerid, params[])//stub lang
{
	new Disclaimer[1600] = "{FFFFFF}This mod is designed only for Russian-speaking users.\n"\
	"We would like to see here players from other countries but not can provide stable compound without lags \n"\
	"so as server resides on territory Russia, and organization several not appears possible our small team.\n\n"\
	"You can Open the main menu by pressing <Y> or by /menu, the list of commands can be viewed with /cmds\n"\
	"Settings can be found <Y> - Settings\n\n"\
	"{ff6633}/teleports, /tplist{ffffff} - teleport list\n"\
	"{ff6633}/help{ffffff} - server information\n"\
	"{ff6633}/dm[arena]{ffffff} - enter on DM zone\n"\
	"{ff6633}/skin[id] or /skins{ffffff} - change skin\n"\
	"{ff6633}/v[id]{ffffff} vehicle spawn\n"\
	"{ff6633}/flip{ffffff} - put auto on wheels\n"\
	"{ff6633}/pm{ffffff} - private messages\n"\
	"{ff6633}/togpm{ffffff} - on-off reception of private messages\n"\
	"{ff6633}/ignore, /ignore[id] /unignore[id]{ffffff} - ignore the messages of the player\n"\
	"{ff6633}/kill{ffffff} - suicide\n"\
	"{ff6633}/stat{ffffff} - view your stats\n"\
	"{ff6633}/dive[height]{ffffff} - parachute jump\n"\
	"{ff6633}/report[id]{ffffff} - report admins about cheater\n"\
	"{ff6633}/eject{ffffff} - throw passengers out of the car\n"\
	"{ff6633}/cc{ffffff} - transport color change\n"\
	"{ff6633}/clist, /color{ffffff} - change the color nickname\n"\
	"{ff6633}/fix, /fix{ffffff} - restore transport (Immortal players only)\n"\
	"{ff6633}/hud{ffffff} - on-off HUD server\n"\
	"{ff6633}/exit{ffffff} - exit with DM/TDM itd\n"\
	"{ff6633}/medkit{ffffff} - quickly restore health\n"\
	"{ff6633}/god{ffffff} - turn on the mode of immortality\n"\
	"{ff6633}/findnick{ffffff} - to find a player nickname or part of nickname\n"\
	"{ffffff}Only the basic commands are listed here.\n";
	SPD(playerid, DIALOG_LANGUAGE, DIALOG_STYLE_MSGBOX, "Disclaimer",Disclaimer,"X","");
	return 1;
}
alias:lang("language");

CMD:radiostop(playerid, params[])
{
	PlayerPlaySound(playerid,0,0,0,0);
	StopAudioStreamForPlayer(playerid);
	return 1;
}

CMD:radio(playerid, params[])
{
	SPD(playerid, DIALOG_RADIO, DIALOG_STYLE_LIST, "RADIO",RadioStLst,"Выбрать","Назад");
	return 1;
}
alias:radio("радио");

CMD:day(playerid, params[])
{
	SetPlayerTime(playerid, 9, 0);
	return 1;
}
alias:day("день");

CMD:night(playerid, params[])
{
	SetPlayerTime(playerid, 21, 0); 
	return 1;
}
alias:night("ночь");

flags:vip(VIP_CMD);
CMD:vip(playerid, params[])
{
	SPD(playerid, DIALOG_VIPMENU, DIALOG_STYLE_LIST, "VIP",VipMenuStr,"Выбрать","Назад");
	return 1;
}
alias:vip("вип");

flags:clearchat(VIP_CMD);
CMD:clearchat(playerid, params[])
{
	for(new i=0; i<200; i++)
	{
		SendClientMessage(playerid, -1, " ");
	}
	return 1;
}

CMD:findnick(playerid, params[])
{
	SPD(playerid, DIALOG_FINDNICK, DIALOG_STYLE_INPUT, "Поиск игрока", "{FFFFFF}Введите никнейм или его часть для поиска","Выбрать","Выйти");
	return 1;
}
alias:findnick("findnickname");
CMD:findname(playerid, params[])
{
	SPD(playerid, DIALOG_FINDNICK, DIALOG_STYLE_INPUT, "Поиск игрока", "{FFFFFF}Введите никнейм или его часть для поиска","Выбрать","Выйти");
	return 1;
}
alias:findname("findplayer");

flags:go(VIP_CMD);
CMD:go(playerid, params[])
{
	new str[128], id;
	{
        if(sscanf(params, "u", id)) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /go [id]");
		if(PlayerInfo[id][pJailed] > 0 || PlayerInfo[id][pCheater] > 0) return SendClientMessage(playerid, COLOR_INFO, "К игроку нельзя тп в данный момент");
		if(PlayerInfo[playerid][pJailed] > 0 || PlayerInfo[playerid][pCheater] > 0) return SendClientMessage(playerid, COLOR_INFO, "Вам нельзя тп в данный момент");
		if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_INFO, "На дм запрещено тп");
		if(SpecialZone(id)) return SendClientMessage(playerid, COLOR_INFO, "К игроку нельзя тп в данный момент");
		//if(PlayerInfo[id][pGos] == 1) return SendClientMessage(playerid, COLOR_INFO, "Игрок запретил тп к нему");
		if(GetPlayerState(id) == PLAYER_STATE_WASTED) return SendClientMessage(playerid, COLOR_INFO, "К игроку нельзя тп в данный момент");
		if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
		if(pAfk[id] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок в афк к нему нельзя тп");
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
		Go[id] = playerid;
		format(str, sizeof(str), "{FF0000}%s{FFFF00} желает телепортироваться к вам введите {FF0000}/goy{FFFF00} для продолжения", PlayerName(playerid));
		SendClientMessage(id, COLOR_YELLOW, str);
		format(str, sizeof(str), "Приглашение отправлено %s, ждите подтверждения", PlayerName(id));
		SendClientMessage(playerid, COLOR_YELLOW, str);
    }
    return 1;
}

CMD:goy(playerid, params[])
{
	new id = Go[playerid];
	new str[128], Float:x, Float:y, Float:z;
	if(Go[playerid] != -1 && IsPlayerConnected(id)) 
	{
		GetPlayerPos(playerid, x, y, z);
		format(str, sizeof(str), "%s(%d) телепортировался к вам (/go)", PlayerName(id), id);
		SendClientMessage(playerid, COLOR_INFO, str);
		format(str, sizeof(str), "Вы телепортировались к %s (/go)", PlayerName(playerid));
		SendClientMessage(id, COLOR_INFO, str);
		if(GetPlayerState(playerid) == 2)
		{
			SetVehiclePos(GetPlayerVehicleID(id), x+3, y, z+3);
			LinkVehicleToInterior(GetPlayerVehicleID(id), GetPlayerInterior(playerid));
			SetVehicleVirtualWorld(GetPlayerVehicleID(id), GetPlayerVirtualWorld(playerid));
		}
		else
		{
			SetPlayerInterior(id, GetPlayerInterior(playerid));
			SetPlayerVirtualWorld(id, GetPlayerVirtualWorld(playerid));
		    SetPlayerPos(id, x+2, y, z+3);
		}
	}
	return 1;
}

flags:spy(VIP_CMD);
CMD:spy(playerid, params[])
{
	new targetid;
	if(sscanf(params, "u", targetid)) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /spy [id]");
	SetPVarInt(playerid, "ShowDopTableTD",targetid);
	PlayerTextDrawSetString(playerid,SpecPlInfo[playerid], DopTextDraw(playerid, targetid));
	PlayerTextDrawShow(playerid, SpecPlInfo[playerid]);
	return 1;
}
alias:spy("doptd");

flags:spyoff(VIP_CMD);
CMD:spyoff(playerid, params[])
{
	SetPVarInt(playerid, "ShowDopTableTD",-1);
	PlayerTextDrawHide(playerid, SpecPlInfo[playerid]);
	return 1;
}
alias:spyoff("doptdoff");

flags:rc(VIP_CMD);
CMD:rc(playerid, params[])
{
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта на дм запрещен");
	if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта в интерьерах запрещен");
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_GREY, "Выключите режим бессмертия!");
	MSelect_Show(playerid, MSelect:RCtoys);
	return 1;
}

//cwcmds
CMD:cwcmds(playerid, params[])
{
	CwCmdsList(playerid);
	return 1;
}
alias:cwcmds("cwhelp");

flags:switch(CW_CMD);
CMD:switch(playerid, params[])
{
	SPD(playerid, DIALOG_CWTEAMSELECT, DIALOG_STYLE_LIST, "{FFFFFF}Team select",TeamSelectLst,"OK","<");
	return 1;
}

flags:resetweapons(CW_CMD);
CMD:resetweapons(playerid, params[])
{
	if(GetPVarInt(playerid,"CwOwner") == 0) return SendClientMessage(playerid, COLOR_GREY, "Недоступно!");
	foreach(Player, i)
	{
		if(cwzone[i] > 0) ResetPlayerWeapons(i);
	}
	return 1;
}
alias:resetweapons("rweapons");

flags:respawnall(CW_CMD);
CMD:respawnall(playerid, params[])
{
	if(GetPVarInt(playerid,"CwOwner") == 0) return SendClientMessage(playerid, COLOR_GREY, "Недоступно!");
	foreach(Player, i)
	{
		if(cwzone[i] > 0) SpawnPlayer(i);
	}
	return 1;
}

CMD:dm(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(strfind(params, "rand", true) != -1)
	{
		dm(playerid,1);
		return 1;
	}
	else if(strfind(params, "deagle", true) != -1)
	{
		dm(playerid,24);
		return 1;
	}
	else if(strfind(params, "oneshot", true) != -1)
	{
		dm(playerid,10);
		return 1;
	}
	else if(strfind(params, "chainsaw", true) != -1)
	{
		dm(playerid,9);
		return 1;
	}
	else if(strfind(params, "sniper", true) != -1)
	{
		dm(playerid,34);
		return 1;
	}
	else
	{
		if(CloseMenuAccess[playerid] == 0) DM_MENU(playerid);
	}
	return 1;
}
alias:dm("дм");

CMD:tdm(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(CloseMenuAccess[playerid] == 0) TDM_MENU(playerid);
	return 1;
}
alias:tdm("тдм");

CMD:training(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(CloseMenuAccess[playerid] == 0) TRAINING_MENU(playerid);
	return 1;
}

CMD:warzone(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(CloseMenuAccess[playerid] == 0) Warzone(playerid);
	return 1;
}

CMD:cs(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(CloseMenuAccess[playerid] == 0) return SPD(playerid, DIALOG_CS, DIALOG_STYLE_LIST, "Choose a Team", "Terrorists \nCounter-terrorists", "Ok", "[X]");
	return 1;
}
alias:cs("cszone");

CMD:tr(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	Cszone(playerid, 0);
	return 1;
}

CMD:ct(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	Cszone(playerid, 1);
	return 1;
}

CMD:count(playerid, params[])
{
	new string[64], countparam[2];
	if(CountStarted) return SendClientMessage(playerid, COLOR_INFO, "Кто-то уже начал отсчёт!");
	if(sscanf(params,"d", countparam)) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /count [1-9]");
	CountCmd = countparam[0];
	if(!(1 <= CountCmd <= 9)) return SendClientMessage(playerid, COLOR_INFO, "Количество секунд от 1 до 9!");
	//format(string, sizeof string, "*** %s начал отсчёт.", PlayerName(playerid));
	//SendClientMessageToAll(COLOR_YELLOW, string);
	format(string, sizeof string, "~y~%d", CountCmd);
	PlaySoundForAll(1056, 0.0, 0.0, 0.0);
	GameTextForAll(string, 1000, 3);
	SetTimer("CountFunc", 1000, 0);
	CountStarted = true;
	return 1;
}
alias:count("отсчет");

CMD:321(playerid, params[])
{
	// count 321 without params
	new string[64];
	if(CountStarted) return SendClientMessage(playerid, COLOR_INFO, "Отсчет уже начат!");
	CountCmd = 3; // 3 sec
	format(string, sizeof string, "~y~%d", CountCmd);
	PlaySoundForAll(1056, 0.0, 0.0, 0.0);
	GameTextForAll(string, 1000, 3);
	SetTimer("CountFunc", 1000, 0);
	CountStarted = true;
	return 1;
}

CMD:me(playerid, params[])
{
	new string[128];
	if(isnull(params)) return SendClientMessage(playerid, COLOR_INFO, "Используйте /me [текст]");
	format(string, sizeof(string), "%s %s", PlayerName(playerid), params);
	return ProxDetector(20.0, playerid, string, 0xDD90FFFF, 0xDD90FFEE, 0xDD90FFDD, 0xDD90FFCC, 0xDD90FFBB);
}
alias:me("я");

CMD:try(playerid, params[])
{
    new string[128];
    static const success[2][(20+1) char] = {
        !" {1CEF00}| Удачно",
        !" {FF0000}| Не удачно"
    };
    if(isnull(params)) return SendClientMessage(playerid, COLOR_INFO, "Используйте /try [текст]");
    format(string, sizeof(string), "%s %s", PlayerName(playerid), params);
    strcat(string, success[random(2)]);
    return ProxDetector(30.0, playerid, string, 0xDD90FFFF, 0xDD90FFEE, 0xDD90FFDD, 0xDD90FFCC, 0xDD90FFBB);
}
alias:try("попытка");

CMD:cry(playerid, params[])
{
	new string[128];
	if(isnull(params)) return SendClientMessage(playerid, COLOR_INFO, "Введите: /cry [текст]");
	format(string, sizeof string, "%s[%d] крикнул: %s", PlayerName(playerid), playerid, params[0]);
	if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) ApplyAnimation(playerid, "ON_LOOKERS", "shout01", 4.1, 0, 0, 0, 0, 0);
	SetPlayerChatBubble(playerid, string, COLOR_WHITE, 50, 7500);
	return ProxDetector(50.0, playerid, string, 0xDD90FFFF, 0xDD90FFEE, 0xDD90FFDD, 0xDD90FFCC, 0xDD90FFBB);
}
alias:cry("крикнуть");

CMD:w(playerid, params[])
{
	new string[128];
	if(isnull(params)) return SendClientMessage(playerid, COLOR_INFO, "Введите: /w [текст]");
	format(string, sizeof string, "%s[%d] шёпотом: %s", PlayerName(playerid), playerid, params[0]);
	return ProxDetector(5.0, playerid, string, 0xDD90FFFF, 0xDD90FFEE, 0xDD90FFDD, 0xDD90FFCC, 0xDD90FFBB);
}

CMD:fr(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	if(GetPVarInt(playerid,"TimeCMD") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Команду можно использовать раз в 1 минуту.");
    SetPVarInt(playerid,"TimeCMD",gettime() + 60); 
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Используйте /exit для выхода");
	new rand = random(sizeof(RandomSpawn));
	SetPlayerPosEx(playerid,RandomSpawn[rand][0]+random(4), RandomSpawn[rand][1]+random(4), RandomSpawn[rand][2],0,0,0);
	return 1;
}
alias:fr("freeroam");

CMD:togpm(playerid, params[])
{
	if(PlayerInfo[playerid][pPM] == 1)
	{
		PlayerInfo[playerid][pPM] = 0;
		SendClientMessage(playerid, COLOR_YELLOW, "Вы включили прием личных сообщений.");
	}
	else
	{
		PlayerInfo[playerid][pPM] = 1;
		SendClientMessage(playerid, COLOR_YELLOW, "Вы отключили прием личных сообщений.");
	}
	SendClientMessage(playerid, COLOR_INFO, "Используйте так же меню Y - Настройки - Чат - Прием личных сообщений.");
	return 1;
}

CMD:time(playerid, params[])
{
	new year,month,day;
	getdate(year, month, day);
	new hour,minuite,second,string[84];
	gettime(hour,minuite,second);
	format(string, sizeof(string), "Время: %d:%d:%d Сегодня: %d.%d.%d",hour,minuite,second,day,month,year);
	SendClientMessage(playerid, COLOR_WHITE, string);
	return 1;
}
alias:time("время");

flags:sound(ADMIN_CMD);
CMD:sound(playerid, params[])
{
	// func for test
	new Float:x, Float:y, Float:z;
	new soundid;
	if(sscanf(params,"d", soundid)) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /sound [id] где id звук 1-45400");
	GetPlayerPos(playerid, x, y, z);
	SetPlayerPos(playerid, x, y, z);
	PlayerPlaySound(playerid,soundid,0,0,0);
	SendFormattedText(playerid, COLOR_YELLOW, "Sound test: %i. Type /radiostop to stop", soundid);
	return 1;
}
alias:sound("soundtest");

CMD:report(playerid, params[])
{
	new giveplayer[64], sendername[64], astring[128];
	if(sscanf(params,"us",params[0],params[1])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /report [id] [жалоба]");
	if(playerid == params[0]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя жаловаться на самого себя!");
	if(GetPVarInt(playerid,"TimeReport") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Слишком часто подаете жалобы!");
    SetPVarInt(playerid,"TimeReport",gettime() + 90);
	GetPlayerName(params[0], giveplayer, sizeof(giveplayer));
	GetPlayerName(playerid, sendername, sizeof(sendername));
	format(astring, sizeof(astring), "<Report> игрок %s[%d] пожаловался на игрока %s[%d] , причина: %s", sendername, playerid, giveplayer, params[0], params[1]);
	new votekickid = params[0];
	if(PlayerInfo[playerid][pLevel] >= 10 && PlayerInfo[votekickid][pVip] == 0 && PlayerInfo[votekickid][pAdmin] == 0) Votekick[votekickid]++;
	foreach(Player, i)
	{
		if(IsPlayerConnected(i) && PlayerInfo[i][pAdmin] >= 1)
		{
			SendClientMessage(i, COLOR_CORAL, astring);
		}
	}
	SendClientMessage(playerid, COLOR_YELLOW, "Ваша жалоба отправлена администраторам, ожидайте её рассмотрения.");
	return 1;
}
alias:report("жб");

CMD:votekick(playerid, params[])
{
	if(sscanf(params,"d",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /voteckick [id]");
	new kstring[128], giveplayer[64];
	new votekickid = params[0];
	if(PlayerInfo[playerid][pLevel] >= 10 && PlayerInfo[votekickid][pVip] == 0 && PlayerInfo[votekickid][pAdmin] == 0)
	{
		Votekick[votekickid]++;
		GetPlayerName(params[0], giveplayer, sizeof(giveplayer));
		format(kstring, sizeof(kstring), "Вы проголосовали за автокик игрока %s[%d]. Всего голосов: %d", giveplayer, votekickid, Votekick[votekickid]);
		SendClientMessage(playerid, COLOR_YELLOW, kstring);
		SendClientMessage(playerid, COLOR_INFO, "Если будет подано много жалоб на игрока автоматически кикнет с сервера в течении 5 минут");
	}
	return 1;
}

CMD:medkit(playerid, params[])
{
	if(SpecialZone(playerid)) return 0;
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_GREY, "В режиме бессмертия аптечка недоступна");
	if(GetPVarInt(playerid, "Medkit") > 0){
		new Float: HP;
		GetPlayerHealth(playerid, HP);
		if(HP < 80){
			PlayerPlaySound(playerid,1139,0,0,0);
			SetPVarInt(playerid,"Medkit", 0);
			SetPlayerHealth(playerid, HP+20);
		}
		else
		{
			SendClientMessage(playerid, COLOR_INFO, "Вы здоровы, вам не нужно лечение");
		}
	}
	else SendClientMessage(playerid, COLOR_INFO, "У вас нет аптечки, купите в любом магазине 24-7");
	return 1;
}
alias:medkit("аптечка");

CMD:skin(playerid, params[])
{
	new skinid, oldskinid;
	if(sscanf(params,"d", skinid)) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /skin [id] где id число от 0-315");
	if (IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя менять скин в транспорте");
	switch(skinid)
	{
		case 0,1,2,74,86,149,265,266,267,268,269,270,271:
		{
			SendClientMessage(playerid, COLOR_YELLOW, "Данный скин запрещен!");
			return 0;
		}
	}
	oldskinid = GetPlayerSkin(playerid);
	SetPlayerSkin(playerid,skinid);
	PlayerInfo[playerid][pSkin] = skinid;
	SendFormattedText(playerid, COLOR_YELLOW, "Новый скин id:%i, старый id:%i", skinid, oldskinid);
	return 1;
}
alias:skin("скин");

CMD:skins(playerid, params[])
{
	if(PlayerInfo[playerid][pLevel] < 10) SendClientMessage(playerid, COLOR_INFO, "Для быстрой смены скина по номеру используй /skin [id]");
	MSelect_Show(playerid, MSelect:skinselect);
	return 1;
}
alias:skins("скины");

CMD:sync(playerid, params[])
{
	Sync(playerid);
	return 1;
}
alias:sync("синхр");

CMD:kill(playerid, params[])
{
	SPD(playerid, DIALOG_SUICIDE, DIALOG_STYLE_MSGBOX, "Умереть", "{ffffff}Для выхода из большинства багов используйте /sync. Всеравно умереть?.","OK","Отмена");
	return 1;
}
alias:kill("умереть");

CMD:animclear(playerid, params[])
{
	ClearAnimations(playerid);
	SendClientMessage(playerid, COLOR_INFO, "Анимации очищены");
	return 1;
}

CMD:flip(playerid, params[])
{
	if(IsPlayerInAnyVehicle(playerid)) FlipCar(GetPlayerVehicleID(playerid));
	return 1;
}
alias:flip("п");

CMD:fix(playerid, params[])
{
	if(IsPlayerInAnyVehicle(playerid))
	{
		//SetPVarInt(playerid, "FixVehicleTime",);
		if(GetPVarInt(playerid, "FixVehicleTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Команду можно использовать 1 раз в 3 минуты");
		if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
		if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди c дм");
		if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою");
		FixCar(playerid);
	}
	return 1;
}
alias:fix("чинить");

CMD:piss(playerid, params[])
{
	ApplyAnimation(playerid, "PAULNMAC", "Piss_loop", 4.0, 1, 1, 1, 1, 0);
    IsAnimLoop[playerid] = 1;
	return 1;
}
alias:piss("писать");

CMD:facepalm(playerid, params[])
{
	ApplyAnimation(playerid,"MISC","plyr_shkhead",4.0,0,0,0,0,0,1); // facepalm
	return 1;
}
alias:facepalm("фейспалм");

CMD:rest(playerid, params[])
{
	ApplyAnimation(playerid,"BEACH","Lay_Bac_Loop",4.1,1,0,0,0,0,1); // rest
	IsAnimLoop[playerid] = 1;
	return 1;
}
alias:rest("лежать");

CMD:meditation(playerid, params[])
{
	ApplyAnimation(playerid,"PARK","Tai_Chi_Loop", 4.1, 1, 0, 0, 0, 0 ,1); // meditation
	IsAnimLoop[playerid] = 1;
	return 1;
}
alias:meditation("медитировать");

CMD:fuckyou(playerid, params[])
{
	ApplyAnimation(playerid,"RIOT","RIOT_FUKU",4.0,0,0,0,0,0,1);
	return 1;
}
alias:fuckyou("fuck");

CMD:dance(playerid, params[])
{
	switch(params[0])
	{
		case 0: SetPlayerSpecialAction (playerid, SPECIAL_ACTION_DANCE1);
		case 1: SetPlayerSpecialAction (playerid, SPECIAL_ACTION_DANCE2);
		case 2: SetPlayerSpecialAction (playerid, SPECIAL_ACTION_DANCE3);
		case 3: SetPlayerSpecialAction (playerid, SPECIAL_ACTION_DANCE4);
		case 4: ApplyAnimation( playerid, "DANCING", "dnce_M_b", 4.1, 1, 0, 0, 0, 0 ,1);
		case 5: ApplyAnimation( playerid, "DANCING", "dnce_M_a", 4.1, 1, 0, 0, 0, 0 ,1);
		case 6: ApplyAnimation( playerid, "DANCING", "dnce_M_b", 4.1, 1, 0, 0, 0, 0 ,1);
		case 7: ApplyAnimation( playerid, "DANCING", "DAN_Down_A", 4.1, 1, 0, 0, 0, 0 ,1);
		case 8: ApplyAnimation( playerid, "DANCING", "DAN_Left_A", 4.1, 1, 0, 0, 0, 0 ,1);
		case 9: ApplyAnimation( playerid, "DANCING", "DAN_Loop_A", 4.1, 1, 0, 0, 0, 0 ,1);
		default: ApplyAnimation( playerid, "DANCING", "DAN_Loop_A", 4.1, 1, 0, 0, 0, 0 ,1);
	}
	IsAnimLoop[playerid] = 1;
	return 1;
}
alias:dance("танец");

CMD:qu(playerid, params[])
{
	new string[128];
	if(sscanf(params,"d",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /qu [id]");
	if(playerid == params[0]) return SendClientMessage(playerid, COLOR_INFO, "Передайте привет другому игроку.");
	format(string, sizeof string, "{cc6600}%s[%d] приветствует вас!", PlayerName(playerid), playerid);
	SendClientMessage(params[0],COLOR_WHITE,string);
	format(string, sizeof string, "{cc6600}Вы поприветствовали игрока %s[%d]!", PlayerName(params[0]), params[0]);
	SendClientMessage(playerid,COLOR_WHITE,string);
	return 1;
}
alias:qu("ку");

flags:playersay(ADMIN_CMD);
CMD:playersay(playerid, params[])
{
    if(sscanf(params, "is[128]", params[0], params[1])) return SendClientMessage(playerid, COLOR_WHITE, "Используй: /playersay [id] [текст]");
    OnPlayerText(params[0], params[1]);
    return true;
}

CMD:pm(playerid, params[])
{
    new string[144];
	//if(isnull(params)) SPD(playerid, DIALOG_PMTAB, DIALOG_STYLE_INPUT, "Личное сообщение","Введите текст сообщения","Отправить","Отмена");
    if(sscanf(params,"us",params[0],params[1])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /pm [id] [message]");
	if(playerid == params[0]) return SendClientMessage(playerid, COLOR_INFO, "Вы не можете послать сообщение сами себе, используйте: /pm [id] [message]");
	if(PlayerInfo[playerid][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "У вас отключены личные сообщения");
	if(pAfk[params[0]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отошел и не может прочитать ваше сообщение, попробуйте написать позже.");
	if(GetPVarInt(params[0],"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок в бою и может не заметить ваше сообщение.");
	if(!IsPlayerConnected(params[0])) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел.");
	if(PlayerInfo[params[0]][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отключил прием личных сообщений.");
	if(ignoredlst[params[0]][playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок заигнорировал прием личных сообщений от вас.");
	if(ignoredlst[playerid][params[0]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Вы заигнорировали этого игрока!");
    format(string, sizeof(string), "{EEA2AD}ЛС для %s[%d]: %s{EEA2AD}", PlayerName(params[0]),params[0],params[1]);
    SendClientMessage(playerid, COLOR_ORANGE, string);
    format(string, sizeof(string), "{FF6347}ЛC от %s[%d]: %s{FF6347}", PlayerName(playerid),playerid, params[1]);
    SendClientMessage(params[0], COLOR_ORANGE, string);
	LastPmID[playerid] = params[0];
	PlayerPlaySound(params[0],1149,0,0,0);
    return 1;
}
alias:pm("лс");

CMD:reply(playerid, params[])
{
    new string[144];
    if(sscanf(params,"s",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /r [message]");
	if(playerid == LastPmID[playerid]) return SendClientMessage(playerid, COLOR_INFO, "Вы не можете послать сообщение сами себе, используйте: /pm [id] [message]");
	if(PlayerInfo[playerid][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "У вас отключены личные сообщения");
	if(pAfk[LastPmID[playerid]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отошел и не может прочитать ваше сообщение, попробуйте написать позже.");
	if(!IsPlayerConnected(LastPmID[playerid])) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок вышел.");
	if(GetPVarInt(LastPmID[playerid],"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок в бою и может не заметить ваше сообщение.");
	if(PlayerInfo[LastPmID[playerid]][pPM] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок отключил прием личных сообщений.");
	if(ignoredlst[LastPmID[playerid]][playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Игрок заигнорировал прием личных сообщений от вас.");
	if(ignoredlst[playerid][LastPmID[playerid]] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Вы заигнорировали этого игрока!");
    format(string, sizeof(string), "{EEA2AD}ЛС для %s[%d]: %s{EEA2AD}", PlayerName(LastPmID[playerid]),LastPmID[playerid],params[0]);
    SendClientMessage(playerid, COLOR_ORANGE, string);
    format(string, sizeof(string), "{FF6347}ЛC от %s[%d]: %s{FF6347}", PlayerName(playerid),playerid, params[0]);
    SendClientMessage(LastPmID[playerid], COLOR_ORANGE, string);
	PlayerPlaySound(LastPmID[playerid],1149,0,0,0);
    return 1;
}
alias:reply("r");

CMD:ignore(playerid, params[])
{
	if(sscanf(params,"d",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /ignore [id]");
	new targetid = params[0];
	if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_INFO, "Игрок вышел либо не существует.");
	if(targetid == playerid) return SendClientMessage(playerid, COLOR_INFO, "Нельзя игнорировать личные сообщения от самого себя.");
	if(ignoredlst[playerid][targetid] == 1) return SendClientMessage(playerid, COLOR_INFO, "Вы уже игнорируете этого игрока.");
	ignoredlst[playerid][targetid] = 1;
	new	str[128];
	format(str, 128, "Теперь вы игнорируете сообщения от {FF0000}%s[%i]", PlayerName(targetid), targetid);
	return SendClientMessage(playerid, COLOR_YELLOW, str);
}
alias:ignore("игнор");

CMD:unignore(playerid, params[])
{
	if(sscanf(params,"d",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /unignorpm [id]");
	new targetid = params[0];
	if(!IsPlayerConnected(targetid)) return SendClientMessage(playerid, COLOR_INFO, "Игрок вышел либо не существует.");
	if(targetid == playerid) return SendClientMessage(playerid, COLOR_INFO, "Нельзя игнорировать личные сообщения от самого себя.");
	ignoredlst[playerid][targetid] = 0;
	new	str[128];
	format(str, 128, "Теперь вы не игнорируете сообщения от {FF0000}%s[%i]", PlayerName(targetid), targetid);
	return SendClientMessage(playerid, COLOR_YELLOW, str);
} 

CMD:dive(playerid, params[])
{
	if(IsPlayerInAnyVehicle(playerid)) return 0;
	if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вы находитесь в интерьере");
	if(GetPlayerMoney(playerid) < 1000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег.");
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди c дм");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	new Float:x, Float:y, Float:z;
	new DiveH;
	if(!params[0]) params[0]=100;
	if(sscanf(params,"d", DiveH)) SendClientMessage(playerid, COLOR_INFO, "Используйте: /dive [100-2000]");
    if(GetPVarInt(playerid,"TimeDive") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Команду можно использовать раз в 1 минуту.");
	if(IsApplyAnimation(playerid, "FALL_fall") && z > 150) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов данной команды возможен только с земли");
    SetPVarInt(playerid,"TimeDive",gettime() + 60); 
	GetPlayerPos(playerid, x, y, z);
	if(DiveH < 100) DiveH = 100;
	z = z + DiveH;
	SetPlayerPos(playerid, x, y, z);
	GivePlayerWeapon(playerid, 46, 1);
	SetMoney(playerid, -1000);
	return 1;
}
alias:dive("парашют");

CMD:exit(playerid) // exit from dm-tdm
{
	Exit(playerid);
	return 1;
}
alias:exit("выход");

CMD:stop(playerid) // stop round cw
{
	if(cwzone[playerid] > 0 && GetPVarInt(playerid, "CwOwner") > 0)
	{
		StopCW();
	}
	else Exit(playerid);
	return 1;
}
alias:stop("leave");

CMD:netstats(playerid, params[])
{
	new stats[400+1];
    GetNetworkStats(stats, sizeof(stats)); 
    ShowPlayerDialog(playerid, DIALOG_NETSTATS, DIALOG_STYLE_MSGBOX, "netstat", stats, " X", "");
	return 1;
}
alias:netstats("netstat");

CMD:coord(playerid, params[])
{
	Coords(playerid);
	return 1;
}
alias:coord("coords");

flags:scord(ADMIN_CMD);
CMD:scord(playerid, params[])
{
	if(strfind(params, "array", true) != -1)
	{
		SaveCoords(playerid,1);
		return 1;
	}
	if(strfind(params, "angle", true) != -1)
	{
		SaveCoords(playerid,2);
		return 1;
	}
	if(strfind(params, "ex", true) != -1)
	{
		SaveCoords(playerid,3);
		return 1;
	}
	if(strfind(params, "bounds", true) != -1)
	{
		SaveCoords(playerid,4);
		return 1;
	}
	if(strfind(params, "help", true) != -1)
	{
		new HelpTip[410];
		HelpTip = 
		"Использование:\n"\
		" {FFD700}/scord {FFFFFF}- сохранить координаты в формате: X,Y,Z\n"\
		" {FFD700}/scord angle {FFFFFF}- сохранить координаты в формате: X,Y,Z,angle\n"\
		" {FFD700}/scord array {FFFFFF}- сохранить координаты в формате: {X,Y,Z},\n"\
		" {FFD700}/scord ex {FFFFFF}- сохранить координаты в формате: {X,Y,Z,angle,world,interior},\n"\
		" {FFD700}/scord bounds {FFFFFF}- сохранить координаты в формате: {maxX,mixX,maxY,minY},\n";
		
		SendClientMessage(playerid, COLOR_WHITE, HelpTip);
		return 1;
	}
	else SaveCoords(playerid);
	return 1;	
}

flags:pickinfo(ADMIN_CMD);
CMD:pickinfo(playerid, params[])
{
	StreamedPickupsInfo(playerid);
	return 1;
}

CMD:god(playerid, params[])
{
	if(GetPVarInt(playerid,"pgm") > 0) SPD(playerid, DIALOG_PLGMODE, DIALOG_STYLE_MSGBOX, "Стать смертным", "{ffffff}Через 30 секунд вам вернут оружие.","OK","Отмена");
	else SPD(playerid, DIALOG_PLGMODE, DIALOG_STYLE_MSGBOX, "Стать бессмертным", "{ffffff}У вас заберут оружие и через 30 секунд и вы станете бессмертным.","OK","Отмена");
	return 1;
}
alias:god("бессм");

CMD:stat(playerid, params[])
{
	// show statistics for playerid, dlg show playerid
	PlayerStatistics(playerid,playerid);
	return 1;
}
alias:stat("стат");

CMD:rob(playerid, params[])
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди c дм");
	if(GetPVarInt(playerid,"RobberTime") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Команду можно использовать раз в 2 минуты."); 
	if(PlayerInRadius(playerid, params[0], 10.0))
	{
		SetPVarInt(playerid,"RobberTime",gettime() + 120);
		if(GetPlayerMoney(params[0]) > 10000)
		{ 
			SetMoney(params[0], -10000);
			SetMoney(playerid, 10000);
			new string[144];
			format(string, sizeof string, "Игрок %s украл у вас деньги", PlayerName(playerid));
			SendClientMessage(params[0], COLOR_LIGHTBLUE, string);
			format(string, sizeof string, "Вы украли у игрока %s деньги", PlayerName(params[0]));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, string);
		}
		else
		{
			SendClientMessage(playerid, COLOR_YELLOW, "Игрок держит на руках прожиточный минимум, ему можно только подкинуть денег!");
		}
	}
	else
	{
		SendClientMessage(playerid, COLOR_GREY, "Нет игроков поблизости у которых можно украсть деньги.");
	}
	return 1;
}
alias:rob("ограбить");

CMD:eject(playerid, params[])
{
	EjectPassagersFromVeh(playerid);
	return 1;
}

CMD:specoff(playerid, params[])
{
	SpecOff(playerid);
	return 1;
}

CMD:spec(playerid, params[])
{
	if(sscanf(params,"d",params[0])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /spec [id]");
	Spectate(playerid, params[0]);
	return 1;
}

CMD:specprotect(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] < 3) return SendClientMessage(playerid,COLOR_YELLOW,"У вас маленький уровень админки");
	if(!GetPVarInt(playerid,"SpecProtect")) SetPVarInt(playerid,"SpecProtect", 1);
	else DeletePVar(playerid,"SpecProtect");
	return 1;
}

CMD:color(playerid, params[])
{
	SPD(playerid, DIALOG_NICKCOLORSET, DIALOG_STYLE_LIST,"{FFB6C1}Цвет nickname",NicknameColorMenuStr,"Применить"," Отмена");
	return 1;
}
alias:color("цвет");

CMD:clistcolors(playerid, params[])
{
	SPD(playerid, DIALOG_CLISTCLORSLIST, DIALOG_STYLE_INPUT, "Clist colors", "{FFFFFF}Предпросмотр clist. Введи номер от 0-199:","Ок","Закрыть");
	return 1;
}
alias:clistcolors("clists");

CMD:clist(playerid, params[])
{
	if(sscanf(params,"d",params[0])) return SPD(playerid, DIALOG_CLISTCLORSET, DIALOG_STYLE_INPUT, "Clist color",
	"{FFFFFF}Nickname color. Предпросмотр цветов командой /clists.\nВведи номер цвета от 0-199:","Ок","Закрыть");
	new tmp[256],idx;
	tmp = strtok(params[0],idx);
	if (strval(tmp)>199||strval(tmp)<0){
		SendClientMessage(playerid, COLOR_INFO, "Используй: /clist [id], нужно ввести id Цвета от 0 до 199");
	}else{
		SetPlayerColor(playerid,playerClistColors[strval(tmp)]);
		PlayerInfo[playerid][pColor] = strval(tmp);
	}
	return 1;
}
alias:clist("клист");

CMD:login(playerid, params[])
{
	// old players gag
	SendClientMessage(playerid, COLOR_YELLOW, "You are already registered and logged in.");
	SendClientMessage(playerid, COLOR_YELLOW, "Вы уже зарегистрированы и залогинились.");
	return 1;
}
alias:login("register"); 

CMD:cc(playerid, params[])
{
	if(GetPlayerState(playerid) == 2)
	{
		new vehicleid;
		vehicleid = GetPlayerVehicleID(playerid);
		if(sscanf(params,"dd",params[0],params[1])) return SendClientMessage(playerid, COLOR_INFO, "Используй: /cc [color1] [color2]. Числа от 0-255.");
		ChangeVehicleColor(vehicleid, params[0], params[1]);
		PlayerPlaySound(playerid, 1134, 0, 0, 0);// respray
		SetMoney(playerid, -100);
		SendFormattedText(playerid,COLOR_YELLOW,"Вы сменили цвет авто на: %i - %i", params[0], params[1]);
	}
	return 1;
}
alias:cc("сс"); //rus 

CMD:hud(playerid, params[])
{
	if(PlayerInfo[playerid][pHudOn] == 0)
	{
		//PlayerTextDrawShow(playerid, FPS[playerid]);
		PlayerInfo[playerid][pHudOn] = 1;
		PlayerTextDrawShow(playerid, TDExp[playerid]);
		PlayerTextDrawShow(playerid, Combo[playerid]);
		PlayerTextDrawShow(playerid, PlayerHp[playerid]);
		PlayerTextDrawShow(playerid, PlayerArmour[playerid]);
		PlayerTextDrawShow(playerid, MoneyHUD[playerid]);
		PlayerTextDrawShow(playerid, MoneyHUDBack[playerid]);
		TextDrawShowForPlayer(playerid, TDTime);
		TextDrawShowForPlayer(playerid, Logo);
		//TextDrawShowForPlayer(playerid, TDBottomBar);
		SendClientMessage(playerid,COLOR_YELLOW,"Вы включили HUD сервера. Иcпользуйте <F7> и <F10> для временного скрытия HUD");
	}
	else
	{
		PlayerInfo[playerid][pHudOn] = 0;
		//PlayerTextDrawHide(playerid, FPS[playerid]);
		PlayerTextDrawHide(playerid, TDExp[playerid]);
		PlayerTextDrawHide(playerid, Combo[playerid]);
		PlayerTextDrawHide(playerid, PlayerHp[playerid]);
		PlayerTextDrawHide(playerid, PlayerArmour[playerid]);
		PlayerTextDrawHide(playerid, MoneyHUD[playerid]);
		PlayerTextDrawHide(playerid, MoneyHUDBack[playerid]);
		TextDrawHideForPlayer(playerid, TDTime);
		TextDrawHideForPlayer(playerid, Logo);
		//TextDrawHideForPlayer(playerid, TDBottomBar);
		SendClientMessage(playerid,COLOR_YELLOW,"Вы отключили HUD сервера. Иcпользуйте <F7> и <F10> для временного скрытия HUD");
	}
	return 1;
}
alias:hud("худ");

CMD:v(playerid, params[])
{
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта на дм запрещен");
	if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта в интерьерах запрещен");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	new VehicleID;
	if(sscanf(params,"d", VehicleID))
	{ 
		//SendClientMessage(playerid, COLOR_INFO, "Использование: /v vehicle id[400-611]");
		ShowPlayerDialog(playerid, DIALOG_VEHMENU,DIALOG_STYLE_LIST,"Vehicles","Airplanes\nHelicopters\nBikes\nIndustrial\nLowriders\nOff Road\nPublic Service\nSaloons\nSports Vehicles\nBoats\nUnique Vehicles","Select","Cancel");
	}
	if(VehicleID > 400 && VehicleID < 611)
	{
		switch(VehicleID)
		{
			case 425,432,435,441,416,447,449,450,464,465,501,520,537,538,564,569,570,584,590,591,594,606,608,609,610,611:
			{
				if(PlayerInfo[playerid][pAdmin] >= 3){
					SpawnNewVehicle(playerid, VehicleID);
				}
				else SendClientMessage(playerid, COLOR_YELLOW, "Данный тип транспорта запрещен для вызова.");
				return 0;
			}
			case 406,407,430,476:
			{
				if(GetPVarInt(playerid,"pgm") == 0){
					SpawnNewVehicle(playerid, VehicleID);
				}
				else SendClientMessage(playerid, COLOR_YELLOW, "Данный тип транспорта запрещен для вызова в бессмертии.");
				return 0;
			}
			default: SpawnNewVehicle(playerid, VehicleID);
		}
		//SpawnNewVehicle(playerid, VehicleID);
	}
	return 1;
}
alias:v("машину");

CMD:bmx(playerid, params[])
{
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта на дм запрещен");
	if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта в интерьерах запрещен");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	SpawnNewVehicle(playerid, 481);
	return 1;
}

CMD:nrg(playerid, params[])
{
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта на дм запрещен");
	if(GetPlayerInterior(playerid) > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта в интерьерах запрещен");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	SpawnNewVehicle(playerid, 522);
	return 1;
}

flags:jetpack(VIP_CMD);
CMD:jetpack(playerid, params[])
{
	if(SpecialZone(playerid)) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов jetpack на дм запрещен");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pVip] > 0) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
	return 1;
}

// ADMIN commands
flags:mapdump(ADMIN_CMD);
CMD:mapdump(playerid, params[])
{
	new Float:range;
	if(sscanf(params,"f", range)) SendClientMessage(playerid,COLOR_INFO,"Использование: /mapdump [range]");
	new items[600] = {-1};
	//if(isnull(params)) range = 300.0;
	//else range = params[0];
	new Float:x, Float:y, Float:z;
	new Float:px, Float:py, Float:pz;
	new Float:rx, Float:ry, Float:rz;
	GetPlayerPos(playerid, x, y, z);
	new worldid = GetPlayerVirtualWorld(playerid);
	new interierid = GetPlayerInterior(playerid);
	//Streamer_GetNearbyItems(Float:x, Float:y, Float:z, type, items[], maxitems = sizeof items, Float:range = 300.0, worldid = -1)
	Streamer_GetNearbyItems(Float:x, Float:y, Float:z, STREAMER_TYPE_OBJECT, items, sizeof items, range, worldid);
	new strline[255], File: dumpfile;
	for(new i = 0; i < sizeof items; i++)
	{
		if(items[i] != 0)
		{
			Streamer_GetItemPos(STREAMER_TYPE_OBJECT, items[i], px, py, pz);
			Streamer_GetFloatData(STREAMER_TYPE_OBJECT, items[i], E_STREAMER_R_X, rx);
			Streamer_GetFloatData(STREAMER_TYPE_OBJECT, items[i], E_STREAMER_R_Y, ry);
			Streamer_GetFloatData(STREAMER_TYPE_OBJECT, items[i], E_STREAMER_R_Z, rz);
			//printf("%i",items[i]);
			//printf("%.2f, %.2f, %.2f",px,py,pz);
			dumpfile = fopen("maps/dumpmap.txt", io_append);
			format(strline, sizeof(strline), "CreateDynamicObject(%d,%f,%f,%f,%f,%f,%f,%i,%i);\r\n", \
			items[i], px,py,pz, rx,ry,rz, worldid, interierid);
			fwrite(dumpfile, strline);
			fclose(dumpfile);
		}
	}
	SendClientMessage(playerid, COLOR_WHITE, "ОБъекты в области стрима успешно сохранены в файл {FFD700}maps/dumpmap.txt");
	return 1;
}
alias:mapdump("dumpmap");

flags:edit(ADMIN_CMD);
CMD:edit(playerid, params[])
{
	SetPVarInt(playerid,"Mapedit",1);
	SetPVarInt(playerid,"MaterialEdit",0); 
	if(PlayerInfo[playerid][pAdmin] >= 3){
		SelectObject(playerid);
	}
	return true;
}

flags:mapedit(ADMIN_CMD);
CMD:mapedit(playerid, params[])
{
	SetPVarInt(playerid,"Mapedit",1);
	SetPVarInt(playerid,"MaterialEdit",0); 
	if(PlayerInfo[playerid][pAdmin] >= 3){
		SPD(playerid,DIALOG_MAPEDITOR,DIALOG_STYLE_LIST,"Редактор объектов",EoMenuLst,"Далее","Закрыть");
	}
	return true;
}
alias:mapedit("medit");

flags:fly(ADMIN_CMD);
CMD:fly(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pAdmin] >= 3)
	{
		if(GetPVarType(playerid, "FlyMode"))
		{
			CancelFlyMode(playerid);
			SpawnPlayer(playerid);
		}
		else FlyMode(playerid);
	}
	return true;
}

flags:invis(ADMIN_CMD);
CMD:invis(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 3)
	{
		if(IsPlayerInAnyVehicle(playerid)) {
			new LVehicleID = GetPlayerVehicleID(playerid);    new int1 = GetPlayerInterior(playerid);
			LinkVehicleToInterior(LVehicleID,int1 + 1); SetPlayerColor(playerid,0xFFFFFF00);
			SendClientMessage(playerid,COLOR_WHITE,"You Are Now Invisible");
			Invis[playerid] = 1;
		} else {
			new Float:X,Float:Y,Float:Z,Float:Angle,LVehicleID;
			GetPlayerPos(playerid,X,Y,Z); GetPlayerFacingAngle(playerid,Angle);
			SetPlayerColor(playerid,0xFFFFFF00); new int1 = GetPlayerInterior(playerid);
			LVehicleID = CreateVehicle(415,X,Y,Z,Angle,1,-1,500000);
			PutPlayerInVehicle(playerid,LVehicleID,0); LinkVehicleToInterior(LVehicleID,int1 + 1);
			SendClientMessage(playerid,COLOR_WHITE,"You Are Now Invisible");
			Invis[playerid] = 1;
		}
	}
    return 1;
}

flags:uninvis(ADMIN_CMD);
CMD:uninvis(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 3)
	{
		if(IsPlayerInAnyVehicle(playerid))
		{
			new LVehicleID = GetPlayerVehicleID(playerid);
			new int1 = GetPlayerInterior(playerid);    LinkVehicleToInterior(LVehicleID,int1); SetPlayerColor(playerid,0xAFAFAFAA);
			SendClientMessage(playerid,COLOR_WHITE,"You Are Now Uninvisible"); Invis[playerid] = 0;
		}
		else 
		{
			SetPlayerColor(playerid,0xAFAFAFAA); SendClientMessage(playerid,COLOR_WHITE,"You Are Now Uninvisible"); Invis[playerid] = 0;
		}
	}
	return 1;
}

flags:destroycar(ADMIN_CMD);
CMD:destroycar(playerid, params[])
{
    return EraseVehicle(GetPlayerVehicleID(playerid));
}
	
flags:rebuild(ADMIN_CMD);
CMD:rebuild(playerid, params[])
{
	if(!IsPlayerAdmin(playerid)) return SendClientMessage(playerid, COLOR_SYSTEM, "Для использования этих ф-ции нужны права RCON!");
	SendRconCommand("reloadfs mapping");
	SendAdminMessage(COLOR_ADM, "Маппинг обновлен успешно");
	format(log, sizeof(log), "Администратор %s перезагрузил маппинг сервера", PlayerName(playerid)), AdmLog(log);
	return true;
}

flags:banip(ADMIN_CMD);
CMD:banip(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 3)
	{
		new	type[128], ipstring[128];
		if(sscanf(params, "s[128]", type)) SendClientMessage(playerid, COLOR_INFO, "Использование: /banip [IP]");
		else
		{
			format(ipstring, sizeof(ipstring),"banip %s", type);
			SendRconCommand(ipstring);
			SendRconCommand("reloadbans");
			format(log, sizeof(log), "Администратор %s забанил IP:%s", PlayerName(playerid), type), AdmLog(log);
		}
	}
	return true;
}

flags:unbanip(ADMIN_CMD);
CMD:unbanip(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 3)
	{
		new type[128],ipstring[128];
		if(sscanf(params, "s[128]", type)) SendClientMessage(playerid, COLOR_INFO, "Использование: /unbanip [IP]");
		else
		{
			format(ipstring, sizeof(ipstring),"unbanip %s", type);
			SendRconCommand(ipstring);
			SendRconCommand("reloadbans");
			format(ipstring, sizeof(ipstring), "%s разбанил IP %s", PlayerName(playerid), type);
			SendClientMessage(playerid,COLOR_YELLOW, ipstring);
			format(log, sizeof(log), "Администратор %s разбанил IP:%s", PlayerName(playerid), type), AdmLog(log);
		}
	}
	return true;
}

flags:rban(ADMIN_CMD);
CMD:rban(playerid,params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 4)
	{
		if(sscanf(params,"us[128]",params[0],params[1])) return SendClientMessage(playerid, COLOR_INFO, "Используйте: /rban [id] [reason]");
		if(params[0] == playerid) return SendClientMessage(playerid, COLOR_RED,"Нельзя забанить свою подсеть");
		new str[144],ip[16],strban[32];
		GetPlayerIp(params[0],ip,sizeof(ip));
		for(new fh = 0,paiko; fh < strlen(ip); fh++)
		{
			if(ip[fh]=='.' && paiko+1==2) strdel(ip, fh+1, strlen(ip));
			if(ip[fh]=='.' && paiko+1<2) paiko++;
		}
		format(strban, sizeof(strban), "banip %s*.*", ip);
		SendRconCommand(strban);
		format(str,sizeof(str),"Администратор %s забанил игрока %s по подсети. Причина: %s",PlayerName(playerid), PlayerName(params[0]), params[1]);
		AdmLog(str);
		format(log, sizeof(log), "Администратором %s забанена подсеть %s*.*", PlayerName(playerid), ip), AdmLog(log);
		SendClientMessageToAll(COLOR_SYSTEM,str);
	}
    return 1;
}

flags:cw(ADMIN_CMD);
CMD:cw(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		new CheaterID,string[128];
		if(sscanf(params,"d", CheaterID)) SendClientMessage(playerid, COLOR_INFO, "Использование: /cw [ID]");
		else
		{
			if(GetPVarInt(CheaterID,"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
			SendClientMessage(playerid, COLOR_YELLOW, "Вы отправили игрока в чит-мир");
			PutInCheatWorld(CheaterID);
			SendClientMessage(CheaterID, COLOR_YELLOW, "Администратор отправил вас в чит-мир");
			format(string,128,"Администратор %s отправил в чит-мир игрока %s",PlayerName(playerid),PlayerName(CheaterID));
			AdmLog(string);
			SendClientMessageToAll(COLOR_SYSTEM,string);
		}
	}
	return 1;
}

flags:boom(ADMIN_CMD);
CMD:boom(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		new boomId;
		if(sscanf(params,"d", boomId)) SendClientMessage(playerid,COLOR_INFO," Взрывает выбранного игрока, использование: /boom [id - игрока]");
		if(!IsPlayerConnected(boomId))
		{
			if(GetPVarInt(boomId,"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
			SendClientMessage(playerid,COLOR_INFO," Неверный ID, использование: /boom [id - игрока]");
		}
		else
		{
			TogglePlayerControllable(boomId,1);
			new Float:DatV[3];
			GetPlayerPos(boomId,DatV[0],DatV[1],DatV[2]);
			CreateExplosion(DatV[0]+1,DatV[1]+1,DatV[2],6,100);
			CreateExplosion(DatV[0]-1,DatV[1]-1,DatV[2],6,100);
			CreateExplosion(DatV[0]-1,DatV[1]+1,DatV[2],6,100);
			CreateExplosion(DatV[0]+1,DatV[1]-1,DatV[2],6,100);
			CreateExplosion(DatV[0],DatV[1],DatV[2]+1,6,100);
			CreateExplosion(DatV[0],DatV[1],DatV[2]-1,6,100);
			format(log, sizeof(log), "Администратор %s взорвал (bigboom) игрока %s", PlayerName(playerid), PlayerName(boomId)), AdmLog(log);
		}
	}
	return 1;
}

flags:dop(ADMIN_CMD);
CMD:dop(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		new TargetId;
		if(GetPVarInt(params[0],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
		if(sscanf(params,"d", TargetId)) SendClientMessage(playerid, COLOR_INFO, "Использование: /dop [ID]");
		else
		{
			DopStatistics(playerid,TargetId);
		}
	}
	return 1;
}
alias:dop("доп");

flags:jail(ADMIN_CMD);
CMD:jail(playerid, params[])
{
	if(GetPVarInt(params[0],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new string[128];
		if(sscanf(params,"uds", params[0], params[1], params[2])) SendClientMessage(playerid, COLOR_INFO, "Использование: /jail [ID] [minutes] [reason]");
		else
		{
			format(string,128,"Администратор %s посадил игрока %s на %d минут причина: %s",PlayerName(playerid),PlayerName(params[0]), params[1], params[2]);
			AdmLog(string);
			SendClientMessageToAll(COLOR_SYSTEM,string);
			//SetPVarInt(params[0],"Jailed", gettime() + (params[1]*60));
			PutInJail(params[0], (params[1]*60));
		}
	}
	return 1;
}
alias:jail("зк");

flags:warn(ADMIN_CMD);
CMD:warn(playerid, params[])
{
	if(GetPVarInt(params[0],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new string[128];
		if(sscanf(params,"uds", params[0], params[1], params[2])) SendClientMessage(playerid, COLOR_INFO, "Использование: /warn [ID] [reason]");
		else
		{
			format(string,128,"Администратор %s выдал предупреждение игроку %s причина: %s",PlayerName(playerid),PlayerName(params[0]), params[1]);
			AdmLog(string);
			SendClientMessageToAll(COLOR_SYSTEM,string);
			PlayerInfo[params[0]][pWarns]++;
			if(PlayerInfo[params[0]][pWarns] == 2)
			{
				SetPVarInt(params[0],"Jailed", gettime() + (5*60));
				PutInJail(params[0]);
				SendClientMessage(params[0], COLOR_RED, "Вы были автоматически посажены системой на 5 минут. Причина: игнорирование предупрежлений администрации.");
			}
			if(PlayerInfo[params[0]][pWarns] >= 3)
			{
				SetPVarInt(params[0],"Jailed", gettime() + (15*60));
				PutInJail(params[0]);
				SendClientMessage(params[0], COLOR_RED, "Вы были автоматически посажены системой на 15 минут. Причина: игнорирование предупрежлений администрации.");
			}
		}
	}
	return 1;
}
alias:warn("варн");

flags:unjail(ADMIN_CMD);
CMD:unjail(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		if(sscanf(params,"u", params[0])) SendClientMessage(playerid, COLOR_INFO, "Использование: /unjail [ID]"); else UnJail(params[0]);
	}
	return 1;
}
alias:unjail("выпустить");

flags:mute(ADMIN_CMD);
CMD:mute(playerid, params[])
{
	if(GetPVarInt(params[0],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new string[128];
		if(sscanf(params,"uds", params[0], params[1], params[2])) SendClientMessage(playerid, COLOR_INFO, "Использование: /mute [ID] [minutes] [reason]");
		else
		{
			format(string,128,"Администратор %s заглушил игрока %s на %d минут причина: %s",PlayerName(playerid),PlayerName(params[0]), params[1], params[2]);
			AdmLog(string);
			SendClientMessageToAll(COLOR_SYSTEM,string);
			SetPVarInt(params[0],"Muted", gettime() + (params[1]*60));
		}
	}
	return 1;
}
alias:mute("мут");

flags:automute(ADMIN_CMD);
CMD:automute(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new string[128];
		if(sscanf(params,"u", params[0])) SendClientMessage(playerid, COLOR_INFO, "Использование: /automute [ID]");
		else
		{
			new automute = GetPVarInt(params[0],"Automute");
			if(playerid == params[0]) return SendClientMessage(playerid, COLOR_YELLOW, "Нельзя выдать мут самому себе!");
			if(GetPVarInt(params[0],"pAdmin") > PlayerInfo[playerid][pAdmin]) return SendClientMessage(playerid, COLOR_INFO,"Недоступно. У данного игрока выше уровень админки!");
			if(GetPVarInt(params[0],"Muted") == 0)
			{
				if (automute > 0){
					SetPVarInt(params[0],"Muted", gettime() + (automute * 60));
					SetPVarInt(params[0],"Automute", automute + 10);
				}
				else{
					SetPVarInt(params[0],"Muted", gettime() + (300));
					SetPVarInt(params[0],"Automute", 5);
				}
				new mutetime = GetPVarInt(params[0],"Muted")/60;
				format(string,128,"Администратор %s выдал бан чата по автозаглушке %s на %d минут",PlayerName(playerid),PlayerName(params[0]), mutetime);
				AdmLog(string);
				SendClientMessageToAll(COLOR_SYSTEM,string);
			}
			else
			{
				SendClientMessage(playerid,COLOR_SYSTEM,"У игрока уже есть заглушка!");
			}
		}
	}
	return 1;
}
alias:automute("автомут");

flags:unmute(ADMIN_CMD);
CMD:unmute(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new string[128];
		if(sscanf(params,"u", params[0])) SendClientMessage(playerid, COLOR_INFO, "Использование: /unmute [ID]");
		else
		{
			format(string,128,"Администратор %s снял бан чата у %s",PlayerName(playerid),PlayerName(params[0]));
			AdmLog(string);
			SendClientMessageToAll(COLOR_SYSTEM,string);
			SetPVarInt(ChosenPlayer[playerid],"Muted", 0);
		}
	}
	return 1;
}
alias:unmute("размутить");

flags:tp(ADMIN_CMD);
CMD:tp(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		if(params[1])
		{
			new Float:p[3];
			if(sscanf(params,"fff",p[0],p[1],p[2]))
			return SendClientMessage(playerid, COLOR_INFO, "Используй: /tp X Y Z");
			if(p[0] > 3000.0) return SendClientMessage(playerid, COLOR_INFO, "Проверьте введенные данные!. Используй: /tp X Y Z");
			SetPlayerPos(playerid,p[0],p[1],p[2]);
		//} else {
			//new output[3][32];
			//new count;
			//count = strexplode(output, params[0], ",");
		//	strexplode(output, params[0], ",");
			//floatstr(string)
			//SetPlayerPos(playerid,floatstr(output[0]),floatstr(output[1]),floatstr(output[2]));
			//for (new i = 0; i < count; i++)
			//	print(output[i]);
		}
	}
	return 1;
}
alias:tp("тп");

flags:setint(ADMIN_CMD);
CMD:setint(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new InteriorID;
        if(sscanf(params,"d", InteriorID))
        return SendClientMessage(playerid, COLOR_INFO, "Используй: /gotoint");
		SetPlayerInterior(playerid,InteriorID);
	}
	return 1;
}
alias:setint("инт");

flags:baseint(ADMIN_CMD);
CMD:baseint(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		if(!strlen(params)) { SendClientMessage(playerid, COLOR_INFO, "Использование: /baseint [1-135]"); return 1; }
		if(strcmp(params,"1",true) == 0) { SetPlayerPos(playerid,-25.884499,-185.868988,1003.549988); SetPlayerInterior(playerid,17); return 1; }
		if(strcmp(params,"2",true) == 0) { SetPlayerPos(playerid,6.091180,-29.271898,1003.549988); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"3",true) == 0) { SetPlayerPos(playerid,-30.946699,-89.609596,1003.549988); SetPlayerInterior(playerid,18); return 1; }
		if(strcmp(params,"4",true) == 0) { SetPlayerPos(playerid,-25.132599,-139.066986,1003.549988); SetPlayerInterior(playerid,16); return 1; }
		if(strcmp(params,"5",true) == 0) { SetPlayerPos(playerid,-27.312300,-29.277599,1003.549988); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"6",true) == 0) { SetPlayerPos(playerid,-26.691599,-55.714897,1003.549988); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"7",true) == 0) { SetPlayerPos(playerid,-1827.147338,7.207418,1061.143554); SetPlayerInterior(playerid,14); return 1; }
		if(strcmp(params,"8",true) == 0) { SetPlayerPos(playerid,2.384830,33.103397,1199.849976); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"9",true) == 0) { SetPlayerPos(playerid,315.856170,1024.496459,1949.797363); SetPlayerInterior(playerid,9); return 1; }
		if(strcmp(params,"10",true) == 0) { SetPlayerPos(playerid,286.148987,-40.644398,1001.569946); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"11",true) == 0) { SetPlayerPos(playerid,286.800995,-82.547600,1001.539978); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"12",true) == 0) { SetPlayerPos(playerid,296.919983,-108.071999,1001.569946); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"13",true) == 0) { SetPlayerPos(playerid,314.820984,-141.431992,999.661987); SetPlayerInterior(playerid,7); return 1; }
		if(strcmp(params,"14",true) == 0) { SetPlayerPos(playerid,316.524994,-167.706985,999.661987); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"15",true) == 0) { SetPlayerPos(playerid,302.292877,-143.139099,1004.062500); SetPlayerInterior(playerid,7); return 1; }
		if(strcmp(params,"16",true) == 0) { SetPlayerPos(playerid,235.508994,1189.169897,1080.339966); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"17",true) == 0) { SetPlayerPos(playerid,225.756989,1240.000000,1082.149902); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"18",true) == 0) { SetPlayerPos(playerid,223.043991,1289.259888,1082.199951); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"19",true) == 0) { SetPlayerPos(playerid,225.630997,1022.479980,1084.069946); SetPlayerInterior(playerid,7); return 1; }
		if(strcmp(params,"20",true) == 0) { SetPlayerPos(playerid,295.138977,1474.469971,1080.519897); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"21",true) == 0) { SetPlayerPos(playerid,328.493988,1480.589966,1084.449951); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"22",true) == 0) { SetPlayerPos(playerid,385.803986,1471.769897,1080.209961); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"23",true) == 0) { SetPlayerPos(playerid,375.971985,1417.269897,1081.409912); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"24",true) == 0) { SetPlayerPos(playerid,490.810974,1401.489990,1080.339966); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"25",true) == 0) { SetPlayerPos(playerid,447.734985,1400.439941,1084.339966); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"26",true) == 0) { SetPlayerPos(playerid,227.722992,1114.389893,1081.189941); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"27",true) == 0) { SetPlayerPos(playerid,260.983978,1286.549927,1080.299927); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"28",true) == 0) { SetPlayerPos(playerid,221.666992,1143.389893,1082.679932); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"29",true) == 0) { SetPlayerPos(playerid,27.132700,1341.149902,1084.449951); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"30",true) == 0) { SetPlayerPos(playerid,-262.601990,1456.619995,1084.449951); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"31",true) == 0) { SetPlayerPos(playerid,22.778299,1404.959961,1084.449951); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"32",true) == 0) { SetPlayerPos(playerid,140.278000,1368.979980,1083.969971); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"33",true) == 0) { SetPlayerPos(playerid,234.045990,1064.879883,1084.309937); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"34",true) == 0) { SetPlayerPos(playerid,-68.294098,1353.469971,1080.279907); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"35",true) == 0) { SetPlayerPos(playerid,-285.548981,1470.979980,1084.449951); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"36",true) == 0) { SetPlayerPos(playerid,-42.581997,1408.109985,1084.449951); SetPlayerInterior(playerid,8); return 1; }
		if(strcmp(params,"37",true) == 0) { SetPlayerPos(playerid,83.345093,1324.439941,1083.889893); SetPlayerInterior(playerid,9); return 1; }
		if(strcmp(params,"38",true) == 0) { SetPlayerPos(playerid,260.941986,1238.509888,1084.259888); SetPlayerInterior(playerid,9); return 1; }
		if(strcmp(params,"39",true) == 0) { SetPlayerPos(playerid,1038.509888,-0.663752,1001.089966); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"40",true) == 0) { SetPlayerPos(playerid,446.622986,509.318970,1001.419983); SetPlayerInterior(playerid,12); return 1; }
		if(strcmp(params,"41",true) == 0) { SetPlayerPos(playerid,2216.339844,-1150.509888,1025.799927); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"42",true) == 0) { SetPlayerPos(playerid,833.818970,7.418000,1004.179993); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"43",true) == 0) { SetPlayerPos(playerid,-100.325996,-22.816500,1000.741943); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"44",true) == 0) { SetPlayerPos(playerid,964.376953,2157.329834,1011.019958); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"45",true) == 0) { SetPlayerPos(playerid,-2239.569824,130.020996,1035.419922); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"46",true) == 0) { SetPlayerPos(playerid,662.641601,-571.398803,16.343263); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"47",true) == 0) { SetPlayerPos(playerid,614.581420,-23.066856,1004.781250); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"48",true) == 0) { SetPlayerPos(playerid,612.508605,-129.236114,1001.992187); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"49",true) == 0) { SetPlayerPos(playerid,-1786.603759,1215.553466,28.531250); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"50",true) == 0) { SetPlayerPos(playerid,-2048.605957,162.093444,28.835937); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"51",true) == 0) { SetPlayerPos(playerid,2170.284,1618.629,999.9766); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"52",true) == 0) { SetPlayerPos(playerid,1889.975,1018.055,31.88281); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"53",true) == 0) { SetPlayerPos(playerid,-2158.719971,641.287964,1052.369995); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"54",true) == 0) { SetPlayerPos(playerid,1133.069946,-9.573059,1000.750000); SetPlayerInterior(playerid,12); return 1; }
		if(strcmp(params,"55",true) == 0) { SetPlayerPos(playerid,207.737991,-109.019997,1005.269958); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"56",true) == 0) { SetPlayerPos(playerid,204.332993,-166.694992,1000.578979); SetPlayerInterior(playerid,14); return 1; }
		if(strcmp(params,"57",true) == 0) { SetPlayerPos(playerid,207.054993,-138.804993,1003.519958); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"58",true) == 0) { SetPlayerPos(playerid,203.778000,-48.492397,1001.799988); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"59",true) == 0) { SetPlayerPos(playerid,226.293991,-7.431530,1002.259949); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"60",true) == 0) { SetPlayerPos(playerid,161.391006,-93.159156,1001.804687); SetPlayerInterior(playerid,18); return 1; }
		if(strcmp(params,"61",true) == 0) { SetPlayerPos(playerid,493.390991,-22.722799,1000.686951); SetPlayerInterior(playerid,17); return 1; }
		if(strcmp(params,"62",true) == 0) { SetPlayerPos(playerid,501.980988,-69.150200,998.834961); SetPlayerInterior(playerid,11); return 1; }
		if(strcmp(params,"63",true) == 0) { SetPlayerPos(playerid,-227.028000,1401.229980,27.769798); SetPlayerInterior(playerid,18); return 1; }
		if(strcmp(params,"64",true) == 0) { SetPlayerPos(playerid,460.099976,-88.428497,999.621948); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"65",true) == 0) { SetPlayerPos(playerid,454.973950,-110.104996,999.717957); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"66",true) == 0) { SetPlayerPos(playerid,452.489990,-18.179699,1001.179993); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"67",true) == 0) { SetPlayerPos(playerid,681.474976,-451.150970,-25.616798); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"68",true) == 0) { SetPlayerPos(playerid,366.923980,-72.929359,1001.507812); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"69",true) == 0) { SetPlayerPos(playerid,365.672974,-10.713200,1001.869995); SetPlayerInterior(playerid,9); return 1; }
		if(strcmp(params,"70",true) == 0) { SetPlayerPos(playerid,372.351990,-131.650986,1001.449951); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"71",true) == 0) { SetPlayerPos(playerid,377.098999,-192.439987,1000.643982); SetPlayerInterior(playerid,17); return 1; }
		if(strcmp(params,"72",true) == 0) { SetPlayerPos(playerid,244.411987,305.032990,999.231995); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"73",true) == 0) { SetPlayerPos(playerid,271.884979,306.631989,999.325989); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"74",true) == 0) { SetPlayerPos(playerid,291.282990,310.031982,999.154968); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"75",true) == 0) { SetPlayerPos(playerid,302.181000,300.722992,999.231995); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"76",true) == 0) { SetPlayerPos(playerid,322.197998,302.497986,999.231995); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"77",true) == 0) { SetPlayerPos(playerid,346.870025,309.259033,999.155700); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"78",true) == 0) { SetPlayerPos(playerid,-959.873962,1952.000000,9.044310); SetPlayerInterior(playerid,17); return 1; }
		if(strcmp(params,"79",true) == 0) { SetPlayerPos(playerid,388.871979,173.804993,1008.389954); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"80",true) == 0) { SetPlayerPos(playerid,220.4109,1862.277,13.147); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"81",true) == 0) { SetPlayerPos(playerid,772.112000,-3.898650,1000.687988); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"82",true) == 0) { SetPlayerPos(playerid,774.213989,-48.924297,1000.687988); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"83",true) == 0) { SetPlayerPos(playerid,773.579956,-77.096695,1000.687988); SetPlayerInterior(playerid,7); return 1; }
		if(strcmp(params,"84",true) == 0) { SetPlayerPos(playerid,1527.229980,-11.574499,1002.269958); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"85",true) == 0) { SetPlayerPos(playerid,1523.509888,-47.821198,1002.269958); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"86",true) == 0) { SetPlayerPos(playerid,2496.049805,-1693.929932,1014.750000); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"87",true) == 0) { SetPlayerPos(playerid,1263.079956,-785.308960,1091.959961); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"88",true) == 0) { SetPlayerPos(playerid,1291.725341,-788.319885,96.460937); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"89",true) == 0) { SetPlayerPos(playerid,516.650,-18.611898,1001.459961); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"90",true) == 0) { SetPlayerPos(playerid,2464.109863,-1698.659912,1013.509949); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"91",true) == 0) { SetPlayerPos(playerid,2526.459961,-1679.089966,1015.500000); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"92",true) == 0) { SetPlayerPos(playerid,2543.659912,-1303.629883,1025.069946); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"93",true) == 0) { SetPlayerPos(playerid,1212.019897,-28.663099,1001.089966); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"94",true) == 0) { SetPlayerPos(playerid,744.542969,1437.669922,1102.739990); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"95",true) == 0) { SetPlayerPos(playerid,1204.809937,-11.586800,1001.089966); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"96",true) == 0) { SetPlayerPos(playerid,1204.809937,13.586800,1001.089966); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"97",true) == 0) { SetPlayerPos(playerid,940.921997,-17.007000,1001.179993); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"98",true) == 0) { SetPlayerPos(playerid,964.106995,-53.205498,1001.179993); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"99",true) == 0) { SetPlayerPos(playerid,-2661.009766,1415.739990,923.305969); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"100",true) == 0) { SetPlayerPos(playerid,-2637.449951,1404.629883,906.457947); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"101",true) == 0) { SetPlayerPos(playerid,-735.5619504,484.351318,1371.952270); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"102",true) == 0) { SetPlayerPos(playerid,-794.8064,491.6866,1376.195); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"103",true) == 0) { SetPlayerPos(playerid,-835.2504,500.9161,1358.305); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"104",true) == 0) { SetPlayerPos(playerid,-813.431518,533.231079,1390.782958); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"105",true) == 0) { SetPlayerPos(playerid,2350.339844,-1181.649902,1028.000000); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"106",true) == 0) { SetPlayerPos(playerid,2807.619873,-1171.899902,1025.579956); SetPlayerInterior(playerid,8); return 1; }
		if(strcmp(params,"107",true) == 0) { SetPlayerPos(playerid,318.564972,1118.209961,1083.979980); SetPlayerInterior(playerid,5); return 1; }
		if(strcmp(params,"108",true) == 0) { SetPlayerPos(playerid,1412.639893,-1.787510,1000.931946); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"109",true) == 0) { SetPlayerPos(playerid,1302.519897,-1.787510,1000.931946); SetPlayerInterior(playerid,18); return 1; }
		if(strcmp(params,"110",true) == 0) { SetPlayerPos(playerid,2522.0,-1673.383911,14.8); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"111",true) == 0) { SetPlayerPos(playerid,-219.322601,1410.444824,27.773437); SetPlayerInterior(playerid,18); return 1; }
		if(strcmp(params,"112",true) == 0) { SetPlayerPos(playerid,2324.419922,-1147.539917,1050.719971); SetPlayerInterior(playerid,12); return 1; }
		if(strcmp(params,"113",true) == 0) { SetPlayerPos(playerid,-972.4957,1060.983,1358.914); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"114",true) == 0) { SetPlayerPos(playerid,411.625977,-21.433298,1001.799988); SetPlayerInterior(playerid,2); return 1; }
		if(strcmp(params,"115",true) == 0) { SetPlayerPos(playerid,418.652985,-82.639793,1001.959961); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"116",true) == 0) { SetPlayerPos(playerid,412.021973,-52.649899,1001.959961); SetPlayerInterior(playerid,12); return 1; }
		if(strcmp(params,"117",true) == 0) { SetPlayerPos(playerid,-204.439987,-26.453999,1002.299988); SetPlayerInterior(playerid,16); return 1; }
		if(strcmp(params,"118",true) == 0) { SetPlayerPos(playerid,-204.439987,-8.469600,1002.299988); SetPlayerInterior(playerid,17); return 1; }
		if(strcmp(params,"119",true) == 0) { SetPlayerPos(playerid,-204.439987,-43.652496,1002.299988); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"120",true) == 0) { SetPlayerPos(playerid,246.783997,63.900200,1003.639954); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"121",true) == 0) { SetPlayerPos(playerid,246.375992,109.245995,1003.279968); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"122",true) == 0) { SetPlayerPos(playerid,288.745972,169.350998,1007.179993); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"123",true) == 0) { SetPlayerPos(playerid,1494.429932,1305.629883,1093.289917); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"124",true) == 0) { SetPlayerPos(playerid,-2029.719971,-115.067993,1035.169922); SetPlayerInterior(playerid,3); return 1; }
		if(strcmp(params,"125",true) == 0) { SetPlayerPos(playerid,420.484985,2535.589844,10.020289); SetPlayerInterior(playerid,10); return 1; }
		if(strcmp(params,"126",true) == 0) { SetPlayerPos(playerid,-2184.751464,2413.111816,5.156250); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"127",true) == 0) { SetPlayerPos(playerid,-1397.782470,-203.723114,1051.346801); SetPlayerInterior(playerid,7);  return 1; }
		if(strcmp(params,"128",true) == 0) { SetPlayerPos(playerid,-1398.103515,933.445434,1041.531250); SetPlayerInterior(playerid,15); return 1; }
		if(strcmp(params,"129",true) == 0) { SetPlayerPos(playerid,-1428.809448,-663.595886,1060.219848); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"130",true) == 0) { SetPlayerPos(playerid,-1486.861816,1642.145996,1060.671875); SetPlayerInterior(playerid,14); return 1; }
		if(strcmp(params,"131",true) == 0) { SetPlayerPos(playerid,-1401.830000,107.051300,1032.273000); SetPlayerInterior(playerid,1); return 1; }
		if(strcmp(params,"132",true) == 0) { SetPlayerPos(playerid,1382.615600,2184.345703,11.023437); SetPlayerInterior(playerid,0); return 1; }
		if(strcmp(params,"133",true) == 0) { SetPlayerPos(playerid,297.9414,-64.3876,1001.5156); SetPlayerInterior(playerid,4); return 1; }
		if(strcmp(params,"134",true) == 0) { SetPlayerPos(playerid,302.1602,-164.7588,999.6105); SetPlayerInterior(playerid,6); return 1; }
		if(strcmp(params,"135",true) == 0) { SetPlayerPos(playerid,614.31,-125.22,997.99); SetPlayerInterior(playerid,3); return 1; }
	}
	return 1;
}

flags:setw(ADMIN_CMD);
CMD:setw(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new VirtualWorldID;
        if(sscanf(params,"d", VirtualWorldID))
        return SendClientMessage(playerid, COLOR_INFO, "Используй: /setw [мир]");
		SetPlayerVirtualWorld(playerid,VirtualWorldID);
	}
	return 1;
}
alias:setw("setvw");

flags:slap(ADMIN_CMD);
CMD:slap(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		new Float:PX,Float:PY,Float:PZ;
		GetPlayerPos(params[0],PX,PY,PZ);
		SetPlayerPos(params[0],PX,PY,PZ+10);
		PlayerPlaySound(playerid, 1190, 0, 0, 0);
	}
	return 1;
}
alias:slap("слапнуть");

flags:jump(VIP_CMD);
CMD:jump(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(SpecialZone(playerid) && PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_GREY, "Недоступно на deathmatch");
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pVip] >= 1)
	{
		new usejetpack;
		if(GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_USEJETPACK) usejetpack = true;
		new Float:facing_angle;
		new Float:adj = 4;
		GetPlayerFacingAngle(playerid, facing_angle);
		new LookAt = GetDirectionInWhichPlayerLooks(playerid, facing_angle);
		new Float:x, Float:y, Float:z;
		GetPlayerPos(playerid, x,y,z);
		if (LookAt == 0) SetPlayerPos(playerid,x,y+adj,z+1);
		if (LookAt == 1) SetPlayerPos(playerid,x-adj,y+adj,z+1);
		if (LookAt == 2) SetPlayerPos(playerid,x-adj,y,z+1);
		if (LookAt == 3) SetPlayerPos(playerid,x-adj,y-adj,z+1);
		if (LookAt == 4) SetPlayerPos(playerid,x,y-adj,z+1);
		if (LookAt == 5) SetPlayerPos(playerid,x+adj,y-adj,z+1);
		if (LookAt == 6) SetPlayerPos(playerid,x+adj,y,z+1);
		if (LookAt == 7) SetPlayerPos(playerid,x+adj,y+adj,z+1);
		if(usejetpack) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
	}
	return 1;
}
alias:jump("прыг");

flags:bigjump(VIP_CMD);
CMD:bigjump(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(SpecialZone(playerid) && PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_GREY, "Недоступно на deathmatch");
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pVip] >= 1)
	{
		new usejetpack;
		if(GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_USEJETPACK) usejetpack = true;
		new Float:facing_angle;
		new Float:adj = 60;
		GetPlayerFacingAngle(playerid, facing_angle);
		new LookAt = GetDirectionInWhichPlayerLooks(playerid, facing_angle);
		new Float:x, Float:y, Float:z;
		GetPlayerPos(playerid, x,y,z);
		if (LookAt == 0) SetPlayerPos(playerid,x,y+adj,z+3);
		if (LookAt == 1) SetPlayerPos(playerid,x-adj,y+adj,z+3);
		if (LookAt == 2) SetPlayerPos(playerid,x-adj,y,z+3);
		if (LookAt == 3) SetPlayerPos(playerid,x-adj,y-adj,z+3);
		if (LookAt == 4) SetPlayerPos(playerid,x,y-adj,z+3);
		if (LookAt == 5) SetPlayerPos(playerid,x+adj,y-adj,z+3);
		if (LookAt == 6) SetPlayerPos(playerid,x+adj,y,z+3);
		if (LookAt == 7) SetPlayerPos(playerid,x+adj,y+adj,z+3);
		if(usejetpack) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
	}
	return 1;
}

flags:failunder(VIP_CMD);
CMD:failunder(playerid, params[])
{
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(SpecialZone(playerid) && PlayerInfo[playerid][pAdmin] < 2) return SendClientMessage(playerid, COLOR_GREY, "Недоступно на deathmatch");
	if(PlayerInfo[playerid][pAdmin] >= 1 || PlayerInfo[playerid][pVip] >= 1)
	{
		new Float:x, Float:y, Float:z;
		GetPlayerPos(playerid, x,y,z);
		SetPlayerPos(playerid,x,y,z-4);
	}
	return 1;
}

flags:clear(ADMIN_CMD);
CMD:clear(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		foreach(Player, i) SendClientMessageToAll( COLOR_WHITE, "" );
		SendClientMessageToAll(COLOR_SYSTEM, "Чат очищен администратором.");
		format(log, sizeof(log), "Администратор %s очистил чат", PlayerName(playerid)), AdmLog(log);
	}
	return 1;
}
alias:clear("очиститьчат");

flags:clearveh(ADMIN_CMD);
CMD:clearveh(playerid, params[])
{
	if(sscanf(params,"f",params[0]))
	return SendClientMessage(playerid, COLOR_INFO, "Используй: /clearveh [радиус]");
	if(PlayerInfo[playerid][pAdmin] >= 2) RespawnVehiclesNearPlayer(playerid, params[0]);
	return 1;
}

flags:allips(ADMIN_CMD);
CMD:allips(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2) AllPlayersIP(playerid);
	return 1;
}

flags:amsg(ADMIN_CMD);
CMD:amsg(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new AdminMessage[144];
		format(AdminMessage,sizeof(AdminMessage),"{990000}Администрация: %s", params[0]);
		SendClientMessageToAll(COLOR_SYSTEM, AdminMessage);
	}
	return 1;
}
// ---------------------- [PUBLICS] -----------------------

forward KickPublic(playerid);
public KickPublic(playerid) Kick(playerid);

stock KickEx(playerid, color, message[])//Delay of 1 second before kicking the player so he recieves the message
{
	SendClientMessage(playerid, color, message);
	SetTimerEx("KickPublic", 1000, 0, "d", playerid); 
}

forward BanExPublic(playerid,reason[]);
public BanExPublic(playerid,reason[])
{
	BanEx(playerid,reason);
}

stock BanPub(playerid, color, message[],reason[])//Delay of 1 second before kicking the player so he recieves the message
{
	SendClientMessage(playerid, color, message);
	SetTimerEx("BanExPublic", 1000, 0, "ds", playerid, reason); 
}

forward VehicleModReset(playerid);
public VehicleModReset(playerid)
{
	pVehicleMods[playerid] = 0;
	return 1;
}
forward VehicleEnterReset(playerid);
public VehicleEnterReset(playerid)
{
	pVehicles[playerid] = 0;
	return 1;
}
// invis
EraseVehicle(vehicleid)
{
    for(new players=0;players<=MAX_PLAYERS;players++)
    {
        new Float:X,Float:Y,Float:Z;
        if (IsPlayerInVehicle(players,vehicleid))
        {
            GetPlayerPos(players,X,Y,Z);
            SetPlayerPos(players,X,Y,Z+2);
            SetVehicleToRespawn(vehicleid);
        }
        SetVehicleParamsForPlayer(vehicleid,players,0,1);
    }
    SetTimerEx("VehRes",3000,0,"d",vehicleid);
    return 1;
}

forward VehRes(vehicleid);
public VehRes(vehicleid)
{
    DestroyVehicle(vehicleid);
}

forward HideNameTag();
public HideNameTag()
{
    for (new i = 0; i < MAX_PLAYERS; i++)
    {
        for (new x = 0; x < MAX_PLAYERS; x++)
        {
            if(!IsPlayerAdmin(i) && Invis[x] == 1)
            {
               ShowPlayerNameTagForPlayer(i,x,0);
            }
            else
            {
            ShowPlayerNameTagForPlayer(i,x,1);
            }
        }
    }
    return 1;
}
// End invis

public OnPlayerAirbreak(playerid)
{
	if(ServerAibreakOn_AC > 0)
	{
		if(PlayerInfo[playerid][pCheater] == 0 && SpecialZone(playerid))
		{
			new string[144];
			SendClientMessage(playerid, COLOR_RED, "Вы были оправлены в чит мир за подозрение в читерстве. [Airbreak]");
			format(string,sizeof(string),"Игрок %s[%d] был оправлен в чит мир системой. Причина: Airbreak",PlayerName(playerid),playerid);
			AdmLog(string);
			SendAdminMessage(COLOR_ADM,string);
			PutInCheatWorld(playerid);
		}
		return 1;
	}
	return 0;
}

public OnPlayerPause(playerid)
{
	// public of callbacks.inc
	// defense against the avoidance of hostilities
	//if(GetPVarInt(playerid, "pgm") == 0 && GetPVarInt(playerid,"EscapeTime") > gettime())
	//{
	//	SetPlayerHealth(playerid, 1); SetPlayerArmour(playerid, 0);
	//}
	return 1;
}

public OnPlayerResume(playerid, time)
{
	// public of callbacks.inc
	//new str[128];
    //format(str, sizeof(str), "{FFFFF}Ты был афк %d секунд.", time/1000);
    //return SendClientMessage(playerid, COLOR_INFO, str);
	return 1;
}

public UpdateTimer()
{
	// Replaces the main public OnPlayerUpdate. Called 1 time per second.
	// changemaptime
	new cmin,csec;
	if(changemaptime > 0) 
	{
		changemaptime--;
		csec = changemaptime%60;
		//cmin = changemaptime-(csec/60);
		cmin = changemaptime/60;
	}
	foreach(Player, i)
    {
        if(IsPlayerConnected(i))
        {
			if(desync[i] > 0) return 0;
			HideNameTag();
			//knifebug
			if(GetPVarInt(i, "KnifeTime") != -1)
			{
				if(GetPlayerAnimationIndex(i) == 745){
					SetPVarInt(i, "KnifeTime", -1);
					SetPVarInt(i, "KnifePlayer", INVALID_PLAYER_ID);
				}
				if(GetTickCount() > GetPVarInt(i, "KnifeTime")){
					SetPVarInt(i, "KnifeTime", -1);
					SetPVarInt(i, "KnifePlayer", INVALID_PLAYER_ID);
					ClearAnimations(i);
				}
			}
			// anti-slide by OKstyle
			if(ServerAntiSlide > 0)
			{
				new Keys, ud, lr;
				GetPlayerKeys(i, Keys, ud, lr);
				if(ud < 0) SetPVarInt(i, "Slide", 1);
				else SetPVarInt(i, "Slide", 0);
			}
			//cw
			if(PlayerInfo[i][pCheater] > 0 && GetPlayerVirtualWorld(i) != 6) PutInCheatWorld(i); //protection from exit with cheat world
			if(PlayerInfo[i][pCheater] > 0 && GetPlayerInterior(i) != 0) PutInCheatWorld(i); //protection from exit with cheat world
			// Veh GMMode
			if(GetPVarInt(i,"GodVeh") && IsPlayerInAnyVehicle(i)) SetVehicleHealth(GetPlayerVehicleID(i), 10000);
			// Textdraws FPS, ping, etc
			new string[256];
            PlayerTextDrawColor(i, FPS[i], COLOR_GREY);
            PlayerTextDrawColor(i, FPS2[i], COLOR_GREY);
			if(floatabs(GetPlayerFPS(i)) < 256)
			{
				format(string,sizeof(string),"~w~FPS:~g~%.0f ~w~Ping:~g~%d ~w~L:~g~%.1f",floatabs(GetPlayerFPS(i)),GetPlayerPing(i),NetStats_PacketLossPercent(i));
				PlayerTextDrawSetString(i, FPS[i], string);
				PlayerTextDrawSetString(i, FPS2[i], string);
			}
			gettime(gHour, gMinute);
			format(TimeStr, sizeof TimeStr, "%02d:%02d", gHour, gMinute);
			TextDrawSetString(TDTime, TimeStr);
			getdate(gYear, gMonth ,gDay);
			online_dmz = online_dmramdom + online_dmdeagle + online_dmoneshot + online_dmchainsaw + online_dmsniper;
			online_tdmz = online_tdmdeagle + online_tdmlamo + online_tdmsniper;
			online_trz = online_trlamo + online_trsniper + online_trpro + online_trchains;
			format(StatusBar, sizeof StatusBar,"~w~1nsaneDM ~g~v.%s ~w~Online:~g~%d ~w~/dm: ~g~%d ~w~/tdm: ~g~%d ~w~/trz: ~g~%d ~w~/cs: ~g~%d ~w~/tcw: ~g~%d ~w~/warz: ~g~%d ~n~~w~changemap:~g~ %d:%d ~w~[%d-%d-%d %02d:%02d ~g~MSK~w~ ]",
			MOD_VERSION, ONLINE, online_dmz, online_tdmz, online_trz, online_csz, online_tcw, online_warzone, cmin, csec, gYear, gMonth ,gDay, gHour, gMinute);
			TextDrawSetString(TDBottomBar, StatusBar);
			format(ExpStr, sizeof ExpStr, "Level:%d/Exp:%d", PlayerInfo[i][pLevel],PlayerInfo[i][pExp]);
			PlayerTextDrawSetString(i,TDExp[i], ExpStr);
			if(Widescreen[i] > 0) TextDrawLetterSize(TDBottomBar,0.35,0.13);
			if(PlayerInfo[i][pSerialKills] > 0)
			{
				new ComboStr[4];
				format(ComboStr, sizeof ComboStr, "x%d", PlayerInfo[i][pSerialKills]);
				PlayerTextDrawSetString(i,Combo[i], ComboStr);
				PlayerTextDrawShow(i, Combo[i]);
			}
			else
			{
				PlayerTextDrawHide(i, Combo[i]);
			}
			// MoneyHUD update
			if(PlayerInfo[i][pMoney] < 0) PlayerInfo[i][pMoney] = 0; //dirty money fix (not to go into the minus)
			if(PlayerInfo[i][pMoney] > 0)
			{
				new BankString[20]; 
				format(BankString, sizeof(BankString), "$%09d", PlayerInfo[i][pMoney]);
				PlayerTextDrawSetString(i, MoneyHUD[i],BankString);
			}
			else
			{
				PlayerTextDrawSetString(i, MoneyHUD[i],"$000000000");
			}
			// armour and health
			new PlHP[6], PlArm[6];
			GetPlayerHealth(i, PlayerInfo[i][pHealth]);
			GetPlayerArmour(i, PlayerInfo[i][pArmour]);
			PlayerTextDrawHide(i, PlayerArmour[i]);
			PlayerTextDrawHide(i, PlayerHp[i]);
			if(PlayerInfo[i][pHealthBar] > 0 && PlayerInfo[i][pHudOn] > 0)
			{
				if(PlayerInfo[i][pArmour] > 0 && PlayerInfo[i][pArmour] <= 100 && GetPVarInt(i,"pgm") == 0)
				{
					format(PlArm,sizeof(PlArm),"%.0f", PlayerInfo[i][pArmour]);
					PlayerTextDrawSetString(i,PlayerArmour[i],PlArm);
					PlayerTextDrawShow(i, PlayerArmour[i]);
				}
				else PlayerTextDrawHide(i, PlayerArmour[i]);
				if(PlayerInfo[i][pHealth] > 0 && PlayerInfo[i][pHealth] <= 100 && GetPVarInt(i,"pgm") == 0)
				{
					format(PlHP,sizeof(PlHP),"%.0f", PlayerInfo[i][pHealth]);
					PlayerTextDrawSetString(i,PlayerHp[i],PlHP);
					PlayerTextDrawShow(i, PlayerHp[i]);
				}
				else PlayerTextDrawHide(i, PlayerHp[i]);
			}
			// afk
			if(pAfk[i] == 1) SetPlayerChatBubble(i, "AFK", COLOR_GREY, 20.0, 2000);
			new Float:Z, Float:X, Float:Y;
			GetPlayerPos(i, X, Y, Z);
			if(IsApplyAnimation(i, "FALL_fall") && Z > 100 && !SpecialZone(i)) GivePlayerWeapon(i,46,1);
			// rvanka check
			new Float:xw, Float:yw, Float:zw;
			GetPlayerVelocity(i,xw,yw,zw);
			if(xw > 2.0 || yw > 2.0){
				SetPVarInt(i,"rvanka",GetPVarInt(i, "rvanka") + 1);
				if(GetPVarInt(i, "rvanka") >= 3 && GetPVarInt(i,"AC_WARN_TIMER") <= gettime()) {
					SetPVarInt(i,"AC_WARN_TIMER",gettime() + 120);
					format(log, sizeof(log), "%s[%d] подозревается в читерстве. [Rvanka/CarWarp]", PlayerName(i),i), AdmLog(log);
					SendAdminMessage(COLOR_SYSTEM, log);
				}
			}
			// speedometr
			new V[54], H[24];
			new vehicleid,Float:speed_x,Float:speed_y,Float:speed_z,Float:final_speed,speed_string[64],final_speed_kmph;
			vehicleid = GetPlayerVehicleID(i);
			if(vehicleid != 0 && GetPlayerState(i) == PLAYER_STATE_DRIVER)
			{
				GetVehicleVelocity(vehicleid,speed_x,speed_y,speed_z);
				final_speed = floatsqroot(((speed_x*speed_x)+(speed_y*speed_y))+(speed_z*speed_z))*260.5;
				final_speed_kmph = floatround(final_speed,floatround_round);
				if(SpeedHackOn_AC > 0 && PlayerInfo[i][pAdmin] == 0)
				{
					if(final_speed_kmph >= 650 && Z < 50) // MAX DISTANCE PARCOUR MAX VEHICLE PER SECOND
					{
						if(GetVehicleModel(vehicleid) != 520 && GetVehicleModel(vehicleid) != 519 && GetVehicleModel(vehicleid) != 425)
						{
							if(GetPVarInt(i,"AC_WARN_TIMER") <= gettime()){
								SetPVarInt(i,"AC_WARN_TIMER",gettime() + 120);
								format(log, sizeof(log), "%s[%d] подозревается в читерстве. Превышение скорости перемещения. Скорость(%i) [Speedhack]", PlayerName(i),i,final_speed_kmph), AdmLog(log);
								SendAdminMessage(COLOR_SYSTEM, log);
								//SendClientMessage(i, COLOR_SYSTEM, "Вы были отправлены в чит-мир системой за подозрение в читерстве [Speedhack]");
								//PutInCheatWorld(i);
							}
						}
					}
				}
				format(speed_string,64,"Speed: %i ~y~km/h",final_speed_kmph);
				PlayerTextDrawSetString(i,Speed[i], speed_string);
				if(PlayerInfo[i][pSpeedBar] > 0 && GetVehicleModel(vehicleid) != 416) PlayerTextDrawShow(i, Speed[i]);
				//Vehicle Name
				format(V,sizeof(V),"Vehicle: ~y~%s",Vehicles[GetVehicleModel(GetPlayerVehicleID(i))-400]);
				PlayerTextDrawSetString(i,Status[i], V);
				if(PlayerInfo[i][pSpeedBar] > 0 && GetVehicleModel(vehicleid) != 416) PlayerTextDrawShow(i, Status[i]);
				//Vehicle hp
				new Float:health;
				new veh = GetPlayerVehicleID(i);
				GetVehicleHealth(veh, health);
				if(health < 300) format(H,sizeof(H),"HP:~r~%.0f ~w~ID:~y~%i", floatabs(health)/10, GetVehicleModel(GetPlayerVehicleID(i)));
				else format(H,sizeof(H),"HP:~y~%.0f ~w~ID:~y~%i", floatabs(health)/10, GetVehicleModel(GetPlayerVehicleID(i)));
				PlayerTextDrawSetString(i,VehHp[i], H);
				if(PlayerInfo[i][pSpeedBar] > 0 && GetVehicleModel(vehicleid) != 416) PlayerTextDrawShow(i, VehHp[i]);
			}
			else
			{
				PlayerTextDrawSetString(i,Speed[i], " ");
				PlayerTextDrawHide(i, Speed[i]);
				PlayerTextDrawHide(i, Status[i]);
				PlayerTextDrawHide(i, VehHp[i]);
			}
			new VisibleObj[20];
			format(VisibleObj,sizeof(VisibleObj),"objects: %i/1000",Streamer_CountVisibleItems(i, STREAMER_OBJECT_TYPE_GLOBAL, 1));
			PlayerTextDrawSetString(i,Objrate[i], VisibleObj);
			if(floatabs(issuer_FPS) < 256)
			{
				new DmbarInfo[64];
				format(DmbarInfo,sizeof(DmbarInfo),"~w~FPS:~r~%.0f ~w~Ping:~r~%d ~w~L:~r~%.1f",issuer_FPS,issuer_Ping,issuer_Loss);
				PlayerTextDrawSetString(i,DamageBar[i], DmbarInfo);
			}
			if(GetPVarInt(i, "ShowDopTableTD") != -1){
				PlayerTextDrawSetString(i,SpecPlInfo[i], DopTextDraw(i, GetPVarInt(i, "ShowDopTableTD")));
				PlayerTextDrawShow(i, SpecPlInfo[i]);
			}
			if(GetPVarInt(i, "ShowKillstatTD") > 0){
				new KillbarInfo[128];
				if(GetPVarInt(i,"RoundKills") != 0 && GetPVarInt(i,"RoundDeath") != 0) SetPVarFloat(i,"KD", GetPVarInt(i,"RoundKills")/GetPVarInt(i,"RoundDeath"));
				format(KillbarInfo,sizeof(KillbarInfo),"~w~Kills:~g~%i~n~~w~KD:~g~%.2f~n~~w~Combo:~g~%i", GetPVarInt(i,"RoundKills"),GetPVarFloat(i,"KD"), PlayerInfo[i][pSerialKills]);
				PlayerTextDrawSetString(i,Killstat[i], KillbarInfo);
				PlayerTextDrawShow(i, Killstat[i]);
			}else{PlayerTextDrawHide(i, Killstat[i]);}
			new JailTime[64];
			format(JailTime,sizeof(JailTime),"~r~ %i ~w~sec",(GetPVarInt(i,"Jailed") - gettime()));
			if(GetPlayerInterior(i) == 10) GameTextForPlayer(i,JailTime,1000,6);
			if(GetPVarInt(i,"Jailed") <= gettime() && GetPlayerInterior(i) == 10) UnJail(i);
        }
    }
	return 1;
}

public TimerSpawn(playerid)
{
	// Antispawnkill part
	if(GetPVarInt(playerid,"pgm") == 0)
	{
		SetPlayerHealth(playerid , 100.0);
		SetPlayerArmour(playerid , 100.0);
	}
}

public CwRoundTimer()
{
	// Start CW timer
	foreach(Player,i)
	{
		if(cwzone[i] > 0)
		{
			if(ATTACKERS_SCORE >= MAX_ROUND_SCORE){
				if(team[i] == TEAM_ATTACKERS){
					//SendTexdrawMessage(i, "~w~ END ROUND");
					AddExp(i, 250);
					SetMoney(i, 50000);
				}
				GameTextForPlayer(i,"~g~ TEAM ATTACKERS WIN",1000,6);
			}
			else if(DEFENDERS_SCORE >= MAX_ROUND_SCORE){
				if(team[i] == TEAM_DEFENDERS){
					//SendTexdrawMessage(i, "~w~ END ROUND");
					AddExp(i, 250);
					SetMoney(i, 50000);
				}
				GameTextForPlayer(i,"~g~ TEAM DEFENDERS WIN",1000,6);
			}
			Exit(i);
		}
	}
}

public ChangeMapTimer(time)
{
	// Changemap timer (work every 5 min)
	// Used to change maps, gives bonuses to players in dm zones
	// default: changemaptime = 300;
	changemaptime = time;
	//tdm round winners
/* 	foreach(Player, i)
	{
		if(dmzone[i] == 9)
		{
			if(DmChainsawArenaId == 1){
				SetPlayerWorldBounds(i, 94.9999,-99.00,1619.5,1437.5); 
				new rand = random(sizeof(DmChainsawSpawn));
				SetPlayerPosEx(i,DmChainsawSpawn[rand][0], DmChainsawSpawn[rand][1], DmChainsawSpawn[rand][2],0,23,0);
			}
			else if(DmChainsawArenaId == 2){
				SetPlayerWorldBounds(i, -968,-1231,-866.5,-1093.5); //ext1hecc
				new rand = random(sizeof(DmChainsaw2Spawn));
				SetPlayerPosEx(i,DmChainsaw2Spawn[rand][0], DmChainsaw2Spawn[rand][1], DmChainsaw2Spawn[rand][2],0,23,0);
			}
			else if(DmChainsawArenaId == 3){
				SetPlayerWorldBounds(i, -5.5,-352.5,231.5,-139.5); 
				new rand = random(sizeof(Map_BobbieGuillotine));
				SetPlayerPosEx(i,Map_BobbieGuillotine[rand][0], Map_BobbieGuillotine[rand][1], Map_BobbieGuillotine[rand][2],0,11,0);
			}
		}
		if(dmzone[i] == 1)
		{
			if(DmRandomArenaId == 1){
				SetPlayerWorldBounds(i,1435.546875,1119.140625,2865.234375,2720.703125);
				new rand = random(sizeof(Map_Golfclub));
				SetPlayerPosEx(i,Map_Golfclub[rand][0], Map_Golfclub[rand][1], Map_Golfclub[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 2){
				SetPlayerWorldBounds(i,-327,-471,2293.5,2174.5);
				new rand = random(sizeof(Map_Svobase));
				SetPlayerPosEx(i,Map_Svobase[rand][0], Map_Svobase[rand][1], Map_Svobase[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 3){
				SetPlayerWorldBounds(i,816,417,1026.5,707.5);
				new rand = random(sizeof(Map_Carier));
				SetPlayerPosEx(i,Map_Carier[rand][0], Map_Carier[rand][1], Map_Carier[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 4){
				SetPlayerWorldBounds(i,2812.00012,2665.00012,-2328.5,-2583.5);
				new rand = random(sizeof(Map_LsPort));
				SetPlayerPosEx(i,Map_LsPort[rand][0], Map_LsPort[rand][1], Map_LsPort[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 5){
				SetPlayerWorldBounds(i,2858.00012,2821.00012,-2327.5,-2552.5);
				new rand = random(sizeof(Map_LsPortShip));
				SetPlayerPosEx(i,Map_LsPortShip[rand][0], Map_LsPortShip[rand][1], Map_LsPortShip[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 6){
				SetPlayerWorldBounds(i,299,-52,1998.5,1655.5);
				new rand = random(sizeof(Map_Zone51));
				SetPlayerPosEx(i,Map_Zone51[rand][0], Map_Zone51[rand][1], Map_Zone51[rand][2],0,10,0);
			}
		}
		if(dmzone[i] == 24)
		{
			if(DmDeagleArenaId == 1){
				SetPlayerWorldBounds(i, 2433.59375, 2138.671875, 759.765625, 626.953125);
				new rand = random(sizeof(DmDeagleSpawn));
				SetPlayerPosEx(i,DmDeagleSpawn[rand][0], DmDeagleSpawn[rand][1], DmDeagleSpawn[rand][2],0,10,0);
			}
			else if(DmDeagleArenaId == 2){
				SetPlayerWorldBounds(i, -909.5,-1301.5,-834.5,-1143.5);
				new rand = random(sizeof(Map_Graveyard));
				SetPlayerPosEx(i,Map_Graveyard[rand][0], Map_Graveyard[rand][1], Map_Graveyard[rand][2],0,10,0);
			}
		}
		if(dmzone[i] == 34)
		{
			if(DmSniperArenaId == 1){
				SetPlayerWorldBounds(i, -1933.59375,-1970.703125,-720.703125,-996.09375);
				new rand = random(sizeof(DmSniperSpawn));
				SetPlayerPosEx(i,DmSniperSpawn[rand][0], DmSniperSpawn[rand][1], DmSniperSpawn[rand][2],0,10,0);
			}
			else if(DmSniperArenaId == 2){
				SetPlayerWorldBounds(i, 1278.5, 721.5, 2795.5, 2202.5); 
				new rand = random(sizeof(Map_SmallSniperArena));
				SetPlayerPosEx(i,Map_SmallSniperArena[rand][0], Map_SmallSniperArena[rand][1], Map_SmallSniperArena[rand][2],0,10,0);
			}
		}
		if(tdmzone[i] == 2)
		{
			tdmlamo_score_red = 0;tdmlamo_score_blue = 0; //drop scores on next round
		}
		if(tdmzone[i] == 3)
		{
			if(TdmSniperArenaId == 1){
				SetPlayerWorldBounds(i, 17.578125, -155.2734375, 184.5703125, -131.8359375);
				if(team[i] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSpawnRED));
					SetPlayerPosEx(i,TDM_SniperSpawnRED[rand][0], TDM_SniperSpawnRED[rand][1], TDM_SniperSpawnRED[rand][2],0,15,0);
				}
				if(team[i] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSpawnBLUE));
					SetPlayerPosEx(i,TDM_SniperSpawnBLUE[rand][0], TDM_SniperSpawnBLUE[rand][1], TDM_SniperSpawnBLUE[rand][2],0,15,0);
				}
			}
			if(TdmSniperArenaId == 2){
				SetPlayerWorldBounds(i, 1278.5, 721.5, 2795.5, 2202.5); 
				if(team[i] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnRED));
					SetPlayerPosEx(i,TDM_SniperSmallSpawnRED[rand][0], TDM_SniperSmallSpawnRED[rand][1], TDM_SniperSmallSpawnRED[rand][2],0,11,0);
				}
				if(team[i] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnBLUE));
					SetPlayerPosEx(i,TDM_SniperSmallSpawnBLUE[rand][0], TDM_SniperSmallSpawnBLUE[rand][1], TDM_SniperSmallSpawnBLUE[rand][2],0,11,0);
				}
			}
			if(TdmSniperArenaId == 3){
				SetPlayerWorldBounds(i, 2702.00, 2303.00, 1268.5, 878.5);
				if(team[i] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnRED));
					SetPlayerPosEx(i,TDM_SniperPwnSpawnRED[rand][0], TDM_SniperPwnSpawnRED[rand][1], TDM_SniperPwnSpawnRED[rand][2],0,11,0);
				}
				if(team[i] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnBLUE));
					SetPlayerPosEx(i,TDM_SniperPwnSpawnBLUE[rand][0], TDM_SniperPwnSpawnBLUE[rand][1], TDM_SniperPwnSpawnBLUE[rand][2],0,11,0);
				}
			}
		}
		if(Votekick[i] > MAX_VOTE_KICK && PlayerInfo[i][pAdmin] == 0 && PlayerInfo[i][pVip] == 0) Kick(i);
		// Drop round stats
		SetPVarInt(i,"RoundDeath", 0);
		SetPVarInt(i,"RoundKills", 0);
		SetPVarInt(i,"KD", 0);
	} */
	if(DmChainsawArenaId == MAX_DMCHAINSAW_ARENA) DmChainsawArenaId = 1; else DmChainsawArenaId = DmChainsawArenaId + 1;
	if(DmRandomArenaId == MAX_DMRAND_ARENA) DmRandomArenaId = 1; else DmRandomArenaId = DmRandomArenaId + 1;
	if(DmDeagleArenaId == MAX_DMDEAGLE_ARENA) DmDeagleArenaId = 1; else DmDeagleArenaId = DmDeagleArenaId + 1;
	if(DmSniperArenaId == MAX_DMSNIPER_ARENA) DmSniperArenaId = 1; else DmSniperArenaId = DmSniperArenaId + 1;
	if(TdmSniperArenaId == MAX_TDMSNIPER_ARENA) TdmSniperArenaId = 1; else TdmSniperArenaId = TdmSniperArenaId + 1;
	foreach(Player, i)
	{
		if(SpecialZone(i))
		{
			OnPlayerSpawn(i); //respawn players on new map
			GameTextForPlayer(i, "~w~END ROUND!", 6000, 6);
			if(Votekick[i] > MAX_VOTE_KICK && PlayerInfo[i][pAdmin] == 0 && PlayerInfo[i][pVip] == 0) Kick(i);
			// Drop round stats
			SetPVarInt(i,"RoundDeath", 0);
			SetPVarInt(i,"RoundKills", 0);
			SetPVarInt(i,"KD", 0);
		}
	}
	/*if(tdmlamo_score_red > tdmlamo_score_blue)
	{
		//GameTextForPlayer(i, "~r~RED ~w~TEAM WON !", 6000, 6);
		if(team[i] == TEAM_RED && tdmzone[i] == 1) RoundBonus(i, 200, 20000);
	}
	else if (tdmlamo_score_red < tdmlamo_score_blue)
	{
		//GameTextForPlayer(i, "~b~BLUE ~w~TEAM WON !", 6000, 6);
		if(team[i] == TEAM_BLUE && tdmzone[i] == 1) RoundBonus(i, 200, 20000);
	}
	else 
	{
		//GameTextForPlayer(i, "~w~The teams score is equal, the prize is divided in half!", 6000, 6);
		if(team[i] == TEAM_RED && tdmzone[i] == 1) RoundBonus(i, 100, 10000);
		if(team[i] == TEAM_BLUE && tdmzone[i] == 1) RoundBonus(i, 100, 10000);
	} */
	//new RoundResult[144];
	//format(RoundResult,sizeof(RoundResult),"~w~ Round results: ~r~%d - ~b~%d",tdmlamo_score_red, tdmlamo_score_blue);
	//GameTextForPlayer(i, RoundResult, 6000, 6);
	return 1;
}

public FreqTimer()
{
	// frequently used timer. (work every 10 sec)
	// Is used where every second updating is excessive and 30 second is unacceptable
	// (for example, info textdraw hide-show)	
	foreach(Player,i)
	{
		PlayerTextDrawHide(i, InfoTD[i]);
		PlayerTextDrawSetString(i,InfoTD[i], " ");
		if(GetPVarInt(i,"EscapeTime") < gettime()) PlayerTextDrawHide(i, DamageBar[i]);//hide damage bar
		// throws a player from the roof (used to prevent a ride on the roof with an immortal driver)
		NoRoof(i);
		// Money limits
		if(GetPlayerMoney(i) > 20000000) ResetMoney(i);
	}
}

public AuxUpdateTimer()
{
	// Auxiliary timer. (work every 30 sec)
	// Used where there is no need to do checks every second but the minute interval is too small
	// (for example, some types of anti-cheat)
	new Float:Current_Pos[3];
	foreach(Player,i)
	{
		if(SpecialZone(i) > 0 && cwzone[i] == 0)
		{
			GetPlayerPos(i, Current_Pos[0], Current_Pos[1], Current_Pos[2]);
			if(AntiAFK_Pos[0] == Current_Pos[0] && AntiAFK_Pos[1] == Current_Pos[1] && Current_Pos[2] == AntiAFK_Pos[2]){
				SendClientMessage(i, COLOR_YELLOW, "Вы были автоматически убраны с Deathmatch арены по причине бездействия [AFK]");
				Exit(i);
			}
			else GetPlayerPos(i, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
		}
		if(!GetPVarType(i, "FlyMode")){
			SetPVarFloat(i,"LastPosX",0);
			SetPVarFloat(i,"LastPosY",0);
			SetPVarFloat(i,"LastPosZ",0);
		}
		if(GetPlayerPing(i) > MAX_PING || NetStats_PacketLossPercent(i) > MAX_PLOSS)
		{
			if(HighPingCount[i] != 3) HighPingCount[i] = HighPingCount[i] + 1;
			if(GetPVarInt(i,"pgm") != 0 && HighPingCount[i] == 3)
			{
				if(SpecialZone(i)) Exit(i);
				SetPVarInt(i,"pgm", 1);
				ResetPlayerWeapons(i);
				SetPlayerHealth(i, 10000);
				SetPlayerArmour(i, 10000);
				if(!GetPVarInt(i,"GodVeh"))
				{
					SetPVarInt(i,"GodVeh",1);
					SetVehicleHealth(GetPlayerVehicleID(i),10000);
					DisableRemoteVehicleCollisions(i, 1);
				}
				Pgm3D{i} = Create3DTextLabel("Бессмертный",0x6699CC,0.0,0.0,0.0,50.0,0,1);
				Attach3DTextLabelToPlayer(Pgm3D{i},i,0.0,0.0,0.5); 
				if(NetStats_PacketLossPercent(i) > MAX_PLOSS) SendFormattedText(i, COLOR_SYSTEM, "Недопустимая потеря пакетов %.2f процентов", NetStats_PacketLossPercent(i));
				if(GetPlayerPing(i) > MAX_PING) SendFormattedText(i, COLOR_SYSTEM, "Недопустимый пинг %d", GetPlayerPing(i));
				SendClientMessage(i, COLOR_SYSTEM, "Вы были автоматически переведены системой в режим бессмертия!\n");
				SendClientMessage(i, COLOR_SYSTEM, "You disarmed and transferred to immortality mode Reason: [High ping]!");
				SendClientMessage(i, COLOR_SYSTEM, "Проверьте ваше сетевое подключение, попробуйте перезагрузить модем");
				//SendClientMessage(i, COLOR_SYSTEM, "Если вы подключаетесь по wi-fi, подключите сетевой кабель для проверки");
				format(log, sizeof(log), "Игроку %s было автоматически выставлено бессмертие системой. Причина: Высокий пинг.", PlayerName(i)), AdmLog(log);
				//Kick(i);
			}
		}
		// Anti fly-hack
		if(FlyHackOn_AC > 0 && SpecialZone(i))
		{
			new AnimLib[30], AnimName[30]; // anti-fly check only deathmatch zones
			GetAnimationName(GetPlayerAnimationIndex(i), AnimLib, sizeof(AnimLib), AnimName, sizeof(AnimName));
			if(GetPlayerSpeed(i) > 60 && strcmp(AnimLib, "SWIM", true) == 0)
			{
				SendClientMessage(i, COLOR_SYSTEM, "Вы были отправлены в чит-мир системой за подозрение в читерстве [Fly-hack]");
				PutInCheatWorld(i); 
			}
		}
		Go[i] = -1; //drop tp invite
		if(survzone[i] > 0){
			new Float:sHeal;
			GetPlayerHealth(i, sHeal);
			if(sHeal > 15.0){
				SetPlayerHealth(i, sHeal-10.0);
				SendTexdrawMessage(i, "~r~-10.0 health");
			}
		}
	}
	return 1;
}

public TechTimer()
{
	// Tech timer (work every 15 min)
	// A technical timer is needed to maintain the server. 
	// Respawn unoccupied vehicles, check voting results, etc
	new bool:unwanted[MAX_VEHICLES];
	//tdm round winners
	foreach(Player, i)
	{
		// used for detect unoccupied transport
		if(IsPlayerInAnyVehicle(i)) { unwanted[GetPlayerVehicleID(i)]=true; }
		// cheat world surprise
		if(PlayerInfo[i][pCheater] > 0)
		{
			new Float:x, Float:y, Float:z;
			GetPlayerPos(i, x, y, z);
			CreateExplosion(x, y, z, 12, 7);
		}
		if(PlantObj[i] > 0) DestroyDynamicObject(PlantObj[i]);
		// autogm drop
		if(GetPlayerPing(i) < MAX_PING && HighPingCount[i] > 0) HighPingCount[i] = 0;
		// finds inactive players in normal world (not DM zones)
		new Float:Current_Pos[3];
		if(SpecialZone(i) > 0)
		{
			GetPlayerPos(i, Current_Pos[0], Current_Pos[1], Current_Pos[2]);
			if(ESC_Pos[0] == Current_Pos[0] && ESC_Pos[1] == Current_Pos[1] && Current_Pos[2] == ESC_Pos[2]){
				//SendClientMessage(i, COLOR_YELLOW, "Вы были автоматически убраны с Deathmatch арены по причине бездействия [AFK]");
				InactivePlayers[i] = 1;
			}
			else GetPlayerPos(i, ESC_Pos[0], ESC_Pos[1], ESC_Pos[2]);
		}
		// PayDay
		if(GetPVarInt(i, "Logged") != 1) return 0;
		SetMoney(i, 5000); // +5 000 every 15 minutes
		SendClientMessage(i, COLOR_INFO, "Вы получили бонус +5.000$ и опыт. (Каждые 15 минут вы получаете бонус)");
		if(i == 0) AddExp(i,40); else AddExp(i,20);
		if(PlayerInfo[i][pGangRang] > 1) AddExp(i,10 * PlayerInfo[i][pGangRang]);//gangexp
	}
	// Respawn unoccupied vehicles
	for(new car = 0; car < MAX_VEHICLES; car++)
	{
		if(!unwanted[car]) SetVehicleToRespawn(car);
	}
	// Random chatinfo
	new randnotice = random(sizeof(noticelist));
	SendClientMessageToAll(COLOR_ORANGE, noticelist[randnotice]);
	// Serverstatuslog
	printf("[Status]Total objects %i (dynamic), vehicles %i",	CountDynObjects(), GetVehiclePoolSize());
	printf("[Status]Since launch, the server has been visited %i players. Current online: %i", TOTALPlayers, ONLINE);
	printf("[Status]Server Tickrate: %i, average ping: %i", GetServerTickRate(), GetAveragePing());
	SaveAccounts();
	GangSave();
	SaveServerConfigfile();
	return 1;
}

public Freeze(playerid)
{
	//freeze player
	ClearAnimations(playerid);
	if(GetPVarInt(playerid, "EnterVehicle") > 0) SetPVarInt(playerid, "EnterVehicle", 0);
	TogglePlayerControllable(playerid, 1);
	return 1;
}

public AntiFakeKill(playerid)
{
    Antifakekill[playerid] --;
    if(Antifakekill[playerid] > 5)
    {
		new fkstr[80];
		format(fkstr, sizeof fkstr, "%s - был кикнут по подозрению в FakeKill", PlayerName(playerid));
        SendAdminMessage(COLOR_ADM, fkstr);
        Kick(playerid);
    }
    return 1;
}

public PgmTimer(playerid)
{
	// set gm after 30 sec
	SetPlayerGMode(playerid);
	return 1;
}

public RestoreHealth(playerid)
{
	// restore health after spawn
	if(PlayerInfo[playerid][pVip] > 0) SetPlayerArmour(playerid, 100.0);
	//printf("%f, %f", health, armour);
	//if(health < 5.0) SetPlayerHealth(playerid, 20.0);
	SetPlayerHealth(playerid, 100.0);
	//SetPlayerHealth(playerid, health);
	//SetPlayerArmour(playerid, armour);
}

public BonusExpTime(playerid)
{
	PlayerTextDrawHide(playerid, BonusExp[playerid]);
	KillTimer(Exp_timer[playerid]);
	return 1;
}

public RemoveDropWeapons(playerid)
{
	KillTimer(DropWeapon_Timer[playerid]);
	DestroyDropPickups();
	return 1;
}

public SaveAccounts()
{
    foreach(Player, i)
    {
        if(!IsPlayerConnected(i))continue;
        SaveAccount(i);
    }
}

public PlayerDeathMode(playerid)
{
    //ApplyAnimation(playerid, "KNIFE", "KILL_Knife_Ped_Die", 4.1, 0, 0, 0, 1, 0, 1);
	pDeathModeTimer[playerid] = SetTimerEx("PlayerDeathModeWait", 1250, true, "i", playerid);
    pDeathModeWait[playerid] = 5;
    pDeathMode[playerid] = 1;
	new DeathAnims[4][] = {
		{"CRCKDETH4"},
		{"CRCKDETH3"},
		{"CRCKDETH2"},
		{"CRCKDETH1"}
	};
	new randnomdeathanim = random(sizeof(DeathAnims));
	ApplyAnimation(playerid, "CRACK", DeathAnims[randnomdeathanim], 4.0, 1, 0, 0, 0, 0);
    return 1;
}

public PlayerDeathModeWait(playerid)
{
    if(pDeathModeWait[playerid] == 0)
    {
        if(pDeathMode[playerid] == 1)
        {
            KillTimer(pDeathModeTimer[playerid]);
            SetPlayerHealth(playerid, 0);
        }
    }
    else if(pDeathModeWait[playerid] > 0)
    {
		pDeathModeWait[playerid] -= 1;
    }
    return 1;
}

public RotateWheel()
{
    UpdateWheelTarget();
    
    new Float:fModifyWheelZPos = 0.0;
    if(gWheelTransAlternate) fModifyWheelZPos = 0.05;
    
    MoveObject( gFerrisWheel, gFerrisOrigin[0], gFerrisOrigin[1], gFerrisOrigin[2]+fModifyWheelZPos,
				0.01, 0.0, gCurrentTargetYAngle, -90.0 );
}

public GMXTimer()
{
	foreach(Player, i)
	{
		SendClientMessage(i, COLOR_WHITE, "Сервер перезагружается, сможете продолжить игру через пару минут.");
		SaveAccount(i);
		Kick(i);
	}
	GangSave();
	SendRconCommand("gmx");
	return 1;
}

public ProxyHttpResponse(playerid, response_code, data[])
{
	new name[MAX_PLAYERS],string[256];
	new ip[16];
	GetPlayerName(playerid, name, sizeof(name));
	GetPlayerIp(playerid, ip, sizeof ip);
	if(response_code == 200)
	{	
		if(data[0] == 'Y')
		{
			format(string, 256, "[PROXY DETECTED] %s(%d) игрок использует прокси", name, playerid);
	    	SendAdminMessage(COLOR_ADM, string);
		}
		if(data[0] == 'N')
		{
			format(string, 256, "[PROXY NOT DETECTED] %s(%d) proxy not found.", name, playerid);
	    	//printf("%s", string );
		}
		if(data[0] == 'X')
		{
			printf("WRONG IP FORMAT");
		}
		else
		{
			printf("The request failed! The response code was: %d", response_code);
		}
	}
	return 1;
}

public CountFunc()
{
	CountCmd--;
	if(CountCmd > 0)
	{
		static string[32];
		format(string, sizeof string, "~y~%d", CountCmd);
		PlaySoundForAll(1056, 0.0, 0.0, 0.0);
		GameTextForAll(string, 1000, 3);
		SetTimer("CountFunc", 1000, 0);
	}
	else
	{
		GameTextForAll("~g~GO GO GO!", 1000, 3);
		PlaySoundForAll(1057, 0.0, 0.0, 0.0);
		CountStarted = false;
	}
	return 1;
}

public TimerLogged(playerid) 
{ 
	if(GetPVarInt(playerid, "Logged") == 0)
	{
		//format(log, sizeof(log), "Игрок %s был кикнут с сервера. Причина: Отказ от логина", PlayerName(playerid)), AdmLog(log);
		KickEx(playerid, COLOR_SYSTEM, "Вы были кикнуты с сервера с причиной - Отказ от логина!");
	}
	return 1;
/* 	else
	{
		return DeletePVar(playerid,"Logged"); 
	} */
}

public OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid,
 Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)
{
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = fOffsetX;
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = fOffsetY;
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = fOffsetZ;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = fRotX;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = fRotY;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = fRotZ;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = fScaleX;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = fScaleY;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = fScaleZ;

	ShowMainAttachEditMenu(playerid);

	SetPlayerAttachedObject(playerid, index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);

	return 1;
}

public OnPlayerEditDynamicObject(playerid, objectid, response, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz)
{
	new Float:oldX, Float:oldY, Float:oldZ,
	Float:oldRotX, Float:oldRotY, Float:oldRotZ;
	GetDynamicObjectPos(objectid, oldX, oldY, oldZ);
	GetDynamicObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
 	//if(!IsValidDynamicObject(objectid)) return 0;
 	//MoveDynamicObject(objectid, x12, y12, z12, 10.0, rx12, ry12, rz12);
	if(response == EDIT_RESPONSE_FINAL)
	{
		EDITOR_OBJECT[objectid][OBJ_X] = x;
		EDITOR_OBJECT[objectid][OBJ_Y] = y;
		EDITOR_OBJECT[objectid][OBJ_Z] = z;
		EDITOR_OBJECT[objectid][OBJ_RX] = rx;
		EDITOR_OBJECT[objectid][OBJ_RY] = ry;
		EDITOR_OBJECT[objectid][OBJ_RZ] = rz;
		SetDynamicObjectPos(objectid,x,y,z);
		SetDynamicObjectRot(objectid,rx,ry,rz);
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `X`='%f', `Y`='%f', `Z`='%f', `RX`='%f', `RY`='%f', `RZ`='%f' WHERE `ID`=%d",
		EDITOR_OBJECT[objectid][OBJ_X],
		EDITOR_OBJECT[objectid][OBJ_Y],
		EDITOR_OBJECT[objectid][OBJ_Z],
		EDITOR_OBJECT[objectid][OBJ_RX],
		EDITOR_OBJECT[objectid][OBJ_RY],
		EDITOR_OBJECT[objectid][OBJ_RZ],
		EDITOR_OBJECT[objectid][OBJ_DB_ID]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
	}
	if(response == EDIT_RESPONSE_CANCEL)
	{
		SetDynamicObjectPos(objectid, oldX, oldY, oldZ);
		SetDynamicObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
	}
	return 1;
}

public OnPlayerSelectDynamicObject(playerid, objectid, modelid, Float:x, Float:y, Float:z)
{ 
	new textdmess[64];
	format(textdmess, sizeof(textdmess),"~w~Model: ~y~%i  ~w~InternalID: ~y~%i", modelid,objectid); 
	SendTexdrawMessage(playerid, textdmess);
	if(EDITOR_OBJECT[objectid][OBJ_MODEL] != 0)
	{
		EDIT_OBJECT_ID[playerid] = objectid;
		SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	if(PlayerInfo[playerid][pAdmin] >= 3) // dirtyhack allow admins edit all objects
	{
		EDIT_OBJECT_ID[playerid] = objectid;
		SPD(playerid,DIALOG_EOMAIN,DIALOG_STYLE_LIST,"Редактор объектов",EoMainLst,"Далее","Закрыть");
	}
	else 
	{
		SelectObject(playerid);
		new sobjectid = GetPVarInt(playerid, "SelectedObject");
		new smodelid = GetPVarInt(playerid, "ModelID");
		new ObjInfoStr[128];
		new Float:sx, Float:sy, Float:sz;
		GetDynamicObjectPos(objectid, sx, sy, sz);
		format(ObjInfoStr, sizeof(ObjInfoStr), "{FFFFFF}ID объекта: {FFD700}%i \n{FFFFFF}Тип объекта: {FFD700}%i\n{FFFFFF}Позиция - {FFD700}x:%f y:%f z:%f", sobjectid, smodelid, sx ,sy ,sz);
		SPD(playerid, DIALOG_OBJINFO, DIALOG_STYLE_MSGBOX, "Об статическом объекте", ObjInfoStr,"Назад","");
		return SPD(playerid,DIALOG_OBJINFO,DIALOG_STYLE_MSGBOX,"Об объекте",ObjInfoStr,"Ок","");
	}
	return 1;
}

public DB_LoadObjects()
{
	new DBResult:EDITOR_RESULT,IDX;
	EDITOR_RESULT = db_query(EDITOR_DATABASE,  "SELECT * FROM `OBJECTS`");
	if(db_num_rows(EDITOR_RESULT) > 0) // Logged In
	{
		new EDITOR_VALEU[26][11],id;
		for (new x=0; x<db_num_rows(EDITOR_RESULT); x++)
		{
			IDX = 0;
			db_get_field_assoc(EDITOR_RESULT, "ID", EDITOR_VALEU[IDX], 26),IDX++;
			db_get_field_assoc(EDITOR_RESULT, "MODEL", EDITOR_VALEU[IDX], 26),IDX++;
			db_get_field_assoc(EDITOR_RESULT, "X", EDITOR_VALEU[IDX],26),IDX++;
			db_get_field_assoc(EDITOR_RESULT, "Y", EDITOR_VALEU[IDX],26),IDX++;
			db_get_field_assoc(EDITOR_RESULT, "Z", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "RX", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "RY", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "RZ", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "VW", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "INT", EDITOR_VALEU[IDX],26),IDX++;
			//db_get_field_assoc(EDITOR_RESULT, "DISTANCE", EDITOR_VALEU[IDX],26);
			//CreateDynamicObject(modelid, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz, worldid = -1, interiorid = -1, playerid = -1, Float:streamdistance = STREAMER_OBJECT_SD, Float:drawdistance = STREAMER_OBJECT_DD, areaid = -1, priority = 0)
			//id = CreateDynamicObject(strval(EDITOR_VALEU[1]), floatstr( EDITOR_VALEU[2]),floatstr(EDITOR_VALEU[3]),floatstr(EDITOR_VALEU[4]), floatstr( EDITOR_VALEU[5]),floatstr(EDITOR_VALEU[6]),floatstr(EDITOR_VALEU[7]), strval(EDITOR_VALEU[8]), strval(EDITOR_VALEU[9]),-1, floatstr(EDITOR_VALEU[10]));
			id = CreateDynamicObject(strval(EDITOR_VALEU[1]), floatstr( EDITOR_VALEU[2]),floatstr(EDITOR_VALEU[3]),floatstr(EDITOR_VALEU[4]), 0,0,0, 0, -1);

			if(id > DEF_MAX_OBJECTS)
			{
				SendAdminMessage(COLOR_ADM,"[editor] Ошибка при загрузке объекта, лимит объектов исчерпан!");
				return 1;
			}

			EDITOR_OBJECT[id][OBJ_DB_ID] = strval(EDITOR_VALEU[0]);
			EDITOR_OBJECT[id][OBJ_MODEL] = strval(EDITOR_VALEU[1]);
			EDITOR_OBJECT[id][OBJ_X] = floatstr(EDITOR_VALEU[2]);
			EDITOR_OBJECT[id][OBJ_Y] = floatstr(EDITOR_VALEU[3]);
			EDITOR_OBJECT[id][OBJ_Z] = floatstr(EDITOR_VALEU[4]);
			EDITOR_OBJECT[id][OBJ_RX] = floatstr(EDITOR_VALEU[5]);
			EDITOR_OBJECT[id][OBJ_RY] = floatstr(EDITOR_VALEU[6]);
			EDITOR_OBJECT[id][OBJ_RZ] = floatstr(EDITOR_VALEU[7]);
			EDITOR_OBJECT[id][OBJ_VW] = strval(EDITOR_VALEU[8]);
			EDITOR_OBJECT[id][OBJ_INTERIOR] = strval(EDITOR_VALEU[9]);
			EDITOR_OBJECT[id][OBJ_STREAM_DISTANCE] = floatstr(EDITOR_VALEU[10]);
			db_next_row(EDITOR_RESULT);
		}
	}
	new string[128];
	format(string,sizeof(string),"[editor] %d Объектов загружено.",db_num_rows(EDITOR_RESULT));
	printf(string);
	db_free_result(EDITOR_RESULT);
	return 1;
}

public OnPlayerSelectObject(playerid, type, objectid, modelid, Float:fX, Float:fY, Float:fZ)
{
	new mapmode = GetPVarInt(playerid, "MapMode");
	switch(mapmode)
	{
		case 2:
	    {
	        SetPVarInt(playerid, "SelectedObject", objectid);
			SetPVarInt(playerid, "ModelID", modelid);
			EditObject(playerid, objectid);
		}
		case 4:
		{
			SetPVarInt(playerid, "SelectedObject", objectid);
		    DestroyObject(objectid);
		}
	}
}

public OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	new Float:oldX, Float:oldY, Float:oldZ, Float:oldRotX, Float:oldRotY, Float:oldRotZ;
	GetObjectPos(objectid, oldX, oldY, oldZ);
	GetObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
	if(!playerobject) // If this is a global object, sync the position for other players
	{
	    if(!IsValidObject(objectid)) return 1;
	    SetObjectPos(objectid, fX, fY, fZ);		          
	    SetObjectRot(objectid, fRotX, fRotY, fRotZ);
		MoveObject(objectid, fX, fY, fZ, 10.0, fRotX, fRotY, fRotZ);
	}
	if(response == EDIT_RESPONSE_FINAL)
	{
		O[foX] = fX;
		O[foY] = fY;
		O[foZ] = fZ;
		O[roX] = fRotX;
		O[roY] = fRotY;
		O[roZ] = fRotZ;
		new string1[255], string2[128], File: objs;
		format(string2, sizeof(string2), "maps/test.txt");
		objs = fopen(string2, io_append);
		format(string1, sizeof(string1), "CreateObject(%d, %f,%f,%f, %f,%f,%f);\r\n", \
		GetPVarInt(playerid, "ModelID"), O[foX],O[foY],O[foZ], O[roX],O[roY],O[roZ]);
		fwrite(objs, string1);
		fclose(objs);
		SelectObject(playerid);
	}
	// raise bugs fix later
	/* 	if(response == EDIT_RESPONSE_CANCEL)
	{
		//The player cancelled, so put the object back to it's old position
		if(!playerobject) //Object is not a playerobject
		{
			SetObjectPos(objectid, oldX, oldY, oldZ);
			SetObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
			MoveObject(objectid, oldX, oldY, oldZ, 10.0, oldRotX, oldRotY, oldRotZ);
		}
		else
		{
			SetPlayerObjectPos(playerid, objectid, oldX, oldY, oldZ);
			SetPlayerObjectRot(playerid, objectid, oldRotX, oldRotY, oldRotZ);
		}
	} */
	return 1;
}

stock Float:GetDistanceBetweenPoints(Float:x1, Float:y1, Float:z1, Float:x2, Float:y2, Float:z2)
{
    return VectorSize(x1-x2, y1-y2, z1-z2);
}

stock DynamicObjectParams(playerid)
{
	new modelid, objectid;
	new Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz;// object pos and rot
	new Float:px, Float:py, Float:pz, Float:dist; //player pos
	//new Float:ox, Float:oy, Float:oz; // offsets
	objectid = EDIT_OBJECT_ID[playerid];
	modelid = Streamer_GetIntData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_MODEL_ID);
	//materialindex = 1;
	//if(IsDynamicObjectMaterialUsed(objectid, materialindex)){
		//new txdname[64], texturename[64], materialcolor, maxtxdname = sizeof(txdname), maxtexturename = sizeof(texturename);
		//new material = GetDynamicObjectMaterial(objectid, materialindex, modelid, txdname[], texturename[], materialcolor, maxtxdname, maxtexturename); 
	//}
	GetDynamicObjectPos(objectid, x, y, z);
	GetDynamicObjectRot(objectid, rx, ry, rz);
	GetPlayerPos(playerid, px, py, pz);
	dist = GetDistanceBetweenPoints(px, py, pz, x, y, z);
	new clo_object = GetClosestDynamicObject(playerid);
	//new clo_objectid = Streamer_GetItemInternalID(playerid, STREAMER_TYPE_OBJECT, pickupid); //ID:{FFD700}%d
	//IsDynamicObjectMaterialTextUsed(objectid, 0)
	//new text[256], fontface[256];
	//new materialsize, fontsize, bold, fontcolor, backcolor, textalignment;
	//GetDynamicObjectMaterialText(objectid, 0, text[], &materialsize, fontface[], &fontsize, &bold, &fontcolor, &backcolor, &textalignment, maxtext = sizeof text, maxfontface = sizeof fontface);
	new ObjInfoStr[550];
	format(ObjInfoStr, sizeof(ObjInfoStr),
	"{FFFFFF}ID объекта: {FFD700}%i \n{FFFFFF}Тип объекта: {FFD700}%i\n\n"\
	"{FFFFFF}Позиция - {FFD700}X:%f Y:%f Z:%f\n"\
	"{FFFFFF}Rotation - {FFD700}rX:%.2f rY:%.2f rZ:%.2f\n"\
	"{FFFFFF}Расстояние до объекта: {FFD700}%.2f m\n"\
	"{FFFFFF}Мир: {FFD700}%i {FFFFFF}Интерьер: {FFD700}%i\n"\
	"\n{FFFFFF}Ближайший тип объекта к игроку: {FFD700}%i{FFFFFF} id: {FFD700}%i\n",
	objectid, modelid, x,y,z, rx,ry,rz, dist, Streamer_GetIntData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_WORLD_ID), Streamer_GetIntData(STREAMER_TYPE_OBJECT, objectid, E_STREAMER_INTERIOR_ID), Streamer_GetIntData(STREAMER_TYPE_OBJECT, clo_object, E_STREAMER_MODEL_ID),clo_object);	
	return SPD(playerid, DIALOG_OBJINFO, DIALOG_STYLE_MSGBOX, "{FFD700}[OBJECT INFO]", ObjInfoStr,"Назад","");
}

public ProxDetector(Float:radi, playerid, string[],col1,col2,col3,col4,col5)
{
    if(IsPlayerConnected(playerid))
    {
        new Float:posx, Float:posy, Float:posz;
        new Float:oldposx, Float:oldposy, Float:oldposz;
        new Float:tempposx, Float:tempposy, Float:tempposz;
        GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		new PlayersNearPlayer = 0;
		new SendMessIds[MAX_PLAYERS];
        foreach(Player, i)
		{
            if(IsPlayerConnected(i) && (GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i)) && GetPlayerInterior(playerid) == GetPlayerInterior(i) && playerid != i)
            {
                GetPlayerPos(i, posx, posy, posz);
                tempposx = (oldposx -posx);
                tempposy = (oldposy -posy);
                tempposz = (oldposz -posz);
                if (((tempposx < radi/16) && (tempposx > -radi/16)) && ((tempposy < radi/16) && (tempposy > -radi/16)) && ((tempposz < radi/16) && (tempposz > -radi/16))) // If the player is within 16 meters
                {
                   // SendClientMessage(i, col1, string);
					PlayersNearPlayer++;
					SendMessIds[i] = 1;
                }
                else if (((tempposx < radi/8) && (tempposx > -radi/8)) && ((tempposy < radi/8) && (tempposy > -radi/8)) && ((tempposz < radi/8) && (tempposz > -radi/8))) // within 8 meters
                {
                   // SendClientMessage(i, col2, string);
					PlayersNearPlayer++;
					SendMessIds[i] = 1;
                }
                else if (((tempposx < radi/4) && (tempposx > -radi/4)) && ((tempposy < radi/4) && (tempposy > -radi/4)) && ((tempposz < radi/4) && (tempposz > -radi/4))) //4 meters
                {
                    //SendClientMessage(i, col3, string);
					PlayersNearPlayer++;
					SendMessIds[i] = 1;
                }
                else if (((tempposx < radi/2) && (tempposx > -radi/2)) && ((tempposy < radi/2) && (tempposy > -radi/2)) && ((tempposz < radi/2) && (tempposz > -radi/2))) //2 meters
                {
                    //SendClientMessage(i, col4, string);
					PlayersNearPlayer++;
					SendMessIds[i] = 1;
                }
                else if (((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi))) //1 meter
                {
                    //SendClientMessage(i, col5, string);
					PlayersNearPlayer++;
					SendMessIds[i] = 1;
                }
            }
            else
            {
                //SendClientMessage(i, col1, string);
				PlayersNearPlayer++;
            }
        }
		if(PlayersNearPlayer >= 2)
		{
			SendClientMessage(playerid, col5, string);
			for (new x = 0; x < MAX_PLAYERS; x++)
			{
				if(SendMessIds[x] > 0 )SendClientMessage(x, col5, string);
			}
			SetPlayerChatBubble(playerid, string, COLOR_RADIUSCHAT, 20.0, 15000);
			if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
			{ 
				ApplyAnimation(playerid,"PED","IDLE_chat",4.1,0,1,1,1,1);
				SetTimerEx("ClearAnimations", 1400, 0, "d", playerid);
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_RADIUSCHAT, "Рядом никого нет. Используй * перед текстом для записи в глобальный чат");
		}
    }
    return 1;
}

public CAC_OnGameResourceMismatch(player_id, model_id, component_type, checksum)
{
	new buf[128];
    if(model_id == CAC_GAMERESOURCE_MODELID__PEDIFP)
    {
        format(buf, sizeof(buf), "Игрок %s[%i] использует модифицированный PED.IFP", PlayerName(player_id), player_id);
        SendAdminMessage(COLOR_ADM, buf);
    }
	if(component_type == CAC_GAMERESOURCE_COMPONENTTYPE__ANIM)
    {
        format(buf, sizeof(buf), "Игрок %s[%i] использует модифицированные анимки", PlayerName(player_id), player_id);
        SendAdminMessage(COLOR_ADM, buf);
    }
    return 1;
}

public CAC_OnCheatDetect(player_id, cheat_id, opt1, opt2)
{
	// NOTE: Do not change player_id to playerid, such an announcement is made purposefully.
	new kick_string[128], reason[28];
	switch(cheat_id){
		case 0,1:{ //AIMBOT
			format(reason, sizeof(reason), "aimbot");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);
		}
		case 2,3:{//TRIGGER BOT
			format(reason, sizeof(reason), "triggerbot");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);			
		}
		case 4: return 1; // nametag ESP (Spectrator)
		case 5: return 1; // general ESP
		// NOTE: some recording softwares (eg: Fraps) are detected as macros on injection, so you shouldn't take action immediately for this cheat
		case 6: return 1; // macro/keybinder
		case 7:{//FAKE PING
			format(reason, sizeof(reason), "fakeping");
			format(kick_string, sizeof(kick_string), "Обратите внимание на %s, CAC системой обнаружен: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
		}
		case 8:{//WEAPON.DAT MODIFICATION
			format(reason, sizeof(reason), "weapon.dat");
			format(kick_string, sizeof(kick_string), "Обратите внимание на %s, CAC системой обнаружен измененный: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
		}
		case 9,10:{//NORECOIL
			format(reason, sizeof(reason), "norecoil");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);
		}
		case 11,12:{//AIMBOT
			format(reason, sizeof(reason), "aimbot");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);
		}
		case 13:{//CLEO.asi
			format(reason, sizeof(reason), "cleo.asi");
			format(kick_string, sizeof(kick_string), "Обратите внимание на %s, CAC системой обнаружен: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
		}
		case 14,15:{//aim
			format(reason, sizeof(reason), "aimbot");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);
		}
		case 16:{ //norecoil
			format(reason, sizeof(reason), "norecoil");
			format(kick_string, sizeof(kick_string), "Игрок %s был автоматически кикнут CAC системой, причина: %s", PlayerName(player_id), reason);
			SendAdminMessage(COLOR_ADM, kick_string);
			AdmLog(kick_string);
			Kick(player_id);
		}
	}
	return 1;
}

// ---------------------- [STOCKS] -----------------------
stock SetPlayerWeapon(playerid, type)
{
	// use it: 
	// SetPlayerWeapon(playerid, 0); // take away weapons
	// SetPlayerWeapon(playerid, 1); // give back weapons
	switch(type) {
		case 0: { // забрать оружие
			for (new i = 0; i < 13; i++) {
				GetPlayerWeaponData(playerid, i, WeaponData[playerid][i][0], WeaponData[playerid][i][1]);
			}
			ResetPlayerWeapons(playerid); 
			SendClientMessage(playerid, COLOR_YELLOW, "Ваше оружие забрано."); 
			return 1;
		}
		case 1: { // вернуть оружие
			for (new i = 0; i < 13; i++) {
				if(WeaponData[playerid][i][0] == 0 || WeaponData[playerid][i][1] == 0) continue; 
				GivePlayerWeapon(playerid, WeaponData[playerid][i][0], WeaponData[playerid][i][1]);
				WeaponData[playerid][i][0] = 0; 
				WeaponData[playerid][i][1] = 0; 
			}
			SetPlayerArmedWeapon(playerid, 0); 
			SendClientMessage(playerid, COLOR_YELLOW, "Ваше оружие возвращено."); 
			return 1;
		}
	}
	return 0;
}
// Attach editor
ShowMainAttachEditMenu(playerid)
{
	new string[257];

	format(string, sizeof(string),
		"Индекс (%d)\n\
		Объект (%d)\n\
		Кость (%d)\n\
		X-позиция (%.4f)\n\
		Y-позиция (%.4f)\n\
		Z-позиция (%.4f)\n\
		X-вращение (%.4f)\n\
		Y-вращение (%.4f)\n\
		Z-вращение (%.4f)\n\
		X-масштаб (%.4f)\n\
		Y-масштаб (%.4f)\n\
		Z-масштаб (%.4f)\n\
		Редактировать\n\
		Очистить этот индекс\n\
		Сохранить",
		gCurrentAttachIndex[playerid],
		gIndexModel[playerid][gCurrentAttachIndex[playerid]],
		gIndexBone[playerid][gCurrentAttachIndex[playerid]],
		gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
		gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
		gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
		gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
		gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
		gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
		gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
		gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
		gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z]);

	ShowPlayerDialog(playerid, DIALOG_PLAYERATTACHMAIN, DIALOG_STYLE_LIST, "Редактор прикрепления / Главное меню", string, "Приянть", "Отмена");

	gEditingAttachments[playerid] = true;
}

ShowIndexList(playerid)
{
	new string[512];

	for(new i; i < MAX_PLAYER_ATTACHED_OBJECTS; i++)
	{
		if(IsPlayerAttachedObjectSlotUsed(playerid, i))
		{
			if(gIndexUsed[playerid][i]) format(string, sizeof(string), "%sСлот %d (%s - %d)\n", string, i, AttachmentBones[gIndexBone[playerid][i]], gIndexModel[playerid][i]);
			else format(string, sizeof(string), "%sСлот %d (Внешний)\n", string, i);
		}
		else format(string, sizeof(string), "%sСлот %d\n", string, i);
	}

	ShowPlayerDialog(playerid, DIALOG_ATPINDEX_SELECT, DIALOG_STYLE_LIST, "Редактор прикрепления / Индех", string, "Приянть", "Отмена");
}

ShowModelInput(playerid)
{
	ShowPlayerDialog(playerid, DIALOG_ATPMODEL_SELECT, DIALOG_STYLE_INPUT, "Редактор прикрепления / Объект", "Введите объект для прикрепления", "Приянть", "Отмена");
}

ShowBoneList(playerid)
{
	new string[512];

	for(new i; i < sizeof(AttachmentBones); i++) format(string, sizeof(string), "%s%s\n", string, AttachmentBones[i]);
	ShowPlayerDialog(playerid, DIALOG_ATPBONE_SELECT, DIALOG_STYLE_LIST, "Редактор прикрепления / Кость", string, "Приянть", "Отмена");
}

EditAttachCoord(playerid, coord)
{
	gCurrentAxisEdit[playerid] = coord;
	ShowPlayerDialog(playerid, DIALOG_ATPCOORD_INPUT, DIALOG_STYLE_INPUT, "Редактор прикрепления / Смещение", "Введите float-точку для смещения:", "Приянть", "Отмена");
}

EditAttachment(playerid)
{
	SetPlayerAttachedObject(playerid,
	gCurrentAttachIndex[playerid],
	gIndexModel[playerid][gCurrentAttachIndex[playerid]],
	gIndexBone[playerid][gCurrentAttachIndex[playerid]],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z]);

	EditAttachedObject(playerid, gCurrentAttachIndex[playerid]);

	gIndexUsed[playerid][gCurrentAttachIndex[playerid]] = true;
}

ClearCurrentIndex(playerid)
{
	gIndexModel[playerid][gCurrentAttachIndex[playerid]] = 0;
	gIndexBone[playerid][gCurrentAttachIndex[playerid]] = 1;
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = 0.0;
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = 0.0;
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = 0.0;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = 0.0;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = 0.0;
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = 0.0;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X] = 0.0;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y] = 0.0;
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z] = 0.0;
	gIndexUsed[playerid][gCurrentAttachIndex[playerid]] = false;

	RemovePlayerAttachedObject(playerid, gCurrentAttachIndex[playerid]);
	ShowMainAttachEditMenu(playerid);
}

SaveAttachedObjects(playerid)
{
	new str[256], File:file;
	if(!fexist("maps/Attachments.txt")) file = fopen("maps/Attachments.txt", io_write);
	else file = fopen("maps/Attachments.txt", io_append);

	if(!file)
	{
		SendClientMessage(playerid, COLOR_YELLOW, "Ошибка открытия файла maps/Attachments.txt");
		return 0;
	}

	format(str, 256, "SetPlayerAttachedObject(playerid, %d, %d, %d,  %f, %f, %f,  %f, %f, %f,  %f, %f, %f); // %d\r\n",
	gCurrentAttachIndex[playerid],
	gIndexModel[playerid][gCurrentAttachIndex[playerid]],
	gIndexBone[playerid][gCurrentAttachIndex[playerid]],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexPos[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexRot[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_X],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Y],
	gIndexSca[playerid][gCurrentAttachIndex[playerid]][ATPCOORD_Z],
	GetPlayerSkin(playerid));
	
	fwrite(file, str);
	fclose(file);

	ShowMainAttachEditMenu(playerid);

	return 1;
}
// END attach objects editor
stock IsWeaponWithAmmo(weaponid)
{
    switch(weaponid)
    {
        
        case 16..18, 22..39, 41..42: return 1;
        default: return 0;
    }
    return 0;

}

stock insert_sort(array[], const size = sizeof(array))
{
	// Quick sort by ZiGGi. Example :
	// new array[] = { -541, 54, 689, 12, 3, 0, 3, 55, 66, -541, 5468484, -564, 1554, 1656 };
	// insert_sort(array);
	// for(new i; i != sizeof(array); ++i)
	// {
	//	 printf("%d", array[i]);
	// }
	for(new i = 1, j, key; i < size; i++)
	{
		key = array[i];
		for(j = i - 1; j >= 0 && array[j] > key; j--)
		{
			array[j + 1] = array[j];
		}
		array[j + 1] = key;
	}
}

stock GetPlayerWeaponAmmo(playerid,weaponid)
{
    new wd[2][13];
    for(new i; i<13; i++) GetPlayerWeaponData(playerid,i,wd[0][i],wd[1][i]);
    for(new i; i<13; i++)
    {
        
        if(weaponid == wd[0][i]) return wd[1][i];
    }
    return 0;
}

stock SpecialZone(playerid)
{
	if(dmzone[playerid] > 0 || tdmzone[playerid] > 0 ||
	trainingzone[playerid] > 0 || warzone[playerid] > 0 ||
	cszone[playerid] > 0 || survzone[playerid] > 0 || 
	cwzone[playerid] > 0) return 1;
	else return 0;
}

stock Spawnkill(playerid, force_protection=0)
{
	// force_protection - is used in places where you need to force protection
	// default protection only on special zones
	if(force_protection == 0)
	{
		if(SpecialZone(playerid) && survzone[playerid] == 0){
			new Float:sHeal, Float:sArm;
			SetPlayerChatBubble(playerid, "Antispawnkill", 0xFF0000AA, 50.0, 5000);
			GetPlayerHealth(playerid, sHeal);
			GetPlayerArmour(playerid, sArm);
			SetPlayerHealth(playerid, 0x7F800000);
			//SetTimerEx("RestoreHealth", 5000, 0, "dff", playerid, sHeal, sArm);
			SetTimerEx("RestoreHealth", 5000, 0, "d", playerid);
		}
	}
	else
	{
		if(dmzone[playerid] == 9 || dmzone[playerid] == 10) return 0;
		new Float:sHeal, Float:sArm;
		SetPlayerChatBubble(playerid, "Antispawnkill", 0xFF0000AA, 50.0, 5000);
		GetPlayerHealth(playerid, sHeal);
		GetPlayerArmour(playerid, sArm);
		SetPlayerHealth(playerid, 0x7F800000);
		//SetTimerEx("RestoreHealth", 5000, 0, "dff", playerid, sHeal, sArm);
		SetTimerEx("RestoreHealth", 5000, 0, "d", playerid);
	}
	return 1;
}

stock GetNumberOfPlayersOnThisIP(test_ip[])
{
	// GetNumberOfPlayersOnThisIP
	// Returns the number of players connecting from the
	// provided IP address
	new against_ip[32+1];
	new x = 0;
	new ip_count = 0;
	for(x=0; x<MAX_PLAYERS; x++) {
		if(IsPlayerConnected(x)) {
		    GetPlayerIp(x,against_ip,32);
		    if(!strcmp(against_ip,test_ip)) ip_count++;
		}
	}
	return ip_count;
}

stock SendAdminMessage(color,const strin[])
{
	foreach(Player, i) 
	{
		if(IsPlayerConnected(i))
		{
			if(PlayerInfo[i][pAdmin] > 0)
			{
				SendClientMessage(i, color, strin); 
				printf("%s", strin); 
			}
		}
	}
	return true;  
}

stock AdmLog(string[], logmode = 0)
{
    new entry[256], day, mes, god, hour, minn, sec;
	getdate(god, mes, day);
	gettime(hour, minn, sec);
	new File:hFile;
	format(entry, sizeof(entry), "%d.%d.%d %d:%d:%d. %s\r\n",day, mes, god, hour, minn, sec, string);
	switch(logmode)
	{
		case 0: {hFile = fopen("logs/admin.log", io_append);}
		case 1: {hFile = fopen("logs/changenickname.log", io_append);}
		case 2: {hFile = fopen("logs/reports.log", io_append);}
	}
	for(new io=0; io<strlen(entry); io++) {
		fputchar(hFile, entry[io], false);
	}
	fclose(hFile);
}

stock ReportsLog(string[])
{
    new entry[256], day, mes, god, hour, minn, sec;
	getdate(god, mes, day);
	gettime(hour, minn, sec);
	format(entry, sizeof(entry), "%d.%d.%d %d:%d:%d. %s\r\n",day, mes, god, hour, minn, sec, string);
	new File:hFile = fopen("logs/reports.log", io_append);
	for(new io=0; io<strlen(entry); io++) {
		fputchar(hFile, entry[io], false);
	}
	fclose(hFile);
}

stock SelectMaterialIndex(playerid, index, objectid, slot = 0)
{
	// Change MAX_MATERIAL_INDEX before add new materials
	// Materiallib
	switch(index)
	{
		case 0: {
			SendTexdrawMessage(playerid, "~w~material index: 0");
			SetDynamicObjectMaterial(objectid, slot, 2803, "invalid", "invalid", 0);
		}
		case 1: SetDynamicObjectMaterial(objectid, slot, 19129, "dancefloors", "DanceFloor1", 0); 
		case 2: SetDynamicObjectMaterial(objectid, slot, 3922, "bistro", "mp_snow", 0);
		case 3: SetDynamicObjectMaterial(objectid, slot, 3083, "billbox", "ADDWOOD", 0);
		case 4: SetDynamicObjectMaterial(objectid, slot, 18808, "MatTextures", "bluefoil",0);
		case 5: SetDynamicObjectMaterial(objectid, slot, 3083, "billbox", "iron",0);
		case 6: SetDynamicObjectMaterial(objectid, slot, 3922, "bistro", "DinerFloor", 0);
		case 7: SetDynamicObjectMaterial(objectid, slot, 19005, "MatRamps", "knot_wood128", 0);
		case 8: SetDynamicObjectMaterial(objectid, slot, 3967, "cj_airprt", "gun_ceiling3", 0);
		case 9: SetDynamicObjectMaterial(objectid, slot, 16230, "des_se1", "des_ranchwall1", 0);
		case 10: SetDynamicObjectMaterial(objectid, slot, 3967, "cj_airprt", "Slabs", 0);
		case 11: SetDynamicObjectMaterial(objectid, slot, 3922, "bistro", "barbersflr1_LA", 0);
		case 12: SetDynamicObjectMaterial(objectid, slot, 3099, "col_wall1x", "motel_wall4", 0);
		case 13: SetDynamicObjectMaterial(objectid, slot, 2951, "a51_labdoor", "ws_carparkwall2", 0);
		case 14: SetDynamicObjectMaterial(objectid, slot, 16004, "des_teepee", "des_wigwamdoor", 0);
		case 15: SetDynamicObjectMaterial(objectid, slot, 16005, "des_stownmain2", "crencouwall1", 0);
		case 16: SetDynamicObjectMaterial(objectid, slot, 18777, "TunnelSections", "stonewall4", 0);
		case 17: SetDynamicObjectMaterial(objectid, slot, 19341, "egg_texts", "easter_egg02", 0);
		case 18: SetDynamicObjectMaterial(objectid, slot, 14668, "711c", "forumstand1_LAe", 0);
		case 19: SetDynamicObjectMaterial(objectid, slot, 10101, "2notherbuildsfe", "Bow_Abpave_Gen", 0);
		case 20: SetDynamicObjectMaterial(objectid, slot, 16093, "a51_ext", "des_dirt1", 0);
		case 21: SetDynamicObjectMaterial(objectid, slot, 16093, "a51_ext", "des_dirttrack1", 0);
		case 22: SetDynamicObjectMaterial(objectid, slot, 16093, "a51_ext", "des_elepylon", 0);
		case 23: SetDynamicObjectMaterial(objectid, slot, 13691, "bevcunto2_lahills", "adeta",0);
		case 24: SetDynamicObjectMaterial(objectid, slot, 14584, "ab_abbatoir01", "cj_sheetmetal", 0);
		case 25: SetDynamicObjectMaterial(objectid, slot, 14651, "ab_trukstpd", "Bow_bar_tabletop_wood", 0);
		case 26: SetDynamicObjectMaterial(objectid, slot, 16640, "a51", "concretemanky", 0);
		case 27: SetDynamicObjectMaterial(objectid, slot, 9549, "beachbx_sfw", "cst_rock_coast_sfw", 0);
		case 28: SetDynamicObjectMaterial(objectid, slot, 19267, "mapmarkers", "red-2", 0);
		case 29: SetDynamicObjectMaterial(objectid, slot, 3083, "billbox", "iron", 0);
		case 30: SetDynamicObjectMaterial(objectid, slot, 3906, "libertyhi5", "wallbrown02_64HV", 0);
		case 31: SetDynamicObjectMaterial(objectid, slot, 4562, "plaza1_lan2", "sl_concretewall1", 0);
		case 32: SetDynamicObjectMaterial(objectid, slot, 19379, "all_walls", "mp_shop_floor2", 0);
		case 33: SetDynamicObjectMaterial(objectid, slot, 18845, "MickyTextures", "yello007", 0);
		case 34: SetDynamicObjectMaterial(objectid, slot, 3922, "bistro", "Marble", 0);
		case 35: SetDynamicObjectMaterial(objectid, slot, 3925, "weemap", "des_sherrifwall1", 0);
		case 36: SetDynamicObjectMaterial(objectid, slot, 8214, "vgsshiways", "BLOCK", 0);
		case 37: SetDynamicObjectMaterial(objectid, slot, 3961, "lee_kitch", "rack", 0);
		case 38: SetDynamicObjectMaterial(objectid, slot, 19400, "all_walls", "gym_floor5", 0);
		case 39: SetDynamicObjectMaterial(objectid, slot, 7458, "vgwestland", "greyground256128", 0);
		case 40: SetDynamicObjectMaterial(objectid, slot, 19176, "skyscrapelan2", "dts_elevator_woodpanel", 0);
		case 41: SetDynamicObjectMaterial(objectid, slot, 19070, "WSSections", "rockbrown1", 0);
		case 42: SetDynamicObjectMaterial(objectid, slot, 3095, "a51jdrx", "sam_camo", 0);
		case 43: SetDynamicObjectMaterial(objectid, slot, 18771, "MatStairs", "hazardwall2", 0);
		case 44: SetDynamicObjectMaterial(objectid, slot, 19054, "XmasBoxes", "wrappingpaper20", 0);
		case 45: SetDynamicObjectMaterial(objectid, slot, 10101, "2notherbuildsfe", "ferry_build14", 0);
		case 46: SetDynamicObjectMaterial(objectid, slot, 12866, "ce_ground07", "desgrassbrn", 0);
		case 47: SetDynamicObjectMaterial(objectid, slot, 17075, "cuntwlandwest", "des_dirtgrassmixc", 0);
		case 48: SetDynamicObjectMaterial(objectid, slot, 14548, "ab_cargo_int", "metal_frame", 0);
		case 49: SetDynamicObjectMaterial(objectid, slot, 10385, "baseballground_sfs", "ws_baseballdirt", 0);
		case 50: SetDynamicObjectMaterial(objectid, slot, 6312, "beacliff_law2", "sm_rock2_desert", 0);
		case 51: SetDynamicObjectMaterial(objectid, slot, 18202, "w_towncs_t", "wall256hi",0);
		case 52: SetDynamicObjectMaterial(objectid, slot, 10789, "xenon_sfse", "block2_high",0);
		case 53: SetDynamicObjectMaterial(objectid, slot, 18202, "w_towncs_t", "pax256hi",0);
		case 54: SetDynamicObjectMaterial(objectid, slot, 10789, "xenon_sfse", "Alumox64",0);
		case 55: SetDynamicObjectMaterial(objectid, slot, 10789, "xenon_sfse", "ruffroadlas", 0);
		case 56: SetDynamicObjectMaterial(objectid, slot, 10789, "xenon_sfse", "slab64", 0);
		case 57: SetDynamicObjectMaterial(objectid, slot, 3673, "xrf_refineryla", "steel256128", 0);
		case 58: SetDynamicObjectMaterial(objectid, slot, 3673, "xrf_refineryla", "Metal1_128", 0);
		case 59: SetDynamicObjectMaterial(objectid, slot, 18265, "w_town3cs_t", "ws_rooftarmac1", 0);
		case 60: SetDynamicObjectMaterial(objectid, slot, 18265, "w_town3cs_t", "ws_redbrickold", 0);
		case 61: SetDynamicObjectMaterial(objectid, slot, 3925, "weemap", "steel128", 0);
		case 62: SetDynamicObjectMaterial(objectid, slot, 4891, "wiresetc_las", "ads003 copy", 0);
		case 63: SetDynamicObjectMaterial(objectid, slot, 13686, "cunte1_lahills", "block2_low", 0);
		case 64: SetDynamicObjectMaterial(objectid, slot, 4891, "wiresetc_las", "eris_1", 0);
		case 65: SetDynamicObjectMaterial(objectid, slot, 4891, "wiresetc_las", "SunBillB03", 0);
		case 66: SetDynamicObjectMaterial(objectid, slot, 5150, "wiresetc_las2", "cleargraf02_LA", 0);
		case 67: SetDynamicObjectMaterial(objectid, slot, 5134, "wasteland_las2", "mural05_LA", 0);
		case 68: SetDynamicObjectMaterial(objectid, slot, 3925, "weemap", "chevron_red_64HVa", 0);
		case 69: SetDynamicObjectMaterial(objectid, slot, 5174, "warehus_las2", "bobo_3", 0);
		case 70: SetDynamicObjectMaterial(objectid, slot, 8575, "vgsetrainstn", "alleywall3", 0);
		case 71: SetDynamicObjectMaterial(objectid, slot, 5150, "wiresetc_las2", "metpat64", 0);
		case 72: SetDynamicObjectMaterial(objectid, slot, 5150, "wiresetc_las2", "meetwalv2", 0);
		case 73: SetDynamicObjectMaterial(objectid, slot, 1219, "woodpanels", "planks01", 0);
		case 74: SetDynamicObjectMaterial(objectid, slot, 18229, "woodycs_t", "fence1", 0);
		case 75: SetDynamicObjectMaterial(objectid, slot, 1675, "wshxrefhse", "duskyblue_128", 0);
		case 76: SetDynamicObjectMaterial(objectid, slot, 1677, "wshxrefhse2", "cabin5", 0);
		case 77: SetDynamicObjectMaterial(objectid, slot, 1677, "wshxrefhse2", "tilestone256", 0);
		case 78: SetDynamicObjectMaterial(objectid, slot, 988, "ws_apgatex", "cj_sheetmetal", 0);
		case 79: SetDynamicObjectMaterial(objectid, slot, 18200, "w_town2cs_t", "dirtgrn128", 0);
		case 80: SetDynamicObjectMaterial(objectid, slot, 18200, "w_town2cs_t", "dogpillar_128", 0);
		case 81: SetDynamicObjectMaterial(objectid, slot, 18200, "w_town2cs_t", "newall3_16c128", 0);
		case 82: SetDynamicObjectMaterial(objectid, slot, 5174, "warehus_las2", "rufwaldock1", 0);
		case 83: SetDynamicObjectMaterial(objectid, slot, 5174, "warehus_las2", "sanpedock7", 0);
		case 84: SetDynamicObjectMaterial(objectid, slot, 5134, "wasteland_las2", "dirt64b2", 0);
		case 85: SetDynamicObjectMaterial(objectid, slot, 5134, "wasteland_las2", "floorboard256128", 0);
		case 86: SetDynamicObjectMaterial(objectid, slot, 5134, "wasteland_las2", "ws_bigstones", 0);
		case 87: SetDynamicObjectMaterial(objectid, slot, 8412, "wddngchpl", "vgsn_chplroof", 0);
		case 88: SetDynamicObjectMaterial(objectid, slot, 8675, "wddngchpl02", "shingles6", 0);
		case 89: SetDynamicObjectMaterial(objectid, slot, 8678, "wddngchplgrnd01", "Grass", 0);
		case 90: SetDynamicObjectMaterial(objectid, slot, 8678, "wddngchplgrnd01", "vgschapelwall01_128", 0);
		case 91: SetDynamicObjectMaterial(objectid, slot, 17298, "weefarmcuntw", "sjmbigold1", 0);
		case 92: SetDynamicObjectMaterial(objectid, slot, 3925, "weemap", "Bow_stained_wall", 0);
		case 93: SetDynamicObjectMaterial(objectid, slot, 8399, "vgs_shops", "vgsclubwall08_256", 0);
		case 94: SetDynamicObjectMaterial(objectid, slot, 9495, "vict_sfw", "Grass", 0);
		case 95: SetDynamicObjectMaterial(objectid, slot, 9495, "vict_sfw", "Grass_128HV", 0);
		case 96: SetDynamicObjectMaterial(objectid, slot, 8954, "vgsespras", "garage3b_sfw", 0);
		case 97: SetDynamicObjectMaterial(objectid, slot, 8401, "vgshpground", "ap_tarmac", 0);
		case 98: SetDynamicObjectMaterial(objectid, slot, 9169, "vgslowbuild", "marinawindow1_256", 0);
		case 99: SetDynamicObjectMaterial(objectid, slot, 8495, "vgsmall", "vgncarwash3_256", 0);
		case 100: SetDynamicObjectMaterial(objectid, slot, 8572, "vgssstairs1", "gridchev_64HV", 0);
		case 101: SetDynamicObjectMaterial(objectid, slot, 3988, "civic06_lan", "downtwin3", 0);
		case 102: SetDynamicObjectMaterial(objectid, slot, 3988, "civic06_lan", "downtwin5", 0);
		case 103: SetDynamicObjectMaterial(objectid, slot, 3988, "civic06_lan", "downtwin7", 0);
		case 104: SetDynamicObjectMaterial(objectid, slot, 3988, "civic06_lan", "pediments2", 0);
		case 105: SetDynamicObjectMaterial(objectid, slot, 3988, "civic06_lan", "casinobulb2_128", 0);
		case 106: SetDynamicObjectMaterial(objectid, slot, 3998, "civic04_lan", "sl_dtwn1win1", 0);
		case 107: SetDynamicObjectMaterial(objectid, slot, 4001, "civic03_lan", "ws_rottenwall", 0);
		case 108: SetDynamicObjectMaterial(objectid, slot, 4034, "civic02_lan", "kb_balcony_ferns", 0);
		case 109: SetDynamicObjectMaterial(objectid, slot, 3776, "ci_studio", "studioroof", 0);
		case 110: SetDynamicObjectMaterial(objectid, slot, 5706, "ci_studio5", "rustytank", 0);
		case 111: SetDynamicObjectMaterial(objectid, slot, 5706, "ci_studio5", "studiowall1", 0);
		case 112: SetDynamicObjectMaterial(objectid, slot, 10606, "cluckbell_sfs", "vgndwntwnrf1_256", 0);
		case 113: SetDynamicObjectMaterial(objectid, slot, 5706, "ci_studio5", "ci_entrwind1", 0);
		case 114: SetDynamicObjectMaterial(objectid, slot, 10606, "cluckbell_sfs", "ws_reinforcedbutwonky_small", 0);
		case 115: SetDynamicObjectMaterial(objectid, slot, 9902, "coastground", "coasty_bit4_sfe", 0);
		case 116: SetDynamicObjectMaterial(objectid, slot, 17562, "coast_apts", "yardgrass1", 0);
		case 117: SetDynamicObjectMaterial(objectid, slot, 12855, "cunte_cop", "sjmfrateblu2", 0);
		case 118: SetDynamicObjectMaterial(objectid, slot, 9593, "hosbibalsfw", "hospital8t_sfw", 0);
		case 119: SetDynamicObjectMaterial(objectid, slot, 10412, "hotel1", "gold128", 0);
		case 120: SetDynamicObjectMaterial(objectid, slot, 3583, "compapartb_la", "compcouwall3", 0);
		case 121: SetDynamicObjectMaterial(objectid, slot, 17862, "compomark_lae2", "grasstype7", 0);
		case 122: SetDynamicObjectMaterial(objectid, slot, 11389, "hubint1_sfse", "ws_STDcalendar", 0);
		case 123: SetDynamicObjectMaterial(objectid, slot, 3630, "compthotrans_la", "sjmlawarplt", 0);
		case 124: SetDynamicObjectMaterial(objectid, slot, 3630, "compthotrans_la", "sjmlawarplt3", 0);
		case 125: SetDynamicObjectMaterial(objectid, slot, 3241, "conhooses", "ws_corr_metal1", 0);
		case 126: SetDynamicObjectMaterial(objectid, slot, 17566, "contachou1_lae2", "comptwall27", 0);
		case 127: SetDynamicObjectMaterial(objectid, slot, 10028, "copshop_sfe", "dt_scyscrap_door2", 0);
		case 128: SetDynamicObjectMaterial(objectid, slot, 11395, "corvinsign_sfse", "rustb256128", 0);
		case 129: SetDynamicObjectMaterial(objectid, slot, 17934, "coochieghous", "comptwall16", 0);
		case 130: SetDynamicObjectMaterial(objectid, slot, 12844, "cos_liquorstore", "b_wtilesreflect", 0);
		case 131: SetDynamicObjectMaterial(objectid, slot, 12841, "cos_pizzaplace", "swimpoolside1_128", 0);
		case 132: SetDynamicObjectMaterial(objectid, slot, 12844, "cos_liquorstore", "cos_liqbots", 0);
		case 133: SetDynamicObjectMaterial(objectid, slot, 6487, "councl_law2", "rodeo3sjm", 0);
		case 134: SetDynamicObjectMaterial(objectid, slot, 6487, "councl_law2", "tarmacplain2_bank", 0);
		case 135: SetDynamicObjectMaterial(objectid, slot, 12909, "counte_b2", "sw_fence03", 0);
		case 136: SetDynamicObjectMaterial(objectid, slot, 3178, "counthousmisc", "shackdoor01", 0);
		case 137: SetDynamicObjectMaterial(objectid, slot, 10398, "countryclub_sfs", "hc_brickwall1", 0);
		case 138: SetDynamicObjectMaterial(objectid, slot, 17003, "countrys", "rustc256128", 0);
		case 139: SetDynamicObjectMaterial(objectid, slot, 3221, "country_breakable", "banding7_64HV", 0);
		case 140: SetDynamicObjectMaterial(objectid, slot, 10398, "countryclub_sfs", "hc_roofslates", 0);
		case 141: SetDynamicObjectMaterial(objectid, slot, 11013, "crackdrive_sfse", "dustyconcrete", 0);
		case 142: SetDynamicObjectMaterial(objectid, slot, 5855, "crates", "cheerybox03", 0);
		case 143: SetDynamicObjectMaterial(objectid, slot, 11391, "hubprops2_sfse", "toolwall1", 0);
		case 144: SetDynamicObjectMaterial(objectid, slot, 18364, "cs_scrapyard", "Was_scrpyd_ground_engblox", 0);
		case 145: SetDynamicObjectMaterial(objectid, slot, 5069, "ctscene_las", "cleargraf02_LA", 0);
		case 146: SetDynamicObjectMaterial(objectid, slot, 18561, "cs_wbridge", "des_byframe1", 0);
		case 147: SetDynamicObjectMaterial(objectid, slot, 3039, "ct_salx", "ct_stall1", 0);
		case 148: SetDynamicObjectMaterial(objectid, slot, 13131, "cunte_blockammo", "decoacwallbtm21_256", 0);
		case 149: SetDynamicObjectMaterial(objectid, slot, 13131, "cunte_blockammo", "mp_gun_targets", 0);
		case 150: SetDynamicObjectMaterial(objectid, slot, 13131, "cunte_blockammo", "sw_locals", 0);
		case 151: SetDynamicObjectMaterial(objectid, slot, 6487, "councl_law2", "stonewall2_la", 0);
		case 152: SetDynamicObjectMaterial(objectid, slot, 12855, "cunte_cop", "sw_PDground", 0);
		case 153: SetDynamicObjectMaterial(objectid, slot, 3306, "cunte_house1", "darkplanks1", 0);
		case 154: SetDynamicObjectMaterial(objectid, slot, 12853, "cunte_gas01", "cj_flag2", 0);
		case 155: SetDynamicObjectMaterial(objectid, slot, 3306, "cunte_house1", "woodwalllight2256", 0);
		case 156: SetDynamicObjectMaterial(objectid, slot, 17049, "cuntwf", "sw_vane01", 0);
		case 157: SetDynamicObjectMaterial(objectid, slot, 17049, "cuntwf", "sw_slate01", 0);
		case 158: SetDynamicObjectMaterial(objectid, slot, 17049, "cuntwf", "sw_barnwood5", 0);
		case 159: SetDynamicObjectMaterial(objectid, slot, 17101, "cuntwlandse", "des_crackeddirt1", 0);
		case 160: SetDynamicObjectMaterial(objectid, slot, 18233, "cuntwshopscs_t", "des_oldtinroof", 0);
		case 161: SetDynamicObjectMaterial(objectid, slot, 17067, "cw2_logcabins", "sw_cabinroof", 0);
		case 162: SetDynamicObjectMaterial(objectid, slot, 18250, "cw_junkbuildcs_t", "Was_scrpyd_fence_wd_stain", 0);
		case 163: SetDynamicObjectMaterial(objectid, slot, 18250, "cw_junkbuildcs_t", "Was_graffiti", 0);
		case 164: SetDynamicObjectMaterial(objectid, slot, 18250, "cw_junkbuildcs_t", "Was_scrpyd_switch", 0);
		case 165: SetDynamicObjectMaterial(objectid, slot, 18232, "cw_truckstopcs_t", "dinerwel", 0);
		case 166: SetDynamicObjectMaterial(objectid, slot, 10984, "demolished1_sfse", "ws_rubble1b", 0);
		case 167: SetDynamicObjectMaterial(objectid, slot, 16338, "dam_genroom", "ws_drain", 0);
		case 168: SetDynamicObjectMaterial(objectid, slot, 16110, "desert", "des_redrock1", 0);
		case 169: SetDynamicObjectMaterial(objectid, slot, 16398, "desn2_peckers", "tarp_law", 0);
		case 170: SetDynamicObjectMaterial(objectid, slot, 11464, "desn_trainstuff", "ws_traintrax1", 0);
		case 171: SetDynamicObjectMaterial(objectid, slot, 3303, "des_bighus", "sw_lattice", 0);
		case 172: SetDynamicObjectMaterial(objectid, slot, 16098, "des_boneyard", "roucghstone", 0);
		case 173: SetDynamicObjectMaterial(objectid, slot, 16377, "des_byofficeint", "hectics_text", 0);
		case 174: SetDynamicObjectMaterial(objectid, slot, 16102, "des_cen", "CJ-COUCHL2", 0);
		case 175: SetDynamicObjectMaterial(objectid, slot, 16102, "des_cen", "des_ripplsand", 0);
		case 176: SetDynamicObjectMaterial(objectid, slot, 16076, "des_quarrybits", "sm_crusher_rollers", 0);
		case 177: SetDynamicObjectMaterial(objectid, slot, 16328, "des_quarrycrane", "ws_oldpaintedyello_b", 0);
		case 178: SetDynamicObjectMaterial(objectid, slot, 11490, "des_ranch", "des_trellis", 0);
		case 179: SetDynamicObjectMaterial(objectid, slot, 16067, "des_stownmots1", "LAtranswall2", 0);
		case 180: SetDynamicObjectMaterial(objectid, slot, 16136, "des_telescopestuff", "stoneclad1", 0);
		case 181: SetDynamicObjectMaterial(objectid, slot, 5154, "dkcargoshp_las2", "cargodoor_128", 0);
		case 182: SetDynamicObjectMaterial(objectid, slot, 3595, "dingbat01_la", "mosaic1_LAwn", 0);
		case 183: SetDynamicObjectMaterial(objectid, slot, 5154, "dkcargoshp_las2", "boatside2_256", 0);
		case 184: SetDynamicObjectMaterial(objectid, slot, 5109, "docks_las2", "sjmndukwal3", 0);
		case 185: SetDynamicObjectMaterial(objectid, slot, 4887, "downtown_las", "decogranite_la", 0);
		case 186: SetDynamicObjectMaterial(objectid, slot, 4887, "downtown_las", "nwdwntwn5_LAS", 0);
		case 187: SetDynamicObjectMaterial(objectid, slot, 1217, "dynbarrels", "hotcoals_64HV", 0);
		case 188: SetDynamicObjectMaterial(objectid, slot, 1237, "dyncones", "Cone02_64", 0);
		case 189: SetDynamicObjectMaterial(objectid, slot, 1246, "icons", "skull", 0);
		case 190: SetDynamicObjectMaterial(objectid, slot, 13690, "lahillsla_roads", "crossing_law",0);
		case 191: SetDynamicObjectMaterial(objectid, slot, 4810, "griffobs_las", "Gen_Log_End", 0);
		case 192: SetDynamicObjectMaterial(objectid, slot, 9919, "grnwht_sfe", "vic01_LA", 0);
		case 193: SetDynamicObjectMaterial(objectid, slot, 4849, "ground3_las", "lasnude9h", 0);
		case 194: SetDynamicObjectMaterial(objectid, slot, 5122, "ground3_las2", "Was_crush", 0);
		case 195: SetDynamicObjectMaterial(objectid, slot, 5122, "ground3_las2", "Was_scrpyd_tires_pile", 0);
		case 196: SetDynamicObjectMaterial(objectid, slot, 716, "gta_tree_bevhills", "treegridtop_law", 0);
		case 197: SetDynamicObjectMaterial(objectid, slot, 5401, "jeffers4_lae", "stainwinLAe", 0);
		case 198: SetDynamicObjectMaterial(objectid, slot, 981, "helixbarrier", "colourboxes", 0);
		case 199: SetDynamicObjectMaterial(objectid, slot, 10447, "hashupass_sfs", "Bow_sub_wallGrime", 0);
		case 200: SetDynamicObjectMaterial(objectid, slot, 10429, "hashblock1_sfs", "ws_apartmentblue2", 0);
		case 201: SetDynamicObjectMaterial(objectid, slot, 17519, "lae2newtempbx", "sanpedpawn2",0);
		case 202: SetDynamicObjectMaterial(objectid, slot, 17505, "lae2roads", "craproad7_LAe7", 0);
		case 203: SetDynamicObjectMaterial(objectid, slot, 17563, "lae2tempshit", "wattsstax3_LAe", 0);
		case 204: SetDynamicObjectMaterial(objectid, slot, 17563, "lae2tempshit", "wattsstax4_LAe", 0);
		case 205: SetDynamicObjectMaterial(objectid, slot, 13675, "lahillsgrounds", "sjmlahus29",0);
		case 206: SetDynamicObjectMaterial(objectid, slot, 4556, "laland1_lan2", "sl_blokpave2", 0);
		case 207: SetDynamicObjectMaterial(objectid, slot, 13731, "mulveg2lahills", "des_woodfence1", 0);
		case 208: SetDynamicObjectMaterial(objectid, slot, 3975, "lanbloke", "lasbevcit8", 0);
		case 209: SetDynamicObjectMaterial(objectid, slot, 1631, "landjump", "jumptop1_128", 0);
		case 210: SetDynamicObjectMaterial(objectid, slot, 4100, "lanfireesc_tr", "barbwire1", 0);
		case 211: SetDynamicObjectMaterial(objectid, slot, 5142, "lashops1b_las2", "mural03_LA", 0);
		case 212: SetDynamicObjectMaterial(objectid, slot, 5267, "lashops91_las2", "laspowrec2", 0);
		case 213: SetDynamicObjectMaterial(objectid, slot, 5168, "lashops6_las2", "yellow2_128", 0);
		case 214: SetDynamicObjectMaterial(objectid, slot, 5120, "lasroads_las2", "lasunion994", 0);
		case 215: SetDynamicObjectMaterial(objectid, slot, 2898, "law_coffintu", "faketurf_law", 0);
		case 216: SetDynamicObjectMaterial(objectid, slot, 3961, "lee_kitch", "dinerfloor01_128", 0);
		case 217: SetDynamicObjectMaterial(objectid, slot, 4726, "libhelipad_lan2", "helipad_basepanel", 0);
		case 218: SetDynamicObjectMaterial(objectid, slot, 4726, "libhelipad_lan2", "helipad_mesh_t", 0);
		case 219: SetDynamicObjectMaterial(objectid, slot, 10052, "lomall", "tileornateg256", 0);
		case 220: SetDynamicObjectMaterial(objectid, slot, 8496, "lowbuild03_lvs", "vgshopwall02_128", 0);
		case 221: SetDynamicObjectMaterial(objectid, slot, 5458, "macpark1tr_lae", "cobbles_kb_edge_128", 0);
		case 222: SetDynamicObjectMaterial(objectid, slot, 8589, "lwbldstuff03", "filmstrip01_64", 0);
		case 223: SetDynamicObjectMaterial(objectid, slot, 5733, "melrose08_lawn", "base5_1", 0);
		case 224: SetDynamicObjectMaterial(objectid, slot, 5731, "melrose15_lawn", "yoyojos_law", 0);
		case 225: SetDynamicObjectMaterial(objectid, slot, 5785, "melrosetr1_lawn", "blob1_LAwN", 0);
		case 226: SetDynamicObjectMaterial(objectid, slot, 3267, "milbase", "a51_boffstuff4", 0);
		case 227: SetDynamicObjectMaterial(objectid, slot, 9907, "monlith_sfe", "sf_windos_4", 0);
		case 228: SetDynamicObjectMaterial(objectid, slot, 10386, "mountainsfs", "grass4dirtyb", 0);
		case 229: SetDynamicObjectMaterial(objectid, slot, 10386, "mountainsfs", "ws_stonewall", 0);
		case 230: SetDynamicObjectMaterial(objectid, slot, 11631, "mp_ranchcut", "mpCJ_DarkWood", 0);
		case 231: SetDynamicObjectMaterial(objectid, slot, 18217, "mtbfencecs_t", "ws_scaffoldscreen", 0);
		case 232: SetDynamicObjectMaterial(objectid, slot, 1285, "newstand", "newstandnew256", 0);
		case 233: SetDynamicObjectMaterial(objectid, slot, 4720, "nightlights1_lan2", "sl_dtwinlights3", 0);
		case 234: SetDynamicObjectMaterial(objectid, slot, 1637, "od_beachstuff", "mbhutsig", 0);
		case 235: SetDynamicObjectMaterial(objectid, slot, 10249, "ottos2_sfw", "CJ_PLANT_POT", 0);
		case 236: SetDynamicObjectMaterial(objectid, slot, 5532, "paynspray_lae", "bigblue2", 0);
		case 237: SetDynamicObjectMaterial(objectid, slot, 10166, "p69_rocks", "sfe_rock3", 0);
		case 238: SetDynamicObjectMaterial(objectid, slot, 8423, "pirateship01", "ab_wood_pot", 0);
		case 239: SetDynamicObjectMaterial(objectid, slot, 10631, "queensammo_sfs", "ammu_gunboard3", 0);
		case 240: SetDynamicObjectMaterial(objectid, slot, 10631, "queensammo_sfs", "ammu_boots", 0);
		case 241: SetDynamicObjectMaterial(objectid, slot, 3255, "refinery", "des_refpipes",0);
		case 242: SetDynamicObjectMaterial(objectid, slot, 6332, "rodeo01_law2", "rodwall09_LAw2",0);
		case 243: SetDynamicObjectMaterial(objectid, slot, 10388, "scum2_sfs", "ws_cobrasign_small",0);
		case 244: SetDynamicObjectMaterial(objectid, slot, 5040, "shopliquor_las", "labombshop",0);
		case 245: SetDynamicObjectMaterial(objectid, slot, 5040, "shopliquor_las", "mural02_LA",0);
		case 246: SetDynamicObjectMaterial(objectid, slot, 3587, "snpedhusxref", "lasjmslumgrnd",0);
		case 247: SetDynamicObjectMaterial(objectid, slot, 8396, "sphinx01", "luxormural01_256",0);
		case 248: SetDynamicObjectMaterial(objectid, slot, 5772, "stationtunnel", "mp_apt1_bathfloor1",0);
		case 249: SetDynamicObjectMaterial(objectid, slot, 10375, "subshops_sfs", "ws_rollerdoor_silver2",0);
		case 250: SetDynamicObjectMaterial(objectid, slot, 5722, "sunrise01_lawn", "venshade02_law",0);
		case 251: SetDynamicObjectMaterial(objectid, slot, 5716, "sunrise02_lawn", "manndoor_law",0);
		case 252: SetDynamicObjectMaterial(objectid, slot, 5727, "sunrise04_lawn", "mosaic2_LAwn",0);
		case 253: SetDynamicObjectMaterial(objectid, slot, 6357, "sunstrans_law2", "dogbill01",0);
		case 254: SetDynamicObjectMaterial(objectid, slot, 6357, "sunstrans_law2", "SunBillB05",0);
		case 255: SetDynamicObjectMaterial(objectid, slot, 4551, "sunset1_lan2", "snpedpurtrm",0);
		case 256: SetDynamicObjectMaterial(objectid, slot, 5998, "sunstr_lawn", "neon02_LAwN",0);
		case 257: SetDynamicObjectMaterial(objectid, slot, 5998, "sunstr_lawn", "neon04_LAwN",0);
		case 258: SetDynamicObjectMaterial(objectid, slot, 5998, "sunstr_lawn", "sunneon01",0);
		case 259: SetDynamicObjectMaterial(objectid, slot, 5998, "sunstr_lawn", "sunneon02",0);
		case 260: SetDynamicObjectMaterial(objectid, slot, 13012, "sw_apartflat5", "des_donutwall",0);
		case 261: SetDynamicObjectMaterial(objectid, slot, 12938, "sw_apartments", "sw_policeline",0);
		case 262: SetDynamicObjectMaterial(objectid, slot, 13007, "sw_bankint", "woodfloor1",0);
		case 263: SetDynamicObjectMaterial(objectid, slot, 12979, "sw_block9", "sw_bikeshed",0);
		case 264: SetDynamicObjectMaterial(objectid, slot, 12960, "sw_church", "shingles4",0);
		case 265: SetDynamicObjectMaterial(objectid, slot, 12960, "sw_church", "sw_trellis",0);
		case 266: SetDynamicObjectMaterial(objectid, slot, 13761, "lahills_whisky", "whisk5",0);
		case 267: SetDynamicObjectMaterial(objectid, slot, 12937, "sw_oldshack", "sw_cabinwall01",0);
		case 268: SetDynamicObjectMaterial(objectid, slot, 12986, "sw_well1", "Bio_64",0);
		case 269: SetDynamicObjectMaterial(objectid, slot, 1583, "targets", "target4",0);
		case 270: SetDynamicObjectMaterial(objectid, slot, 1583, "targets", "target2",0);
		case 271: SetDynamicObjectMaterial(objectid, slot, 1583, "targets", "target3",0);
		case 272: SetDynamicObjectMaterial(objectid, slot, 8534, "tikimotel", "sa_wood01_128",0);
		case 273: SetDynamicObjectMaterial(objectid, slot, 8534, "tikimotel", "sa_wood03_128",0);
		case 274: SetDynamicObjectMaterial(objectid, slot, 8534, "tikimotel", "sa_wood04_128",0);
		case 275: SetDynamicObjectMaterial(objectid, slot, 8534, "tikimotel", "tikidoor01_128",0);
		case 276: SetDynamicObjectMaterial(objectid, slot, 8536, "tikisign", "tikisign01_128",0);
		case 277: SetDynamicObjectMaterial(objectid, slot, 8663, "triadcasino", "imperial03_128",0);
		case 278: SetDynamicObjectMaterial(objectid, slot, 1609, "turtle", "turtletop",0);
		case 279: SetDynamicObjectMaterial(objectid, slot, 16150, "ufo_bar", "sa_wood08_128",0);
		case 280: SetDynamicObjectMaterial(objectid, slot, 16150, "ufo_bar", "ufo_pics1",0);
		case 281: SetDynamicObjectMaterial(objectid, slot, 896, "underwater", "starfish64",0);
		case 282: SetDynamicObjectMaterial(objectid, slot, 9098, "vgesvhouse01", "redstones01_256",0);
		case 283: SetDynamicObjectMaterial(objectid, slot, 8463, "vgseland", "tiadbuddhagold",0);
		case 284: SetDynamicObjectMaterial(objectid, slot, 8463, "vgseland", "triadcarpet",0);
		case 285: SetDynamicObjectMaterial(objectid, slot, 8463, "vgseland", "triadcarpet2",0);
		case 286: SetDynamicObjectMaterial(objectid, slot, 8399, "vgs_shops", "vegasclubmural_128",0);
		case 287: SetDynamicObjectMaterial(objectid, slot, 3925, "weemap", "skyclouds",0);
		case 288: SetDynamicObjectMaterial(objectid, slot, 6283, "pierb_law2", "brownstar_law",0);
		case 289: SetDynamicObjectMaterial(objectid, slot, 10926, "shops_sfse", "pavetilealley256128",0);
		case 290: SetDynamicObjectMaterial(objectid, slot, 12924, "sw_block06", "pizzasign_LAe",0);
		case 291: SetDynamicObjectMaterial(objectid, slot, 12923, "sw_block05", "sw_wall_05",0);
		case 292: SetDynamicObjectMaterial(objectid, slot, 12962, "sw_apartflat", "alleywall3", 0);
		case 293: SetDynamicObjectMaterial(objectid, slot, 6328, "sunset04_law2", "LAbluewall", 0);
		case 294: SetDynamicObjectMaterial(objectid, slot, 6328, "sunset04_law2", "comptwall15", 0);
		case 295: SetDynamicObjectMaterial(objectid, slot, 4551, "sunset1_lan2", "newall4-4", 0);
		case 296: SetDynamicObjectMaterial(objectid, slot, 3661, "projects_la", "comptwall32");
		case 297: SetDynamicObjectMaterial(objectid, slot, 5769, "sunrise09_lawn", "comptwall10", 0);
		case 298: SetDynamicObjectMaterial(objectid, slot, 4570, "stolenbuild03", "sl_dtbuild2wall1", 0);
		case 299: SetDynamicObjectMaterial(objectid, slot, 18365, "sawmillcs_t", "ws_rottenwall", 0);
		case 300: SetDynamicObjectMaterial(objectid, slot, 3214, "quarry", "sjmlawarwall5", 0);
		case 301: SetDynamicObjectMaterial(objectid, slot, 3749, "law2misc_lax", "cemewall01_law", 0);
		case 302: SetDynamicObjectMaterial(objectid, slot, 5728, "lawnbit", "wallwashv128", 0);
		case 303: SetDynamicObjectMaterial(objectid, slot, 3620, "lasxrefdock", "mp_cellwalla_256", 0);
		case 304: SetDynamicObjectMaterial(objectid, slot, 16364, "des_damquay", "des_rustpanel", 0);
		case 305: SetDynamicObjectMaterial(objectid, slot, 10615, "hotelback_sfs", "ws_altz_wall4", 0);
		case 306: SetDynamicObjectMaterial(objectid, slot, 5461, "glenpark6d_lae", "tiledwall01_LA", 0);
		case 307: SetDynamicObjectMaterial(objectid, slot, 8565, "vgsebuild01", "alleywallyell", 0);
		case 308: SetDynamicObjectMaterial(objectid, slot, 8867, "vgsecnstrct01", "concretewall22_256", 0);
		case 309: SetDynamicObjectMaterial(objectid, slot, 3167, "trailers", "trail_wall3", 0);
		case 310: SetDynamicObjectMaterial(objectid, slot, 10752, "traintunnel1_sfse", "wallwashvc128", 0);
		case 311: SetDynamicObjectMaterial(objectid, slot, 18264, "cw2_cinemablockcs_t", "newall9", 0);
		case 312: SetDynamicObjectMaterial(objectid, slot, 3306, "cunte_house1", "conc_wall2_128H", 0);
		case 313: SetDynamicObjectMaterial(objectid, slot, 11395, "corvinsign_sfse", "ws_altz_wall10b", 0);
		case 314: SetDynamicObjectMaterial(objectid, slot, 3979, "civic01_lan", "sl_laglasswall1", 0);
		case 315: SetDynamicObjectMaterial(objectid, slot, 3979, "civic01_lan", "airportwall_256128", 0);
		case 316: SetDynamicObjectMaterial(objectid, slot, 10752, "traintunnel1_sfse", "wallwashvc128", 0);
		case 317: SetDynamicObjectMaterial(objectid, slot, 5394, "railtracklae", "sw_warewall2", 0);
		case 318: SetDynamicObjectMaterial(objectid, slot, 8662, "nucarparkwall", "greyground256", 0);
		case 319: SetDynamicObjectMaterial(objectid, slot, 3922, "bistro", "Panel", 0);
		case 320: SetDynamicObjectMaterial(objectid, slot, 16644, "a51_detailstuff", "a51_floorpanel1", 0);
		case 321: SetDynamicObjectMaterial(objectid, slot, 16644, "a51_detailstuff", "a51_panels1", 0);
	}
	new string[32];
	format(string, sizeof(string), "~w~material index: %i", index);
	SendTexdrawMessage(playerid, string);
}

stock GetClosestDynamicObject(playerid)
{
	new
		Float:px,
		Float:py,
		Float:pz,
		Float:ox,
		Float:oy,
		Float:oz,
		Float:dist,
		Float:check = 99999.9,
		result; 
	GetPlayerPos(playerid, px, py, pz); 
	for(new i; i < Streamer_GetUpperBound(STREAMER_TYPE_OBJECT); i++)
	{
		GetDynamicObjectPos(i, ox, oy, oz); 
		dist = floatsqroot(floatpower(floatabs(floatsub(px, ox)), 2) + floatpower(floatabs(floatsub(py, oy)), 2) + floatpower(floatabs(floatsub(pz, oz)), 2)); 
		if(dist < check)
		{
			check = dist;
			result = i;
		}
	}
	return result;
}

stock CreateObjByModelid(playerid, modelid)// todo: Remove later
{
	new Float:eX, Float:eY, Float:eZ;
	GetPlayerPos(playerid, eX, eY, eZ);
	new obj;
	obj = CreateObject(modelid, eX+1, eY+1, eZ+1, 0.0,0.0,0.0);
	EditObject(playerid, obj);
	SetPVarInt(playerid, "ModelID", modelid);
}

stock Coords(playerid)
{
	// Send to chat current player position.
	new currentinterior = GetPlayerInterior(playerid);
	new currentworld = GetPlayerVirtualWorld(playerid);
	new coordinfo[144];
	new Float:x,Float:y,Float:z,Float:a;
	GetPlayerPos(playerid, x, y, z);
	GetPlayerFacingAngle(playerid, a);
	format(coordinfo,sizeof(coordinfo),"Координаты: %f,%f,%f,%f", x, y, z, a);
	SendClientMessage(playerid,COLOR_YELLOW,coordinfo);
	if(PlayerInfo[playerid][pVip] > 0){
		format(coordinfo,sizeof(coordinfo),"Интерьер: %i, Виртуальный мир %i", currentinterior, currentworld);
		SendClientMessage(playerid,COLOR_YELLOW,coordinfo);
	}
	if (GetPlayerVehicleID(playerid))
	{
		new currentveh;
		currentveh = GetPlayerVehicleID(playerid);
		new Float:vehx, Float:vehy, Float:vehz;
		GetVehiclePos(currentveh, vehx, vehy, vehz);
		new vehpostext[96];
		format(vehpostext, sizeof(vehpostext), "Текущая позиция данного транспорта: %f, %f, %f", vehx, vehy, vehz);
		SendClientMessage(playerid, COLOR_YELLOW, vehpostext);
	}
}

stock StreamedPickupsInfo(playerid)
{
	new pickups[5] = {-1, ...};
	new icount = Streamer_GetAllVisibleItems(playerid, STREAMER_TYPE_PICKUP, pickups);
	new string[128];
    SendClientMessage(playerid, -1, "В данный момент у вас в стриме следующие пикапы:");
	for(new i; i < sizeof pickups; i++)
	{
		if(IsValidDynamicPickup(pickups[i]))
		{
			new Float:x,Float:y,Float:z;
			new Float:px,Float:py,Float:pz,Float:dist;
			GetPlayerPos(playerid, px, py, pz);
			Streamer_GetItemPos(STREAMER_TYPE_PICKUP, pickups[i], x, y, z);
			Streamer_GetDistanceToItem(px, py, pz, STREAMER_TYPE_PICKUP, pickups[i], dist);
			format(string, sizeof string, "Пикап id: %d Координаты: x:%.2f y:%.2f z:%.2f Дистанция:%.2f", pickups[i],x,y,z,dist);
			SendClientMessage(playerid, -1, string);
		}
	}
	if(icount > sizeof pickups)
	{
		format(string, sizeof string, "Показаны первые %d пикапов из %d найденных", sizeof pickups, icount);
	}
	else
	{
		format(string, sizeof string, "Найдено и показано %d пикапов", icount); 
	}
	SendClientMessage(playerid, -1, string);
}

stock CreateDynamicObjByModelid(playerid, modelid, savebase = true, reverse = false, originalcoords = true, PX = 0.0, PY = 0.0, PZ = 0.0, RX = 0.0 , RY = 0.0, RZ = 0.0)
{
	new Float:editor[3],id;
	GetPlayerPos(playerid,editor[0],editor[1],editor[2]);
	if(originalcoords){
		id = CreateDynamicObject(modelid, editor[0]+1, editor[1]+1, editor[2]+1, 0.0,0.0,0.0, -1, -1, -1, 100.0);
	} else { 
		//id = CreateDynamicObject(modelid, editor[0]+1, editor[1]+1, editor[2]+3, 0.0,0.0,0.0, -1, -1, -1, 100.0);
		id = CreateDynamicObject(modelid, PX, PY, PZ, RX, RY, RZ, -1, -1, -1, 100.0);
	}
	if(reverse)	SetDynamicObjectRot(id, 0, 0, 180);
	//if(id > DEF_MAX_OBJECTS) return SendClientMessageToAll(COLOR_WHITE,"Ошибка при создании объекта, лимит объектов исчерпан!");

	EDITOR_OBJECT[id][OBJ_MODEL] = modelid;
	EDITOR_OBJECT[id][OBJ_X] = editor[0]+1;
	EDITOR_OBJECT[id][OBJ_Y] = editor[1]+1;
	EDITOR_OBJECT[id][OBJ_Z] = editor[2];
	EDITOR_OBJECT[id][OBJ_RX] = 0.0;
	EDITOR_OBJECT[id][OBJ_RY] = 0.0;
	EDITOR_OBJECT[id][OBJ_RZ] = 0.0;
	EDITOR_OBJECT[id][OBJ_VW] = -1;
	EDITOR_OBJECT[id][OBJ_INTERIOR] = -1;
	EDITOR_OBJECT[id][OBJ_STREAM_DISTANCE] = 300.0;
	EDIT_OBJECT_ID[playerid] = id;
	LAST_OBJECT_ID[playerid] = id;
	
	EditDynamicObject(playerid, id);
	
	if(savebase)
	{ 
		new EDITOR_QUERY[256];
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "INSERT INTO `OBJECTS` (`ID`,`MODEL`, `X`, `Y`, `Z`) VALUES ('%d','%d','%f','%f','%f')", id, EDITOR_OBJECT[id][OBJ_MODEL], EDITOR_OBJECT[id][OBJ_X], EDITOR_OBJECT[id][OBJ_Y], EDITOR_OBJECT[id][OBJ_Z]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		new DBResult:EDITOR_RESULT;
		format(EDITOR_QUERY,sizeof(EDITOR_QUERY),"SELECT `ID` FROM `OBJECTS` WHERE `INT`=%d",id);
		EDITOR_RESULT = db_query(EDITOR_DATABASE,EDITOR_QUERY);
		if(db_num_rows(EDITOR_RESULT) == 1)
		{
			new temp[16];
			db_get_field(EDITOR_RESULT,0,temp,16);
			EDITOR_OBJECT[id][OBJ_DB_ID] = strval(temp);
			//SendClientMessage(playerid,COLOR_WHITE,"Вы создали объект.");
		}
		db_free_result(EDITOR_RESULT);
		format(EDITOR_QUERY, sizeof(EDITOR_QUERY), "UPDATE `OBJECTS` SET `INT`=-1 WHERE `ID`=%d",EDITOR_OBJECT[id][OBJ_DB_ID]);
		db_free_result(db_query(EDITOR_DATABASE, EDITOR_QUERY));
		
		//ExportObjectToText(EDITOR_OBJECT[id][OBJ_MODEL], EDITOR_OBJECT[id][OBJ_X], EDITOR_OBJECT[id][OBJ_Y], EDITOR_OBJECT[id][OBJ_Z], EDITOR_OBJECT[id][OBJ_RX], EDITOR_OBJECT[id][OBJ_RY],
		//EDITOR_OBJECT[id][OBJ_RZ], EDITOR_OBJECT[id][OBJ_VW], EDITOR_OBJECT[id][OBJ_INTERIOR], EDITOR_OBJECT[id][OBJ_STREAM_DISTANCE]);
			
		SendFormattedText(playerid, COLOR_WHITE,"Объект id: %i сохранён в базе данных сервера",id);
	}
	return EDIT_OBJECT_ID[playerid];
}

stock LoadDynamicObjectsFromFile(const filename[])
{
	new File:fileHandle = fopen(filename, io_read);	 
	if(fileHandle)
	{
		new startPos, endPos, idx, line[64], buf[128], objectcount;
		new modelid,
			Float:x,
			Float:y,
			Float:z,
			Float:rx,
			Float:ry,
			Float:rz,
			worldid,
			interiorid,
			playerid,
			Float:streamdistance,
			Float:drawdistance,
			STREAMER_TAG_AREA areaid,
			priority;

		while(fread(fileHandle, buf))
		{
			startPos = strfind(buf, "("); 
			endPos = strfind(buf, ")"); 
			if (startPos && endPos)
			{
				strmid(buf, buf, (startPos + 1), endPos);
				idx = 0;
				worldid = -1,
				interiorid = -1,
				playerid = -1,
				streamdistance = STREAMER_OBJECT_SD,
				drawdistance = STREAMER_OBJECT_DD,
				areaid = -1,
				priority = 0;
				idx = token_by_delim(buf, line, ',', idx); 							modelid 		= strval(line); 
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					x 				= floatstr(line);
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					y 				= floatstr(line);
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					z 				= floatstr(line);
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					rx 				= floatstr(line);
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					ry 				= floatstr(line);
				idx = token_by_delim(buf, line, ',', (idx + 1)); 					rz 				= floatstr(line);	
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	worldid 		= strval(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	interiorid 		= strval(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	playerid 		= strval(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	streamdistance 	= floatstr(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	drawdistance 	= floatstr(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	areaid 			= strval(line);
				if (idx != -1) idx = token_by_delim(buf, line, ',', (idx + 1)), 	priority 		= strval(line);
				CreateDynamicObject(modelid, x, y, z, rx, ry, rz, worldid, interiorid, playerid, streamdistance, drawdistance, areaid, priority);
				objectcount ++;
			}
		}
		fclose(fileHandle);
		printf("DynamicObjectLoader: Loaded %d objects from \"%s\".", objectcount, filename);
	}
	else
	{
		printf("DynamicObjectLoader: The file \"%s\" does not exists, or can't be opened.", filename);
	}
	return 1;
}

stock PlayersOnDM(playerid)
{
	new FindedPlayers[600], tempstr[24];// 25 Players in result table
	if(CloseCmdAccess[playerid] == 1) return 0;	
	if(SpecialZone(playerid))
	{
		foreach(Player, i)
		{
			if(dmzone[playerid] > 0 && dmzone[playerid] == dmzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(tdmzone[playerid] > 0 && tdmzone[playerid] == tdmzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(trainingzone[playerid] > 0 && trainingzone[playerid] == trainingzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(cwzone[playerid] > 0 && cwzone[playerid] == cwzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(warzone[playerid] > 0 && warzone[playerid] == warzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(survzone[playerid] > 0 && survzone[playerid] == survzone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
			else if(cszone[playerid] > 0 && cszone[playerid] == cszone[i]){
				format(tempstr, sizeof(tempstr), "{FFFFFF}[%i]%s\n", i, PlayerName(i));
				strcat(FindedPlayers, tempstr);
			}
		}
	}
	return SPD(playerid,DIALOG_DMPLAYERS,DIALOG_STYLE_LIST, "Игроки", FindedPlayers,"OK","Exit");
}

stock Exit(playerid)
{
	if(CloseCmdAccess[playerid] == 1) return 0;
	PlayerTextDrawHide(playerid, Killstat[playerid]);
	if(IsPlayerInAnyVehicle(playerid)){
		new vehicleid = GetPlayerVehicleID(playerid);
		SetVehicleToRespawn(vehicleid); //return SendClientMessage(playerid, COLOR_YELLOW, "Сперва выйди из транспорта!");
	}
	GangZoneHideForPlayer(playerid, warzonemap);
	if(GetPlayerVirtualWorld(playerid) > 100 && GetPlayerVirtualWorld(playerid) < 200){
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerPos(playerid, GetPVarFloat(playerid,"LastPosX"), GetPVarFloat(playerid,"LastPosY"), GetPVarFloat(playerid,"LastPosZ"));
		PlayerTextDrawHide(playerid, Objrate[playerid]);
	}
	if(SpecialZone(playerid))
	{
		SetPVarInt(playerid, "ShowKillstatTD", 0);
        switch(dmzone[playerid])
		{
			case 1: online_dmramdom--;
			case 24: online_dmdeagle--; 
			case 9: online_dmchainsaw--;
			case 10: online_dmoneshot--;
			case 34: online_dmsniper--; 
		}
		switch(tdmzone[playerid])
		{
			case 1: online_tdmdeagle--;
			case 2: online_tdmlamo--;
			case 3: online_tdmsniper--; 
		}
		switch(trainingzone[playerid])
		{
			case 1: online_trlamo--;
			case 2: online_trsniper--;
			case 3: online_trpro--; 
			case 4: online_trchains--; 
		}
		if(survzone[playerid] > 0) online_survival--;
		if(cszone[playerid] > 0) online_csz--;
		if(warzone[playerid] > 0) online_warzone--;
		dmzone[playerid] = 0;
		if(tdmzone[playerid] > 0 || cszone[playerid] > 0 || cwzone[playerid] > 0) SetPlayerColor(playerid,TempColor[playerid]);
		tdmzone[playerid] = 0;
		survzone[playerid] = 0;
		team[playerid] = 0;
		trainingzone[playerid] = 0;
		cszone[playerid] = 0;
		cwzone[playerid] = 0;
		warzone[playerid] = 0;
		CloseMenuAccess[playerid] = 0;
		SetPlayerVirtualWorld(playerid,0);
		SetPlayerWorldBounds(playerid, 20000.0000, -20000.0000, 20000.0000, -20000.0000); // ResetBounds
		SetPlayerArmour(playerid, 100);
		SetPlayerHealth(playerid, 100);
        SpawnPlayer(playerid); 
	}
	if(GetPVarType(playerid, "FlyMode")) CancelFlyMode(playerid), SpawnPlayer(playerid);
	return 1;
}

stock StartCW(playerid)
{
	if(GetPVarInt(playerid,"CwOwner") == 0) return SendClientMessage(playerid, COLOR_GREY, "Недоступно!");
	new string[8];
	foreach(Player, i)
	{
		CwRoundStart = SetTimer("CwRoundTimer", 1000*6*5, false); // Start cw timer
		CountCmd = 3; // 3 sec
		format(string, sizeof string, "~y~%d", 3);
		PlaySoundForAll(1056, 0.0, 0.0, 0.0);
		GameTextForPlayer(i,string, 1000, 3);
		SetTimer("CountFunc", 1000, 0);
		CountStarted = true;
		if(team[i] == TEAM_REFEREE){
			FlyMode(i);
			SendClientMessage(i, COLOR_GREY, "Выход из режима полета возможен после завершения раунда");
		}
		if(cwzone[i] > 0) TogglePlayerControllable(i,1);
	}
}

stock StopCW()
{
	KillTimer(CwRoundStart);
	foreach(Player, i)
	{
		if(cwzone[i] > 0){
			Exit(i);
			SetPVarInt(i,"CwOwner",0);
		}
	}
}

stock FlipCar(carid)
{
	new Float:xyza[4];
	GetVehiclePos(carid, xyza[0], xyza[1], xyza[2]);
	GetVehicleZAngle(carid, xyza[3]);
	SetVehicleZAngle(carid, xyza[3]);
}

stock PlayerEnterShop(playerid)
{
	// Pre-set params to 24-7 shops
	GameTextForPlayer(playerid, "~w~Shop 24-7", 3000, 1);
	SetPlayerInterior(playerid, 17);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerPos(playerid,-25.884498,-185.868988,1003.546875);
}

stock FixCar(playerid)
{
	//if(GetPVarInt(playerid,"pgm") == 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция доступна только в режиме бессмертия");
	//if(GetPVarInt(playerid,"pgm") == 0) return 0;
	if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{ 
		new Float:health;
		new veh = GetPlayerVehicleID(playerid);
		GetVehicleHealth(veh, health);
		if(GetPVarInt(playerid, "pgm") != 0) return RepairVehicle(GetPlayerVehicleID(playerid));
		if(health > 1000 && health < 1500) SetVehicleHealth(veh, 1500);
		if(health > 650 && health <= 1000)
		{
			//SendClientMessage(playerid, COLOR_INFO, "Авто не нуждается в восстановлении. Если есть разбитые детали они восстановлены.");
			RepairVehicle(GetPlayerVehicleID(playerid));
		}
		else
		{
			if(IsAPlane(veh)){
				if(GetPlayerMoney(playerid) < 5000) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег для ремонта. Нужно 5000$"); 
				SetMoney(playerid, -5000);
			}
			else if(IsASports(veh)){
				if(GetPlayerMoney(playerid) < 2500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег для ремонта. Нужно 2500$"); 
				SetMoney(playerid, -2500);
			} else {
				if(GetPlayerMoney(playerid) < 500) return SendClientMessage(playerid, COLOR_YELLOW, "У вас недостаточно денег для ремонта. Нужно 500$"); 
				SetMoney(playerid, -500);
			}
			RepairVehicle(GetPlayerVehicleID(playerid));
			SendTexdrawMessage(playerid, "~w~Vehicle repaired");
		}
		SetPVarInt(playerid, "FixVehicleTime",gettime() + 180);
	}
	return 1;
}

stock PlayerModsTest(playerid, showid)
{
	new modtesttable[400], string[150];
	new FPSunlockState[8],ParkourModState[8],ConnectionState[8],LowfpsState[8],BagoskinState[8];
	// Parkour mod
	new Float:pPos[3];
	GetPlayerPos(playerid,pPos[0],pPos[1],pPos[2]);
	if(GetPlayerAnimationIndex(playerid) == -1 && pPos[2] > 0) ParkourModState = "ON"; else ParkourModState = "OFF";
	format(string, sizeof(string), "{ffffff}Parkour Mod\t{cc3300}[%s]\n", ParkourModState);
	strcat(modtesttable,string);
	// FPS unlock 
	if(GetPlayerFPS(playerid) > 100) FPSunlockState = "ON"; else FPSunlockState = "OFF";
	format(string, sizeof(string), "{ffffff}FPS Unlock\t{cc3300}[%s]\n", FPSunlockState);
	strcat(modtesttable,string);
	// LOW FPS
	if(GetPlayerFPS(playerid) < 40) LowfpsState = "LOW"; else LowfpsState = "NORMAL";
	format(string, sizeof(string), "{ffffff}FPS\t{cc3300}[%s]\n", LowfpsState);
	strcat(modtesttable,string);
	// Bad connection
	if(GetPlayerPing(playerid) > MAX_PING || NetStats_PacketLossPercent(playerid) > MAX_PLOSS) ConnectionState = "BAD"; else ConnectionState = "NORMAL";
	format(string, sizeof(string), "{ffffff}Connection\t{cc3300}[%s]\n", ConnectionState);
	strcat(modtesttable,string);
	// Bagoskin
	switch(GetPlayerSkin(playerid))
	{
		case 0,1,2,74,86,149,265,266,267,268,269,270,271: BagoskinState = "ON";
		default: BagoskinState = "OFF";
	}
	format(string, sizeof(string), "{ffffff}Bagoskin\t{cc3300}[%s]\n", BagoskinState);
	strcat(modtesttable,string);
	return SPD(showid, DIALOG_PLAYERMODTEST, DIALOG_STYLE_MSGBOX, "Проверка игрока на моды", modtesttable,"Закрыть","");
}

stock SpawnNewVehicle(playerid, carid) //spawn new veh by id
{
	if(IsApplyAnimation(playerid, "FALL_fall") || IsPlayerSkydiving(playerid) == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Вызов транспорта в полете запрещен");
	if(GetPVarInt(playerid,"TimeCSpawn") > gettime() ) return SendClientMessage(playerid, COLOR_YELLOW, "Команду можно использовать раз в 10 сек");
    if(GetPVarInt(playerid,"pgm") == 0) SetPVarInt(playerid,"TimeCSpawn",gettime() + 10); // disable timer to gm and admin players
	if(MSelect_IsOpen(playerid)) MSelect_Close(playerid);
	// destroy veh attachments
	DestroyObject(neon[playerid][0]);
    DestroyObject(neon[playerid][1]);
	DestroyObject(VehAttach[playerid][0]);
	DestroyObject(VehAttach[playerid][1]);
	DestroyObject(VehAttach[playerid][2]);
	DestroyObject(VehAttach[playerid][3]);
	DestroyObject(VehAttach[playerid][4]);
	
	new Float:x,Float:y,Float:z,Float:ang;
	if(CarSpawn[playerid] != 0) DestroyVehicle(CarSpawn[playerid]);
	GetPlayerPos(playerid, x, y, z);
	GetPlayerFacingAngle(playerid, ang);
	if (IsPlayerInAnyVehicle(playerid))
	{
		new CurrentVehID = GetPlayerVehicleID(playerid);
		DestroyVehicle(CurrentVehID);
	}
	CarSpawn[playerid] = CreateVehicle(carid, x, y, z, ang, random(256), random(256), -1);
	new vehicleid = GetPlayerVehicleID(playerid);
	SetVehicleVirtualWorld(vehicleid, GetPlayerVirtualWorld(playerid));
	LinkVehicleToInterior(vehicleid, GetPlayerInterior(playerid));
	//if(GetPlayerInterior(playerid) != 0) SetVehicleToRespawn(vehicleid);
	PutPlayerInVehicle(playerid, CarSpawn[playerid], 0);
	SetVehicleZAngle(GetPlayerVehicleID(playerid),ang);
	return 1;
}

stock RespawnVehicles()
{
    for(new i = GetVehiclePoolSize()+1; --i != 0;)
    SetVehicleToRespawn(i);
	SendAdminMessage(COLOR_SYSTEM, "Весь транспорт на сервере был возвращен на точку появления");
}  

stock PlayerName(playerid)
{
	GetPlayerName(playerid, pName, sizeof(pName));
	return pName;
}

stock abs( value )
{
	return ((value < 0 ) ? (-value) : (value));
}

stock HexToInt(string[])
{
	if (string[0]==0) return 0;
	new i;
	new cur=1;
	new res=0;
	for (i=strlen(string);i>0;i--)
	{
		if (string[i-1]<58) res=res+cur*(string[i-1]-48); else res=res+cur*(string[i-1]-65+10);
		cur=cur*16;
	}
	return res;
}

stock IntToHex(number)
{
	new m=1;
	new depth=0;
	while (number>=m) {
		m = m*16;
		depth++;
	}
	depth--;
	new str[125];
	for (new i = depth; i >= 0; i--)
	{
		str[i] = ( number & 0x0F) + 0x30;
		str[i] += (str[i] > '9') ? 0x07 : 0x00;
		number >>= 4;
	}
	str[8] = '\0';
	return str;
}

stock CmdsList(playerid)
{
	new commandslist[1600] = 
	"{ff6633}/телепорты, /tplist{ffffff} - список телепортов\n"\
	"{ff6633}/помощь, /help{ffffff} - информация о сервере\n"\
	"{ff6633}/дм, /dm[arena]{ffffff} - войти на дм зону\n"\
	"{ff6633}/скин, /skin[id], /skins{ffffff} - смена скина\n"\
	"{ff6633}/машину, /v[id]{ffffff} - заказ транспорта\n"\
	"{ff6633}/п, /flip{ffffff} - поставить авто на колеса\n"\
	"{ff6633}/ку, /qu[id]{ffffff} - поприветствовать игрока\n"\
	"{ff6633}/лс, /pm[id][текст]{ffffff} - личные сообщения\n"\
	"{ff6633}/togpm{ffffff} - отк-вкл прием личных сообщений\n"\
	"{ff6633}/игнор, /ignore[id], /unignore[id]{ffffff} - игнорировать сообщения игрока\n"\
	"{ff6633}/умереть, /kill{ffffff} - самоубийство\n"\
	"{ff6633}/стат, /stat{ffffff} - посмотреть свою статистику\n"\
	"{ff6633}/парашют, /dive[высота]{ffffff} - прыгнуть с парашютом\n"\
	"{ff6633}/время,/time{ffffff} - дата-время\n"\
	"{ff6633}/жб, /report[id] текст жалобы{ffffff} - подать жалобу на рассмотрение\n"\
	"{ff6633}/eject{ffffff} - выкинуть пассажиров из машины\n"\
	"{ff6633}/cc{ffffff} - смена цвета транспорта\n"\
	"{ff6633}/clist, /color{ffffff} - смена цвета ника\n"\
	"{ff6633}/отсчет, /count, /321{ffffff} - запустить отсчет\n"\
	"{ff6633}/чинить, /fix{ffffff} - восстановить транспорт(только в GM)\n"\
	"{ff6633}/худ, /hud{ffffff} - вкл-выкл HUD сервера\n"\
	"{ff6633}/я, /me [текст]{ffffff} - сказать от 3-го лица\n"\
	"{ff6633}/попытка, /try [текст]{ffffff} - удачно-неудачно\n"\
	"{ff6633}/выход, /exit{ffffff} - выйти с дм/тдм и.т.д\n"\
	"{ff6633}/аптечка, /medkit{ffffff} - быстро восстановить хп(аптечка)\n"\
	"{ff6633}/бессм, /god{ffffff} - включить режим бессмертия\n"\
	"{ff6633}/findnick{ffffff} - найти игрока по никнейму или части никнейма\n"\
	"{ff6633}/anim{ffffff} - выбрать анимацию";
	return SPD(playerid, DIALOG_COMMANDSHELP, DIALOG_STYLE_MSGBOX, "Commands", commandslist,"Закрыть","");
}

stock AdmCmdsList(playerid)
{
	if(PlayerInfo[playerid][pAdmin] >= 1)
	{
		new admincommandslist[2050] = 
		"{ffcc00}#{ffffff} текст - админ чат,{ffcc00}/amsg{ffffff} текст - сообщение от имени Администрации\n"\
		"{ffcc00}/banip [IP], /unbanip [IP]{ffffff} - бан-разбан по ип\n"\
		"{ffcc00}/rban [id] [reason]{ffffff} - бан по подсети игрока\n"\
		"{ffcc00}/tp [x][y][z] {ffffff} - тп по координатам, вводить как 3 отдельныхх параметра без запятых\n"\
		"{ffcc00}/jump, /bigjump {ffffff} - прыгнуть вперед\n"\
		"{ffcc00}/slap [Id]{ffffff} - подбросить игрока(на случай если тот застрял в текстурах)\n"\
		"{ffcc00}/setint [Id], /setw[Id]{ffffff} - сменить интерьер, сменить мир\n"\
		"{ffcc00}/baseint [Id], {ffffff} - перейти в базовый интерьер по номеру\n"\
		"{ffcc00}/mute [Id][minute][reason]{ffffff} - выдать мут\n"\
		"{ffcc00}/unmute [Id]{ffffff} - снять мут\n"\
		"{ffcc00}/jail [Id][minute][reason]{ffffff} - посадить в тюрьму\n"\
		"{ffcc00}/unjail [Id]{ffffff} - выпустить из тюрьмы\n"\
		"{ffcc00}/warn [Id][reason]{ffffff} - выдать предупреждение\n"\
		"{ffcc00}/cw [ID]{ffffff} - отправить игрока в читмир\n"\
		"{ffcc00}/allips [ID]{ffffff} - показать таблицу IP всех игроков\n"\
		"{ffcc00}/tempnick [newnick]{ffffff} - взять временный ник\n"\
		"{ffcc00}/clear {ffffff} - очистить чат\n"\
		"{ffcc00}/invis /uninvis{ffffff} - уйти в инвиз(стать полностью невидимым)\n"\
		"{ffcc00}\nSA-MP client{ffffff} стандартные:\n"\
		"{ff6633}/fontsize{ffffff} -  измерения шрифта, его размера и толщины\n"\
		"{ff6633}/headmove{ffffff} - включает/выключает поворот головы скина по направлению камеры\n"\
		"{ff6633}/timestamp{ffffff} - включает/выключает показ времени в чате у каждого сообщения\n"\
		"{ff6633}/pagesize [10-20]{ffffff} - устанавливает кол-во строк в чате(стандарт 10 строк)\n"\
		"{ff6633}/quit (/q){ffffff} - закрывает вашу игру\n"\
		"{ff6633}/save [комментарий], /rs{ffffff} - сохраняет ваши координаты на карте в файл (/coord)\n"\
		"{ff6633}/fpslimit [20-100]{ffffff} - устанавливает максимальное кол-во FPS для вашего клиента\n"\
		"{ff6633}/dl{ffffff} - включает/выключает информацию о ближайшей машине в виде 3D текста\n"\
		"{ff6633}/mem{ffffff} - отображает сколько использует памяти SA-MP\n"\
		"{ff6633}/audiomsg{ffffff} - отключает инф о аудиопотоке\n";
		return SPD(playerid, DIALOG_ADMINCOMMANDSHELP, DIALOG_STYLE_MSGBOX, "Admin cmd", admincommandslist,"Закрыть","");
	}
	return 1;
}

stock CwCmdsList(playerid)
{
	new commandslist[400] = 
	"{ffffff}Перечисленные команды доступны только в Cw-режиме\n"\
	"{ff6633}/switch{ffffff} - сменить команду\n"\
	"{ff6633}/pause, /stop{ffffff} - приостановить раунд\n"\
	"{ff6633}/resetweapons, /rweapons{ffffff} - сбросить оружие\n"\
	"{ff6633}/weapons{ffffff} - выбрать оружие\n"\
	"{ff6633}/end{ffffff} - завершить раунд\n"\
	"{ff6633}/resetstat{ffffff} - cбросить статистику раунда\n"\
	"{ff6633}/respawnall{ffffff} - зареспавнить всех\n";
	return SPD(playerid, DIALOG_COMMANDSCW, DIALOG_STYLE_MSGBOX, "Commands", commandslist,"Закрыть","");
}

stock RulesDLG(playerid)
{
	new rules[1450] = 
	"{ffcc00}Целью проекта является становление неккоммерческого freeroam-deathmatch сервера в oldschool стиле.\n"\
	"{ffcc00}На нашем сервере нет безумных стант локаций, рп ограничений и дисбалланса.\n"\
	"{cc0000}\nЗапрещено:\n"\
	"{ffffff}- Использование любых программ, скриптов, читов, макросов и.т.п. дающих нечестное преймущество.\n"\
	"{ffffff}- Оскорбление игроков, разжигание конфликтов, спам, флуд, флейм, реклама, маты, дезинформация.\n"\
	"{ffffff}- Использование багов, ошибок, неисправностей мода сервера и их сокрытие.\n"\
	"{ffffff}- Уход от боя багом, анимацией, эскейпом, прятаться в текстурах.\n"\
	"{ffffff}- Убивать игроков в интерьерах, домах, зеленых зонах.\n"\
	"{ffffff}- Выдача себя за  администрaтора, просьба администратора использовать админку в личных целях.\n"\
	"{ffffff}- Использовать ники содержащие нецензурные или оскорбительные слова, плагиат ников, плагиат кланов и тегов\n"\
	"{00a550}Разрешено:\n"\
	"{ffffff}- Свободное общение в личке, на нашем сервере администрация не просматривает личные сообщения игроков.\n"\
	"{ffffff}- Устанавливать моды не дающие преимущества (скины, транспорт, ENB).\n"\
	"{ffffff}- Обсуждать другие сервера без указания ссылок.\n"\
	"{FF0000}\nЕсли вы не согласны с правилами, просьба покинуть сервер\n";
	
	return SPD(playerid, DIALOG_SERVERINFO, DIALOG_STYLE_MSGBOX, "{ffcf00}О сервере", rules,"Закрыть","");
}

stock FAQ(playerid)
{
	new faq[1200] = 
	"{00a550}Как заработать деньги и заработать уровень?\n"\
	"{FFFFFF} - Играя на дм зонах, на них есть бонусы и повышенный коэффициент exp.\n"\
	"{00a550}Что делать?\n"\
	"{FFFFFF} - Пострелять можно на DM /dm\n"\
	"{FFFFFF} - Пострелять команда на команду на TDM /tdm\n"\
	"{FFFFFF} - Потренироваться на /training\n"\
	"{FFFFFF} - Повоевать на военной технике /warzone \n"\
	"{FFFFFF} - Повоевать клан на клан /tcw \n"\
	"{FFFFFF} - Посетить мини-игры /minigames \n"\
	"{FFFFFF} - Осмотреть местные достопримечательности без угрозы быть убитым /god \n"\
	"{00a550}Как устроиться на работу?\n"\
	"{FFFFFF} - В этом нет необходимости. Сюда игроки приходят отдохнуть в том числе и от работы\n"\
	"{00a550}Как получить VIP и какие привелегии у VIP игроков?\n"\
	"{FFFFFF} - VIP выдается скриптерам, мапперам, активным игрокам за вклад в развитие сервера. Подробно о VIP можно посмотреть здесь /vipcmds\n"\
	"{00a550}Как стать администратором?\n"\
	"{FFFFFF} - При наборе учитывается стаж игрока на дм проектах, адекватность, и конечно никаких админов младше 18 лет\n"\
	"{00a550}На каком моде основан данный проект?\n"\
	"{FFFFFF} - За основу не был взят какой-либо определенный мод\n"\
	"{FFFFFF} Многие элементы и системы встречались вам на других серверах и находятся в открытом доступе\n";
	
	return SPD(playerid, DIALOG_FAQ, DIALOG_STYLE_MSGBOX, "{ffcf00}Friendly Asked Questions", faq,"Ок","");
}

stock MAIN_MENU(playerid)
{
	if(PlayerInfo[playerid][pAdmin] > 0 && pAfk[playerid] == 0) return SPD(playerid, DIALOG_MAIN, DIALOG_STYLE_LIST, "Главное меню", AdMainMenuLst,"Выбрать","Выйти");
	else if (PlayerInfo[playerid][pAdmin] > 0 && pAfk[playerid] != 0) return SPD(playerid, DIALOG_MAIN, DIALOG_STYLE_LIST, "{D3D3D3}Главное меню {FF0000}[AFK]", AdMainMenuLst,"Выбрать","Выйти");
	
	if(pAfk[playerid] == 0) return SPD(playerid, DIALOG_MAIN, DIALOG_STYLE_LIST, "Главное меню", MainMenuLst,"Выбрать","Выйти");
	else return SPD(playerid, DIALOG_MAIN, DIALOG_STYLE_LIST, "{D3D3D3}Главное меню {FF0000}[AFK]", MainMenuLst,"Выбрать","Выйти");
}

stock SaveCoords(playerid, wmode = 0)
{
	new Float:X,Float:Y,Float:Z,Float:ang;
	GetPlayerPos(playerid, X, Y, Z);
	GetPlayerFacingAngle(playerid, ang);
	new File:coord = fopen("maps/Coords.txt", io_append);
	new nwCoords[126];
	if(wmode == 1) format(nwCoords, sizeof nwCoords, "( %f, %f, %f ),\r\n", X, Y, Z);
	else if(wmode == 2) format(nwCoords, sizeof nwCoords, "%f, %f, %f, %f\r\n", X, Y, Z, ang);
	else if(wmode == 3) format(nwCoords, sizeof nwCoords, "SetPlayerPosEx(playerid, %f, %f, %f, %f, %i, %i)\r\n", X, Y, Z, ang, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid));
	else if(wmode == 4){
		if(GetPVarFloat(playerid, "BoundsMaxX") == 0){
			SetPVarFloat(playerid, "BoundsMaxX", X);
			SetPVarFloat(playerid, "BoundsMaxY", Y);
			return SendClientMessage(playerid, COLOR_WHITE, "Первая пара координат сохранена, переместитесь в противоположный угол");
		}
		if(GetPVarFloat(playerid, "BoundsMinX") == 0){
			SetPVarFloat(playerid, "BoundsMinX", X);
			SetPVarFloat(playerid, "BoundsMinY", Y);
			format(nwCoords, sizeof nwCoords, "SetPlayerWorldBounds(playerid, %f, %f, %f, %f);\r\n",
			GetPVarFloat(playerid, "BoundsMaxX"), GetPVarFloat(playerid, "BoundsMinX"),GetPVarFloat(playerid, "BoundsMaxY"), GetPVarFloat(playerid, "BoundsMinY"));
			SendClientMessage(playerid, COLOR_WHITE, "Вторая пара координат сохранена.");
			DeletePVar(playerid, "BoundsMaxX");
			DeletePVar(playerid, "BoundsMinX");
			DeletePVar(playerid, "BoundsMaxY");
			DeletePVar(playerid, "BoundsMinY");
		} else {
			DeletePVar(playerid, "BoundsMaxX");
			DeletePVar(playerid, "BoundsMinX");
			DeletePVar(playerid, "BoundsMaxY");
			DeletePVar(playerid, "BoundsMinY");
		}
	}
	else format(nwCoords, sizeof nwCoords, "%f, %f, %f\r\n", X, Y, Z);
	fwrite(coord, nwCoords);
	fclose(coord);
	SendClientMessage(playerid, COLOR_WHITE, "Координаты были сохранены в папке {FFD700}Scriptfiles > Maps > Coords.txt");
}

stock IsPlayerInArea(playerid, Float:min_x, Float:min_y ,Float:max_x, Float:max_y)
{
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(playerid, X, Y, Z);
	if(X <= max_x && X >= min_x && Y <= max_y && Y >= min_y) return 1;
	return 0;
}  

stock GetPlayerCameraTargetDObject(playerid)
{
	// Allows you to retrieve the ID of the object the player is looking at.
    new object = Streamer_GetItemStreamerID(playerid, STREAMER_TYPE_OBJECT, GetPlayerCameraTargetObject(playerid));
    if(!object) object = INVALID_OBJECT_ID;
    return object;
}  

stock IsObjectInRangeOfPoint(objectid, Float:range, Float:x, Float:y, Float:z, bool:streamerobject = false)
{
	new Float:dist, Float:oPos[3];
	if(!streamerobject) GetObjectPos(objectid, oPos[0], oPos[1], oPos[2]); else GetDynamicObjectPos(objectid, oPos[0], oPos[1], oPos[2]);
	dist = floatadd(floatadd(floatsqroot(floatpower(floatsub(oPos[0],x),2)),floatsqroot(floatpower(floatsub(oPos[1],y),2))),floatsqroot(floatpower(floatsub(oPos[2],z),2)));
	if(dist < range) return 1;
	return 0;
}

stock CountDynObjects(worldid = -1)
{
	new dynnumobject = CreateDynamicObject(0,0,0,0,0,0,0,worldid); 
    DestroyDynamicObject(dynnumobject); 
	return dynnumobject-1; 
}

stock CountDynPickups()
{
	new dynpicknumobject = CreateDynamicPickup(0, 0, 0,0,0, 0, 0, 0, 0, -1, 0); 
    DestroyDynamicPickup(dynpicknumobject); 
	return dynpicknumobject-1; 
}

stock SetMoney(playerid, money)
{
	new rmoney = GetPlayerMoney(playerid);
	if( rmoney < PlayerInfo[playerid][pMoney] && rmoney > -1 ) PlayerInfo[playerid][pMoney]=rmoney;

	PlayerInfo[playerid][pMoney]+=money;
	ResetPlayerMoney(playerid);
	GivePlayerMoney(playerid,PlayerInfo[playerid][pMoney]);
	return 1;
}

stock ResetMoney(playerid)
{
	ResetPlayerMoney(playerid);
	PlayerInfo[playerid][pMoney]=0;
	return 1;
}

stock PutInCheatWorld(playerid)
{
	// Cheat-World
	if(PlayerInfo[playerid][pAdmin] == 5) return 0;
	SpecOff(playerid);
	CheatersDetected++;
	PlayerInfo[playerid][pCw]++;
	SetPlayerWeather(playerid,42);
	SetPlayerTime(playerid, 23, 0);
	SetPlayerVirtualWorld(playerid, 6);
	SetPlayerPos(playerid, 1077.2113+random(2),1064.5568+random(2),10.8359);
	//SetPlayerFacingAngle(playerid, 313.5100);
	SetPVarInt(playerid,"Muted", gettime() + (999999999));
	PlayerInfo[playerid][pCheater] = 1;
	SetPlayerColor(playerid,COLOR_GREY);
	ResetPlayerWeapons(playerid);
	CloseMenuAccess[playerid] = 1;
	CloseCmdAccess[playerid] = 1;
	SaveAccount(playerid);
	if (IsPlayerInAnyVehicle(playerid))
	{
		new CurrentVehID = GetPlayerVehicleID(playerid);
		DestroyVehicle(CurrentVehID);
	}
	if(CarSpawn[playerid] != 0) DestroyVehicle(CarSpawn[playerid]);
	// SetPlayerWorldBounds(playerid,Float:x_max,Float:x_min,Float:y_max,Float:y_min);
	SetPlayerWorldBounds(playerid,3222.65625,-644.53125,2988.28125,480.46875); // set MAP border LV + arena 51
	return 1;
}

stock PutInJail(playerid, time = 0)
{
	if(time > 0) SetPVarInt(playerid,"Jailed", gettime() + (time * 60));
	else SetPVarInt(playerid,"Jailed", gettime() + 5); // 5sec
	ResetPlayerWeapons(playerid);
	SpecOff(playerid);
	SetPlayerColor(playerid,0xFFFFFF00);
	SetPlayerInterior(playerid,10);//SFPD
	new rand = random(sizeof(JailSpawn));
	SetPlayerPos(playerid,JailSpawn[rand][0]+random(3), JailSpawn[rand][1]+random(3), JailSpawn[rand][2]);
	//PlayerInfo[playerid][pJailed] = time;
	CloseMenuAccess[playerid] = 1;
	CloseCmdAccess[playerid] = 1;
	if (IsPlayerInAnyVehicle(playerid))
	{
		new CurrentVehID = GetPlayerVehicleID(playerid);
		DestroyVehicle(CurrentVehID);
	}
	if(CarSpawn[playerid] != 0) DestroyVehicle(CarSpawn[playerid]);
	PlayerInfo[playerid][pJailed] = GetPVarInt(playerid, "Jailed");
	SaveAccount(playerid);
	RulesDLG(playerid);
}

stock Uncw(playerid)
{
	if(PlayerInfo[playerid][pCheater] == 1 && GetPVarInt(playerid,"Jailed") == 0)
	{
		PlayerInfo[playerid][pCheater] = 0;
		CloseMenuAccess[playerid] = 0;
		CloseCmdAccess[playerid] = 0;
		SaveAccount(playerid);
		SetPlayerHealth(playerid,0.0);
		SetPlayerColor(playerid,playerClistColors[random(200)]);
		SetPlayerWeather(playerid,15);
		SetPlayerTime(playerid, 21, 0);
		SetPlayerWorldBounds(playerid, 20000.0000, -20000.0000, 20000.0000, -20000.0000); //A player's world boundaries reset
		SpawnPlayer(playerid);
	}
}

stock UnJail(playerid)
{
	if(GetPVarInt(playerid,"Jailed") != 0 || PlayerInfo[playerid][pCheater] != 0)
	{
		SetPVarInt(playerid,"Jailed", 0);
		PlayerInfo[playerid][pCheater] = 0;
		CloseMenuAccess[playerid] = 0;
		CloseCmdAccess[playerid] = 0;
		PlayerInfo[playerid][pJailed] = 0;
		SetPlayerColor(playerid,playerClistColors[random(200)]);
		SaveAccount(playerid);
		SetPlayerHealth(playerid,0.0);
		SetPlayerWeather(playerid,15);
		SetPlayerTime(playerid, 21, 0);
		SetPlayerWorldBounds(playerid, 20000.0000, -20000.0000, 20000.0000, -20000.0000); //A player's world boundaries reset
		SpawnPlayer(playerid);
	}
}

stock GetFreeGang()
{
	for(new i=1; i<MAX_GANGS; i++)
	{
		if(GangInfo[i][gGangId] == 0) return i;
	}
	return false;
}

stock GangLoad() 
{
    new file, f[256];
	for(new i = 1; i<MAX_GANGS; i++)
	{
	    format(f, 256, "gangs/%i.ini", i);
		file = ini_openFile(f);
		if(file == INI_OK)
		{
			ini_getString(file, "GangName", GangInfo[i][gName]);
			ini_getString(file, "GangTag", GangInfo[i][gTag]);
			ini_getString(file, "GangPass", GangInfo[i][gPass]);
			ini_getString(file, "GangPage", GangInfo[i][gPage]);
			ini_getInteger(file, "GangId", GangInfo[i][gGangId]);
			ini_getInteger(file, "GangPageType", GangInfo[i][gPageType]);
			ini_getInteger(file, "GangBank", GangInfo[i][gBank]);
			ini_getInteger(file, "GangLvl", GangInfo[i][gLvl]);
			ini_getInteger(file, "GangSlots", GangInfo[i][gSlots]);
			ini_getInteger(file, "GangPoints", GangInfo[i][gPoints]);
			ini_getInteger(file, "GangScoreCw", GangInfo[i][gScoreCw]);
			ini_getInteger(file, "GangWeapons", GangInfo[i][gWeap]);
			ini_getInteger(file, "GangClist", GangInfo[i][gClist]);
			ini_getInteger(file, "GangMembers", GangInfo[i][gMembers]);
			ini_getInteger(file, "GangVehSlot1model", GangInfo[i][gVehSlot1model]);
			ini_getInteger(file, "GangVehSlot2model", GangInfo[i][gVehSlot2model]);
			ini_getFloat(file, "gPosX", GangInfo[i][gPosX]);
			ini_getFloat(file, "gPosY", GangInfo[i][gPosY]);
			ini_getFloat(file, "gPosZ", GangInfo[i][gPosZ]);
			ini_getFloat(file, "gVehSlot1PosX", GangInfo[i][gVehSlot1PosX]);
			ini_getFloat(file, "gVehSlot1PosY", GangInfo[i][gVehSlot1PosY]);
			ini_getFloat(file, "gVehSlot1PosZ", GangInfo[i][gVehSlot1PosZ]);
			ini_getFloat(file, "gVehSlot1PosA", GangInfo[i][gVehSlot1PosA]);
			ini_getFloat(file, "gVehSlot2PosX", GangInfo[i][gVehSlot2PosX]);
			ini_getFloat(file, "gVehSlot2PosY", GangInfo[i][gVehSlot2PosY]);
			ini_getFloat(file, "gVehSlot2PosZ", GangInfo[i][gVehSlot2PosZ]);
			ini_getFloat(file, "gVehSlot2PosA", GangInfo[i][gVehSlot2PosA]);
			//
			if(GangInfo[i][gVehSlot1model] != 0){
				GangInfo[i][gVehSlot1id] = CreateVehicle(GangInfo[i][gVehSlot1model],GangInfo[i][gVehSlot1PosX],GangInfo[i][gVehSlot1PosY],GangInfo[i][gVehSlot1PosZ],GangInfo[i][gVehSlot1PosA],1,-1,0);
			}
			if(GangInfo[i][gVehSlot2model] != 0){
				GangInfo[i][gVehSlot1id] = CreateVehicle(GangInfo[i][gVehSlot2model],GangInfo[i][gVehSlot2PosX],GangInfo[i][gVehSlot2PosY],GangInfo[i][gVehSlot2PosZ],GangInfo[i][gVehSlot1PosA],1,-1,0);
			}
			// 3dTexts tags on spawn place
			if(GangInfo[i][gPosX] != 0) {
				CreateDynamic3DTextLabel(GangInfo[i][gTag],COLOR_YELLOW,GangInfo[i][gPosX],GangInfo[i][gPosY],GangInfo[i][gPosZ],30.0,INVALID_PLAYER_ID,INVALID_PLAYER_ID,0,0,0,-1,100.0);
			}
			ini_closeFile(file);
		}
	}
}

stock GangSave() 
{
    new file, f[256];
	for(new i = 1; i<MAX_GANGS; i++)
	{
	    format(f, 256, "gangs/%i.ini", i);
		file = ini_openFile(f);
		if(file == INI_OK)
		{
			//ini_setString(file, "GangName", GangInfo[i][gName]);
			//ini_setString(file, "GangTag", GangInfo[i][gTag]);
			//ini_setString(file, "GangPage", GangInfo[i][gPage]);
			ini_setInteger(file, "GangPass", GangInfo[i][gPass]);
			ini_setInteger(file, "GangId", GangInfo[i][gGangId]);
			ini_setInteger(file, "GangBank", GangInfo[i][gBank]);
			ini_setInteger(file, "GangLvl", GangInfo[i][gLvl]);
			ini_setInteger(file, "GangPageType", GangInfo[i][gPageType]);
			ini_setInteger(file, "GangSlots", GangInfo[i][gSlots]);
			ini_setInteger(file, "GangPoints", GangInfo[i][gPoints]);
			ini_setInteger(file, "GangScoreCw", GangInfo[i][gScoreCw]);
			ini_setInteger(file, "GangWeapons", GangInfo[i][gWeap]);
			ini_setInteger(file, "GangClist", GangInfo[i][gClist]);
			ini_setInteger(file, "GangMembers", GangInfo[i][gMembers]);
			ini_setInteger(file, "GangVehSlot1model", GangInfo[i][gVehSlot1model]);
			ini_setInteger(file, "GangVehSlot2model", GangInfo[i][gVehSlot2model]);
			ini_setFloat(file, "gPosX", GangInfo[i][gPosX]);
			ini_setFloat(file, "gPosY", GangInfo[i][gPosY]);
			ini_setFloat(file, "gPosZ", GangInfo[i][gPosZ]);
			ini_setFloat(file, "gVehSlot1PosX", GangInfo[i][gVehSlot1PosX]);
			ini_setFloat(file, "gVehSlot1PosY", GangInfo[i][gVehSlot1PosY]);
			ini_setFloat(file, "gVehSlot1PosZ", GangInfo[i][gVehSlot1PosZ]);
			ini_setFloat(file, "gVehSlot1PosA", GangInfo[i][gVehSlot1PosA]);
			ini_setFloat(file, "gVehSlot2PosX", GangInfo[i][gVehSlot2PosX]);
			ini_setFloat(file, "gVehSlot2PosY", GangInfo[i][gVehSlot2PosY]);
			ini_setFloat(file, "gVehSlot2PosZ", GangInfo[i][gVehSlot2PosZ]);
			ini_setFloat(file, "gVehSlot2PosA", GangInfo[i][gVehSlot2PosA]);
			ini_closeFile(file);
		}
	}
}

stock GangCreate(playerid, gangid) 
{
    new file, f[256];
	format(f, 256, "gangs/%i.ini", gangid);
	file = ini_createFile(f); 
	ini_setString(file, "GangName", GangInfo[gangid][gName]);
	ini_setString(file, "GangTag", GangInfo[gangid][gTag]);
	ini_setInteger(file, "GangPass", 0);
	ini_setInteger(file, "GangId", gangid);
	ini_setInteger(file, "GangBank", 0);
	ini_setInteger(file, "GangLvl", 1);
	ini_setInteger(file, "GangPageType", 0);
	ini_setInteger(file, "GangSlots", 5);
	ini_setInteger(file, "GangPoints", 0);
	ini_setInteger(file, "GangScoreCw", 0);
	ini_setInteger(file, "GangWeapons", 0);
	ini_setInteger(file, "GangClist", 0);
	ini_setInteger(file, "GangMembers", 0);
	ini_setInteger(file, "GangVehSlot1model", 0);
	ini_setInteger(file, "GangVehSlot2model", 0);
	ini_setFloat(file, "gPosX", 0);
	ini_setFloat(file, "gPosY", 0);
	ini_setFloat(file, "gPosZ", 0);
	ini_setFloat(file, "gVehSlot1PosX", 0);
	ini_setFloat(file, "gVehSlot1PosY", 0);
	ini_setFloat(file, "gVehSlot1PosZ", 0);
	ini_setFloat(file, "gVehSlot1PosA", 0);
	ini_setFloat(file, "gVehSlot2PosX", 0);
	ini_setFloat(file, "gVehSlot2PosY", 0);
	ini_setFloat(file, "gVehSlot2PosZ", 0);
	ini_setFloat(file, "gVehSlot2PosA", 0);
	ini_closeFile(file);
	//GangSave();
	SendFormattedTextToAll(COLOR_ORANGE, "Клан %s зарегистрирован игроком %s тег клана %s",GangInfo[gangid][gName], PlayerName(playerid), GangInfo[gangid][gTag]);
}

stock GangStat(playerid, gangid)
{
	new gangstat[900], gstring[144], GangTeamCounterOnline = 0, GangTeamCounterAFK = 0, Rang[20];
	if(PlayerInfo[playerid][pSoundMenu] > 0) PlayerPlaySound(playerid, SOUND_MENU_IN, 0, 0, 0);
	if(PlayerInfo[playerid][pGang] > 0)
	{
		format(gstring, sizeof(gstring), "{ffffff}Номер: {7CFC00}№%i\n", gangid);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Название: {7CFC00}%s {ffffff}Тег: {7CFC00}%s\n", GangInfo[gangid][gName], GangInfo[gangid][gTag]);
		strcat(gangstat,gstring);
		if(GangInfo[gangid][gPageType] > 0) {
			switch(GangInfo[gangid][gPageType])
			{
				case 1: format(gstring, sizeof(gstring), "{ffffff}Группа в VK: {00BFFF}%s\n", GangInfo[gangid][gPage]);
				case 2: format(gstring, sizeof(gstring), "{ffffff}Веб-сайт: {00BFFF}%s\n", GangInfo[gangid][gPage]);
				case 3: format(gstring, sizeof(gstring), "{ffffff}Dicord: {00BFFF}%s\n", GangInfo[gangid][gPage]);
				case 4: format(gstring, sizeof(gstring), "{ffffff}Skype: {00BFFF}%s\n", GangInfo[gangid][gPage]);
				case 5: format(gstring, sizeof(gstring), "{ffffff}Telegramm: {00BFFF}%s\n", GangInfo[gangid][gPage]);
			}
			strcat(gangstat,gstring);
		}
		format(gstring, sizeof(gstring), "{ffffff}Уровень клана: {7CFC00}%i\n", GangInfo[gangid][gLvl]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Игроков в клане: {7CFC00}%i\n", GangInfo[gangid][gMembers]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Доступно слотов: {7CFC00}%i {ffffff}из {7CFC00}%i\n", GangInfo[gangid][gSlots] - GangInfo[gangid][gMembers], GangInfo[gangid][gSlots]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Очки клана [CP]: {7CFC00}%i\n", GangInfo[gangid][gPoints]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Выйграно CW на этом проекте: {7CFC00}%i\n", GangInfo[gangid][gScoreCw]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Казна клана: {006400}%i $\n", GangInfo[gangid][gBank]);
		strcat(gangstat,gstring);
		format(gstring, sizeof(gstring), "{ffffff}Сейчас в сети:\n\n");
		strcat(gangstat,gstring);
		foreach(Player, i)
		{
			if(gangid == PlayerInfo[i][pGang])
			{
				switch(PlayerInfo[i][pGangRang])
				{
					case 1: Rang = "Новичок";
					case 2: Rang = "Воин";
					case 3: Rang = "Основной состав";
					case 4: Rang = "Заместитель";
					case 5: Rang = "Лидер";
				}
				if(pAfk[playerid] > 0){
					format(gstring, sizeof(gstring), "{ffffff}%s - {C0C0C0}[AFK]%s[%d]\n", Rang, PlayerName(i), i);
					GangTeamCounterAFK++;
				}
				else format(gstring, sizeof(gstring), "{ffffff}%s - {7fff00}%s[%d]\n", Rang, PlayerName(i), i);
				strcat(gangstat,gstring);
				GangTeamCounterOnline++;
			}
		}
		format(gstring, sizeof(gstring), "\n{ffffff}Онлaйн: {7CFC00}%i {C0C0C0}AFK: %i\n", GangTeamCounterOnline, GangTeamCounterAFK);
		strcat(gangstat,gstring);
		SPD(playerid, DIALOG_GANGSTAT, DIALOG_STYLE_MSGBOX, "Информация о клане", gangstat,"Ok","");
	}
}

stock GangList(playerid)
{
	new ClanList[400], tempstr[75];
	for(new i = 1; i<MAX_GANGS; i++)
	{
		if(GangInfo[i][gGangId] != 0){
			format(tempstr, sizeof(tempstr), "{FFFF00}%i. %s - %s\n", i, GangInfo[i][gName], GangInfo[i][gTag]);
			strcat(ClanList, tempstr);
		}
	}
	return SPD(playerid, DIALOG_GANGLIST, DIALOG_STYLE_LIST, "Список кланов", ClanList,"Ok","");
}

stock SaveAccount(playerid)
{
    new SPlayerName[MAX_PLAYER_NAME], serial[41], account[128];
	GetPlayerName(playerid,SPlayerName,sizeof(SPlayerName));
	format(account,sizeof(account), "players/%s.ini", SPlayerName);
	//UpdatePlayerPosition(playerid);
	gpci(playerid,serial,40);
	new year,month,day,ldate[10];
	getdate(year, month, day);
	format(ldate, sizeof(ldate), "%d.%d.%d", day,month,year);
    new iniFile = ini_openFile(account);
    ini_setInteger(iniFile, "Account", PlayerInfo[playerid][pAccount]);
    ini_setInteger(iniFile, "Money", GetPlayerMoney(playerid));
    ini_setInteger(iniFile, "Credit", PlayerInfo[playerid][pCredit]);
    ini_setInteger(iniFile, "Limit", PlayerInfo[playerid][pLimit]);
	ini_setInteger(iniFile, "Kills", PlayerInfo[playerid][pKills]);
	ini_setInteger(iniFile, "DmKills", PlayerInfo[playerid][pDmKillsTotal]);
	ini_setInteger(iniFile, "Level", PlayerInfo[playerid][pLevel]);
	ini_setInteger(iniFile, "Exp", PlayerInfo[playerid][pExp]);
	//ini_setInteger(iniFile, "Color", GetPlayerColor(playerid));
	//ini_setInteger(iniFile, "Color", HexToInt(PlayerInfo[playerid][pColor]));
	ini_setInteger(iniFile, "Color", PlayerInfo[playerid][pColor]);
	ini_setInteger(iniFile, "Death", PlayerInfo[playerid][pDeaths]);
	ini_setInteger(iniFile, "Skin", GetPlayerSkin(playerid));
	ini_setInteger(iniFile, "FightStyle", PlayerInfo[playerid][pFightStyle]);
	ini_setInteger(iniFile, "Admin", PlayerInfo[playerid][pAdmin]);
	ini_setInteger(iniFile, "Weather", PlayerInfo[playerid][pWeather]);
	ini_setInteger(iniFile, "Vip", PlayerInfo[playerid][pVip]);
	if(PlayerInfo[playerid][pReward] >= 100) ini_setInteger(iniFile, "Reward", PlayerInfo[playerid][pReward]);
	ini_setInteger(iniFile, "Bell", PlayerInfo[playerid][pBell]);
	ini_setInteger(iniFile, "SoundMenu", PlayerInfo[playerid][pSoundMenu]);
	ini_setInteger(iniFile, "Hud", PlayerInfo[playerid][pHudOn]);
	ini_setInteger(iniFile, "ExpBar", PlayerInfo[playerid][pExpBar]);
	ini_setInteger(iniFile, "FpsBar", PlayerInfo[playerid][pFpsBar]);
	ini_setInteger(iniFile, "BottomBar", PlayerInfo[playerid][pBottomBar]);
	ini_setInteger(iniFile, "SpeedBar", PlayerInfo[playerid][pSpeedBar]);
	ini_setInteger(iniFile, "HealthBar", PlayerInfo[playerid][pHealthBar]);
	ini_setInteger(iniFile, "Jailed", GetPVarInt(playerid,"Jailed"));
	ini_setInteger(iniFile, "Cw", PlayerInfo[playerid][pCw]);
	ini_setInteger(iniFile, "Cheater", PlayerInfo[playerid][pCheater]);
	ini_setInteger(iniFile, "Muted", GetPVarInt(playerid,"Muted"));
	ini_setInteger(iniFile, "Automute", GetPVarInt(playerid,"Automute"));
	ini_setInteger(iniFile, "DamageInfo", PlayerInfo[playerid][pDamageInfo]);
	ini_setInteger(iniFile, "ObjGlasses", PlayerInfo[playerid][pObjGlasses]);
	ini_setInteger(iniFile, "ObjMask", PlayerInfo[playerid][pObjMask]);
	ini_setInteger(iniFile, "ObjHat", PlayerInfo[playerid][pObjHat]);
	ini_setInteger(iniFile, "World", PlayerInfo[playerid][pWorld]);
	ini_setInteger(iniFile, "Bonuspack", PlayerInfo[playerid][pBonuspack]);
	ini_setInteger(iniFile, "Bonustime", PlayerInfo[playerid][pBonustime]);
	ini_setInteger(iniFile, "Reputation", PlayerInfo[playerid][pReputation]);
	ini_setInteger(iniFile, "Votes", PlayerInfo[playerid][pVotes]);
	if(PlayerInfo[playerid][pGang] > 0)	ini_setInteger(iniFile, "Gang", PlayerInfo[playerid][pGang]);
	if(PlayerInfo[playerid][pGang] > 0)	ini_setInteger(iniFile, "GangRang", PlayerInfo[playerid][pGangRang]);
	ini_setString(iniFile, "LastLogin", ldate);
	ini_setString(iniFile, "Serial", serial);
	ini_setString(iniFile, "AboutPlayer", PlayerInfo[playerid][pAboutPlayer]);
	ini_setString(iniFile, "Key", PlayerInfo[playerid][pKey]);
	ini_setFloat(iniFile, "SavedPosX", PlayerInfo[playerid][pSavedPosX]);
	ini_setFloat(iniFile, "SavedPosY", PlayerInfo[playerid][pSavedPosY]);
	ini_setFloat(iniFile, "SavedPosZ", PlayerInfo[playerid][pSavedPosZ]);
    ini_closeFile(iniFile);
    return 1;
}

stock SaveServerConfigfile()
{
	if(!fexist("mod.ini")) return 0;
    new iniFile = ini_openFile("mod.ini");
	ini_setInteger(iniFile, "LastAccountNumber", LastAccountNumber);
    ini_setInteger(iniFile, "ServerLocked", ServerLocked);
    ini_setInteger(iniFile, "RegisterLocked", RegisterLocked);
	ini_setInteger(iniFile, "ServerAntiflood", ServerAntiflood);
	ini_setInteger(iniFile, "ServerCensore", ServerCensore);
	ini_setInteger(iniFile, "FlyHackOn_AC", FlyHackOn_AC);
	ini_setInteger(iniFile, "SpeedHackOn_AC", SpeedHackOn_AC);
	ini_setInteger(iniFile, "ChatAnticaps",ChatAnticaps);
	ini_setInteger(iniFile, "ServerAntiReklama", ServerAntiReklama);
	ini_setInteger(iniFile, "ServerAntiFakeKill", ServerAntiFakeKill);
	ini_setInteger(iniFile, "ServerAibreakOn_AC", ServerAibreakOn_AC);
	ini_setInteger(iniFile, "ServerCarshotOn", ServerCarshotOn);
	ini_setInteger(iniFile, "ServerAntiVehHack", ServerAntiVehHack);
	ini_setInteger(iniFile, "ServerAimDetect", ServerAimDetect);
	ini_setInteger(iniFile, "ServerCheckPass", ServerCheckPass);
	ini_setInteger(iniFile, "ServerAntiTabFast", ServerAntiTabFast);
	ini_setInteger(iniFile, "ServerAntiSlide", ServerAntiSlide);
	ini_setInteger(iniFile, "OffRPNick", OffRPNick);
    ini_closeFile(iniFile);
    return 1;
}

stock LoadServerConfigfile()
{
	if(fexist("mod.ini"))
	{
		new iniFile = ini_openFile("mod.ini");
		ini_getInteger(iniFile, "LastAccountNumber", LastAccountNumber);
		ini_getInteger(iniFile, "ServerLocked", ServerLocked);
		ini_getInteger(iniFile, "RegisterLocked", RegisterLocked);
		ini_getInteger(iniFile, "ServerAntiflood", ServerAntiflood);
		ini_getInteger(iniFile, "ServerCensore", ServerCensore);
		ini_getInteger(iniFile, "FlyHackOn_AC", FlyHackOn_AC);
		ini_getInteger(iniFile, "SpeedHackOn_AC", SpeedHackOn_AC);
		ini_getInteger(iniFile, "ChatAnticaps",ChatAnticaps);
		ini_getInteger(iniFile, "ServerAntiReklama", ServerAntiReklama);
		ini_getInteger(iniFile, "ServerAntiFakeKill", ServerAntiFakeKill);
		ini_getInteger(iniFile, "ServerAibreakOn_AC", ServerAibreakOn_AC);
		ini_getInteger(iniFile, "ServerCarshotOn", ServerCarshotOn);
		ini_getInteger(iniFile, "ServerAntiVehHack", ServerAntiVehHack);
		ini_getInteger(iniFile, "ServerAimDetect", ServerAimDetect);
		ini_getInteger(iniFile, "ServerCheckPass", ServerCheckPass);
		ini_getInteger(iniFile, "ServerRemoveNewAccs", ServerRemoveNewAccs);
		ini_getInteger(iniFile, "ServerAntiTabFast", ServerAntiTabFast);
		ini_getInteger(iniFile, "ServerAntiSlide", ServerAntiSlide);
		ini_getInteger(iniFile, "OffRPNick", OffRPNick);
		ini_closeFile(iniFile);
	}
    return 1;
}

stock RemoveAccount(playerid)
{
	new RemPlayerName[MAX_PLAYER_NAME], account[128];
    GetPlayerName(playerid,RemPlayerName,sizeof(RemPlayerName));
    format(account,sizeof(account), "players/%s.ini", RemPlayerName);
	printf("Account %s removed from base",account);
	if(fexist(account)){
		fremove(account);
	}
}

stock RemoveTempMapEditorFiles(playerid)
{
	fremove("maps/Coords.txt");
	fremove("maps/MapIcons.txt");
	fremove("maps/3DText.txt");
	fremove("maps/Pickup.txt");
	fremove("maps/Attachments.txt");
	fremove("maps/ExportObjects.txt");
	fremove("maps/Vaeditions.txt");
	SendClientMessage(playerid, COLOR_WHITE, "Временные файлы из {FFD700}scriptfiles/maps{FFFFFF} очищены");
}

stock dm(playerid,zone)
{
	if(pAfk[playerid] == 1) return SendClientMessage(playerid, COLOR_YELLOW, "Cначала выйди из афк");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	CloseMenuAccess[playerid] = 1;
	ResetPlayerWeapons(playerid);
	UpdatePlayerPosition(playerid);
	GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
	SendClientMessage(playerid,COLOR_INFO,dmexstr);
	SendTexdrawMessage(playerid, "~w~Type ~g~<N> ~w~show menu");
	SetPVarInt(playerid, "ShowKillstatTD", 1);
	switch(zone){
		case 1:{//rand
			dmzone[playerid] = 1;
			if(DmRandomArenaId == 1){
				SetPlayerWorldBounds(playerid,1435.546875,1119.140625,2865.234375,2720.703125);
				new rand = random(sizeof(Map_Golfclub));
				SetPlayerPosEx(playerid,Map_Golfclub[rand][0], Map_Golfclub[rand][1], Map_Golfclub[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 2){
				SetPlayerWorldBounds(playerid,-327,-471,2293.5,2174.5);
				new rand = random(sizeof(Map_Svobase));
				SetPlayerPosEx(playerid,Map_Svobase[rand][0], Map_Svobase[rand][1], Map_Svobase[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 3){
				SetPlayerWorldBounds(playerid,816,417,1026.5,707.5);
				new rand = random(sizeof(Map_Carier));
				SetPlayerPosEx(playerid,Map_Carier[rand][0], Map_Carier[rand][1], Map_Carier[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 4){
				SetPlayerWorldBounds(playerid,2812.00012,2665.00012,-2328.5,-2583.5);
				new rand = random(sizeof(Map_LsPort));
				SetPlayerPosEx(playerid,Map_LsPort[rand][0], Map_LsPort[rand][1], Map_LsPort[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 5){
				SetPlayerWorldBounds(playerid,2858.00012,2821.00012,-2327.5,-2552.5);
				new rand = random(sizeof(Map_LsPortShip));
				SetPlayerPosEx(playerid,Map_LsPortShip[rand][0], Map_LsPortShip[rand][1], Map_LsPortShip[rand][2],0,10,0);
			}
			else if(DmRandomArenaId == 6){
				SetPlayerWorldBounds(playerid, 635.00,-33.999,2135.500,1601.50); 
				new rand = random(sizeof(Map_Zone51));
				SetPlayerPosEx(playerid,Map_Zone51[rand][0], Map_Zone51[rand][1], Map_Zone51[rand][2],0,10,0);
			}
			new randweap = random(sizeof(dmrandom_weapons));
			GivePlayerWeapon(playerid,dmrandom_weapons[randweap],10000);
			Spawnkill(playerid);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
			if(online_dmramdom == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM Random и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmramdom++;
		}
		case 2:{//rand2 unsused
			dmzone[playerid] = 2;
			SetPlayerWorldBounds(playerid,2692.96875, 2550, 850.78125, 780.46875);
			new rand = random(sizeof(Map_BuildingLv));
			SetPlayerPosEx(playerid,Map_BuildingLv[rand][0], Map_BuildingLv[rand][1], Map_BuildingLv[rand][2],0,10,0);
			new randweap = random(sizeof(dmrandom_weapons));
			GivePlayerWeapon(playerid,dmrandom_weapons[randweap],10000); 
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
			if(online_dmramdom == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM Random и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmramdom++;
		}
		case 24:{//deagle
			dmzone[playerid] = 24;
			if(DmDeagleArenaId == 1){
				SetPlayerWorldBounds(playerid, 2433.59375, 2138.671875, 759.765625, 626.953125);
				new rand = random(sizeof(DmDeagleSpawn));
				SetPlayerPosEx(playerid,DmDeagleSpawn[rand][0], DmDeagleSpawn[rand][1], DmDeagleSpawn[rand][2],0,10,0);
			}
			else if(DmDeagleArenaId == 2){
				SetPlayerWorldBounds(playerid, -909.5,-1301.5,-834.5,-1143.5);
				new rand = random(sizeof(Map_Graveyard));
				SetPlayerPosEx(playerid,Map_Graveyard[rand][0], Map_Graveyard[rand][1], Map_Graveyard[rand][2],0,11,0);
			}
			GivePlayerWeapon(playerid,24,10000); 
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
			if(online_dmdeagle == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM Deagle и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmdeagle++;
		}
		case 10:{//one-shot
			dmzone[playerid] = 10;
			SetPlayerWorldBounds(playerid, 287,103,1486.5,1333.5);
			new rand = random(sizeof(DmOneShotSpawn));
			SetPlayerPosEx(playerid,DmOneShotSpawn[rand][0], DmOneShotSpawn[rand][1], DmOneShotSpawn[rand][2],0,10,0);
			GivePlayerWeapon(playerid,24,10000); 
			SetPlayerHealth(playerid,15);
			SetPlayerArmour(playerid,0);
			if(online_dmoneshot == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM OneShot и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmoneshot++;
		}
		case 9:{//chainsaw
			SendClientMessage(playerid, COLOR_GREY, "DM chainsaw - mapped by heccberte");
			dmzone[playerid] = 9;
			if(DmChainsawArenaId == 1){
				SetPlayerWorldBounds(playerid, 94.9999,-99.00,1619.5,1437.5); 
				new rand = random(sizeof(DmChainsawSpawn));
				SetPlayerPosEx(playerid,DmChainsawSpawn[rand][0], DmChainsawSpawn[rand][1], DmChainsawSpawn[rand][2],0,23,0);
			}
			else if(DmChainsawArenaId == 2){
				SetPlayerWorldBounds(playerid, -968,-1231,-866.5,-1093.5); //ext1hecc
				new rand = random(sizeof(DmChainsaw2Spawn));
				SetPlayerPosEx(playerid,DmChainsaw2Spawn[rand][0], DmChainsaw2Spawn[rand][1], DmChainsaw2Spawn[rand][2],0,23,0);
			}
			else if(DmChainsawArenaId == 3){
				SetPlayerWorldBounds(playerid, -5.5,-352.5,231.5,-139.5); 
				new rand = random(sizeof(Map_BobbieGuillotine));
				SetPlayerPosEx(playerid,Map_BobbieGuillotine[rand][0], Map_BobbieGuillotine[rand][1], Map_BobbieGuillotine[rand][2],0,11,0);
			}
			GivePlayerWeapon(playerid,9,1); 
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
			if(online_dmchainsaw == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM Chainsaw и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmchainsaw++;
		}
		case 34:{//sniper
			dmzone[playerid] = 34;
			if(DmSniperArenaId == 1){
				SetPlayerWorldBounds(playerid, -1933.59375,-1970.703125,-720.703125,-996.09375);
				new rand = random(sizeof(DmSniperSpawn));
				SetPlayerPosEx(playerid,DmSniperSpawn[rand][0], DmSniperSpawn[rand][1], DmSniperSpawn[rand][2],0,10,0);
			}
			else if(DmSniperArenaId == 2){
				SetPlayerWorldBounds(playerid, 1278.5, 721.5, 2795.5, 2202.5); 
				new rand = random(sizeof(Map_SmallSniperArena));
				SetPlayerPosEx(playerid,Map_SmallSniperArena[rand][0], Map_SmallSniperArena[rand][1], Map_SmallSniperArena[rand][2],0,10,0);
			}
			GivePlayerWeapon(playerid,34,10000); 
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,0);
			if(online_dmsniper == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на DM Sniper и сейчас там один, можете присоединиться к нему /dm", PlayerName(playerid));
			online_dmsniper++;
		}
	}
	return 1;	
}

stock ClearVars(playerid)
{
	/* Clear playerid enviroments */
	DeletePVar(playerid,"LastPosX");
	DeletePVar(playerid,"LastPosY");
	DeletePVar(playerid,"LastPosZ");
	DeletePVar(playerid,"Logged"); 
	DeletePVar(playerid,"Muted"); 
	DeletePVar(playerid,"Jailed"); 
	DeletePVar(playerid, "ShowDopTableTD");
    PlayerInfo[playerid][pMoney] = 0;
    PlayerInfo[playerid][pCredit] = 0;
    PlayerInfo[playerid][pLimit] = 0;
	PlayerInfo[playerid][pKills] = 0;
	PlayerInfo[playerid][pDmKillsTotal] = 0;
	PlayerInfo[playerid][pLevel] = 0;
	PlayerInfo[playerid][pExp] = 0;
	PlayerInfo[playerid][pDeaths] = 0;
	PlayerInfo[playerid][pSkin] = 0;
	PlayerInfo[playerid][pFightStyle] = 0;
	PlayerInfo[playerid][pAdmin] = 0;
	PlayerInfo[playerid][pWeather] = 0;
	PlayerInfo[playerid][pVip] = 0;
	PlayerInfo[playerid][pChatColor] = 0;	
	PlayerInfo[playerid][pReward] = 0;
	PlayerInfo[playerid][pBell] = 0;
	PlayerInfo[playerid][pSoundMenu] = 0;
	PlayerInfo[playerid][pFpsBar] = 0;
	PlayerInfo[playerid][pHudOn] = 0;
	PlayerInfo[playerid][pBottomBar] = 0;
	PlayerInfo[playerid][pSpeedBar] = 0;
	PlayerInfo[playerid][pHealthBar] = 0;
	PlayerInfo[playerid][pJailed] = 0;
	PlayerInfo[playerid][pCw] = 0;
	PlayerInfo[playerid][pCheater] = 0;
	PlayerInfo[playerid][pDamageInfo] = 0;
	PlayerInfo[playerid][pLastLogin] = 0;
	LoginAttempts[playerid] = 0;
    return 1;
}

stock ExportObjectToText(modelid, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz, worldid , interiorid)
{
	// Float:streamdistance = STREAMER_OBJECT_SD
	new string1[255], File: objs;
	objs = fopen("maps/ExportObjects.txt", io_append);
	format(string1, sizeof(string1), "CreateDynamicObject(%d, %f,%f,%f,%f,%f,%f, %d,%d);\r\n", \
	modelid, x,y,z, rx,ry,rz, worldid, interiorid);
	fwrite(objs, string1);
	fclose(objs);
}

stock EdCreatePickup(pickupid, playerid)
{
	new nwPickup[126];
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(playerid, X, Y, Z);
	AddStaticPickup(pickupid, 1, X, Y, Z, -1);
	new File:pos3 = fopen("maps/Pickup.txt", io_append);
	format(nwPickup, sizeof nwPickup, "CreateDynamicPickup(%i, 2, %.2f, %.2f, %.2f, %i, %i, -1, 250, -1, 0);\r\n", pickupid, X, Y, Z, GetPlayerVirtualWorld(playerid),GetPlayerInterior(playerid));
	fwrite(pos3, nwPickup);
	fclose(pos3);
	SendClientMessage(playerid, COLOR_WHITE, "Pickup был сохранен в папке {FFD700}Scriptfiles > Maps > Pickups.txt");
}

stock AFK(playerid)
{
	if(pAfk[playerid] == 1)
	{
		SendClientMessage(playerid, COLOR_GREY, "Вы отошли афк.");
		TogglePlayerControllable(playerid,0);
		SetPlayerChatBubble(playerid, "AFK (-.-)Zzz...", COLOR_CORAL, 20.0, 1000);
	}
	else
	{
		SendClientMessage(playerid, COLOR_GREY, "Вы вернулись из афк.");
		TogglePlayerControllable(playerid,1);
	}
}

/* stock AfkZone(playerid)
{
	// Jizzy club - AFK zone
	Exit(playerid);
	new rand = random(sizeof(JizzySpawn));
	SetPlayerPosEx(playerid,JizzySpawn[rand][0]+random(2), JizzySpawn[rand][1]+random(2), JizzySpawn[rand][2], 0,0,3);
} */

/*
stock GetClosestPlayer(playerid)
{
	new
		x,
		Float:dis,
		Float:dis2,
		player;

	player = -1;
	dis = 99999.99;

	for (x=0;x<MAX_PLAYERS;x++)
	{
		if(IsPlayerConnected(x))
		{
			if(x != playerid)
			{
				dis2 = GetDistanceBetweenPlayers(x,playerid);
				if(dis2 < dis && dis2 != -1.00)
				{
					dis = dis2;
					player = x;
				}
			}
		}
	}
	return player;
} */

stock PlayerToPoint(Float:radi, playerid, Float:x, Float:y, Float:z)
{
    if(IsPlayerConnected(playerid))
	{
			new Float:oldposx;
			new Float:oldposy;
			new Float:oldposz;
			new Float:tempposx;
			new Float:tempposy;
			new Float:tempposz;
			GetPlayerPos(playerid, oldposx, oldposy, oldposz);
			tempposx = (oldposx -x);
			tempposy = (oldposy -y);
			tempposz = (oldposz -z);
			if(((tempposx < radi) && (tempposx > -radi)) && ((tempposy < radi) && (tempposy > -radi)) && ((tempposz < radi) && (tempposz > -radi))) return true;
	}
	return false;
}

stock IsGreenZone(playerid)
{
	if(GetPlayerVirtualWorld(playerid) == 0){
		if(PlayerToPoint(50.0,playerid,1765.7373,-1895.3802,14.1300)
		||PlayerToPoint(50.0,playerid,-1984.3955,138.3253,27.9796)
		||PlayerToPoint(150.0,playerid,269.517913, -1854.169311, 3.153151)
		||PlayerToPoint(50.0,playerid, 1313.6453,1285.8680,10.8203)){
			SendTexdrawMessage(playerid, "~>~~>~~>~~g~ GREEN ZONE ~<~~<~~<~");
			return 1;
		}
	}
	return 0;
}  

stock SetPlayerGMode(playerid)
{
	// GMMODE 
	SetPVarInt(playerid,"pGModeTime",gettime()+60);
	if(HighPingCount[playerid] == 3) return SendClientMessage(playerid, COLOR_SYSTEM, "Бессмертие снимется автоматически после снижения пинга, снять вручную вам запрещено!\n");
	if(GetPVarInt(playerid,"pgm") == 0)
	{
		SetPVarInt(playerid,"pgm", 1);
		ResetPlayerWeapons(playerid);
		SetPlayerHealth(playerid, 10000);
		SetPlayerArmour(playerid, 10000);
		if(!GetPVarInt(playerid,"GodVeh"))
		{
			SetPVarInt(playerid,"GodVeh",1);
			SetVehicleHealth(GetPlayerVehicleID(playerid),10000);
			DisableRemoteVehicleCollisions(playerid, 1);
		}
		Pgm3D{playerid} = Create3DTextLabel("Бессмертный",0x6699CC,0.0,0.0,0.0,50.0,0,1);
		Attach3DTextLabelToPlayer(Pgm3D{playerid},playerid,0.0,0.0,0.5);  
		SendClientMessage(playerid, COLOR_SYSTEM, "Оружие было убрано - вы стали бессмертным.\n");
		SendClientMessage(playerid, COLOR_SYSTEM, "Напоминаем что за помеху игрокам будучи бессмертным будет выдано наказание!\n");
	}
	else
	{
		SetPVarInt(playerid,"pgm", 0);
		SetPlayerHealth(playerid, 100);
		SetPlayerArmour(playerid, 100);
		DeletePVar(playerid,"GodVeh");
		if(CarSpawn[playerid] != 0) SetVehicleHealth(CarSpawn[playerid],1000);
		DisableRemoteVehicleCollisions(playerid, 0);
		GivePlayerWeapon(playerid, 4, 1); // [==)::::> knife
		GivePlayerWeapon(playerid, 24, 400); // deagle
		GivePlayerWeapon(playerid, 25, 50); // deagle
		GivePlayerWeapon(playerid, 31, 250); // deagle
		// VIP GUN Bonus
		if(PlayerInfo[playerid][pVip] > 0)
		{
			GivePlayerWeapon(playerid, 16, 2); // grenades
			GivePlayerWeapon(playerid, 34, 10); // sniper
		}
		Delete3DTextLabel(Pgm3D{playerid}); 
		SendClientMessage(playerid, COLOR_SYSTEM, "Теперь вы смертный - оружие возвращено!\n");
	}
	return 1;
}

stock AddExp(playerid, exp)
{
	// lvl * 1000/2
	new nextlvl_exp, ExpMess[64];
	if(PlayerInfo[playerid][pVip] > 0)
	{
		exp = exp * 2;
	}
	PlayerInfo[playerid][pExp] = PlayerInfo[playerid][pExp] + exp;
	format(ExpMess, sizeof(ExpMess),"~y~Exp +%i", exp);
	//GameTextForPlayer(playerid, ExpMess, 4000, 1);
	nextlvl_exp = (PlayerInfo[playerid][pLevel]*1000);
	if (PlayerInfo[playerid][pExp] >= nextlvl_exp)
	{
		PlayerInfo[playerid][pLevel]++;
		SaveAccount(playerid);
	}
	PlayerTextDrawSetString(playerid, BonusExp[playerid], ExpMess);
	PlayerTextDrawShow(playerid, BonusExp[playerid]);
	Exp_timer[playerid] = SetTimerEx("BonusExpTime",1000*4,false,"i",playerid);
}

stock GetPlayerSpeed(playerid, bool:kmh = true)
{
    //new Float:Coord[4];
    //GetPlayerVelocity(playerid, Coord[0], Coord[1], Coord[2]);
    //Coord[3] = floatsqroot(floatpower(floatabs(Coord[0]), 2.0) + floatpower(floatabs(Coord[1]), 2.0) + floatpower(floatabs(Coord[2]), 2.0)) * 213.3;
    //return floatround(Coord[3]);
	new Float:Vx,Float:Vy,Float:Vz,Float:rtn;
	if(IsPlayerInAnyVehicle(playerid)) GetVehicleVelocity(GetPlayerVehicleID(playerid),Vx,Vy,Vz); else GetPlayerVelocity(playerid,Vx,Vy,Vz);
	rtn = floatsqroot(floatabs(floatpower(Vx + Vy + Vz,2)));
	return kmh?floatround(rtn * 100 * 1.61):floatround(rtn * 100);
}

stock UpdatePlayerPosition(playerid)
{
    new Float:x, Float:y, Float:z;
    GetPlayerPos(playerid,x,y,z);
	SetPVarFloat(playerid, "LastPosX", x);
	SetPVarFloat(playerid, "LastPosY", y);
	SetPVarFloat(playerid, "LastPosZ", z);
	SetPVarInt(playerid, "LastInterior", GetPlayerInterior(playerid));
	SetPVarInt(playerid, "LastWorld", GetPlayerVirtualWorld(playerid));
    return 1;
}

stock EjectPassagersFromVeh(playerid)
{
	if(IsPlayerConnected(playerid))
    {
		new State;
        if(IsPlayerInAnyVehicle(playerid))
        {
			State=GetPlayerState(playerid);
			if(State == PLAYER_STATE_DRIVER)
			{
				foreach(Player, f)
				{
					if(!IsPlayerConnected(f))continue;
					if(GetPlayerVehicleID(f) == GetPlayerVehicleID(playerid) && f!=playerid)
					{
						RemovePlayerFromVehicle(f);
						SendClientMessage(f,COLOR_YELLOW,"Вас выкинули из машины.");
					}
				}
				SendClientMessage(playerid,COLOR_YELLOW,"Вы выкинули пассажиров.");
			}
			else
			{
				SendClientMessage(playerid,COLOR_YELLOW,"Ты должен быть водителем, чтобы выкинуть пассажиров.");
				return 1;
			}
		}
	}
	return 1;
}
stock ArmoringVehicle(playerid)
{
	// increase vehicle health
	if(PlayerInfo[playerid][pVip] == 0) return SendClientMessage(playerid,COLOR_YELLOW,"Данная ф-ция только для VIP");
	if(GetPVarInt(playerid,"EscapeTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Вы находитесь в бою.");
	if(GetPVarInt(playerid,"ArmoringVehicleTime") > gettime()) return SendClientMessage(playerid, COLOR_GREY, "Использовать данную ф-цию можно 1 раз в 5 минут");
	if(GetPVarInt(playerid,"pgm") > 0) return SendClientMessage(playerid, COLOR_YELLOW, "Данная ф-ция недоступна в режиме бессмертия");
	new vehicleid = GetPlayerVehicleID(playerid);
	switch(vehicleid){
		case 406,407,430,432,425,447,464,476,601: return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного вида траспорта"); // airveh
		case 446,448,452,424,453,454,461,462,463,468,471,472,449,473,481,484,493,509,510,521,538,522,523,532,537,570,581,586,590,569,595,604,611: return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно для данного вида траспорта");
	}
	new Float:health;
	GetVehicleHealth(vehicleid, health);
	if(IsPlayerConnected(playerid))
    {
        if(IsPlayerInAnyVehicle(playerid) && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
        {
			if(PlayerInfo[playerid][pMoney] < 10000) return SendClientMessage(playerid,COLOR_YELLOW,"Недостаточно средств, стоимость покупки 10.000$");
			if(health < 600 ) return SendClientMessage(playerid,COLOR_YELLOW,"Твой автомобиль нужно сперва отремонтировать, он разваливается");
			if(health > 1000 ) return SendClientMessage(playerid,COLOR_YELLOW,"Твой автомобиль уже бронированный");
			SetVehicleHealth(vehicleid, health+500);
			SetMoney(playerid, -10000);
			SetPVarInt(playerid,"ArmoringVehicleTime", gettime() + 300);
			SendClientMessage(playerid,COLOR_WHITE,"Вы установили броню на свой транспорт +50hp за {006400}10.000$");
		}
	}
	return 1;
}

stock iswheelmodel(modelid)
{
    new wheelmodels[17] = {1025,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1096,1097,1098};
    for(new i=0;i<17;i++)
	{
		if (modelid == wheelmodels[i])
		return 1;
    }
    return 0;
}

stock PlayerStatistics(playerid, showid)
{
	if(IsPlayerConnected(playerid))
	{
		new statinfo[1500], statheader[100], string[150];
		new gangid = PlayerInfo[playerid][pGang];
		format(statheader,sizeof(statheader),"{ffcc00}Статистика игрока %s \n", PlayerName(playerid));
		if(PlayerInfo[playerid][pVip] > 0) strcat(statinfo, "{FFD700}VIP");
		if(GetPVarInt(playerid,"APanel") == 1)
		{
			if(PlayerInfo[playerid][pAdmin] == 1) strcat(statinfo, "{960303}-Хелпер\n");
			else if(PlayerInfo[playerid][pAdmin] == 2) strcat(statinfo, "{960303}-Модератор\n");
			else if(PlayerInfo[playerid][pAdmin] == 3) strcat(statinfo, "{960303}-Администратор\n");
			else if(PlayerInfo[playerid][pAdmin] == 4) strcat(statinfo, "{960303}-Гл.Администратор\n");
			//else if(PlayerInfo[playerid][pAdmin] == 5) strcat(statinfo, "{960303}-Основатель\n");
		}
		if(pAfk[playerid] == 1) strcat(statinfo, "{006699}Игрок отошел AFK\n");
		format(string, sizeof(string), "\n{ffffff}FPS: {ffcc00}%.0f {ffffff}Ping: {ffcc00}%i {ffffff}Packets lost:{ffcc00} %.2f {ffffff}percent.\n", floatabs(GetPlayerFPS(playerid)), GetPlayerPing(playerid),NetStats_PacketLossPercent(playerid));
		strcat(statinfo, string);
		format(string,sizeof(string),"{ffffff}Аккаунт №:{ffcc00} %i\n", PlayerInfo[playerid][pAccount]);
		strcat(statinfo, string);
		format(string,sizeof(string),"\n{ffffff}Уровень:{ffcc00} %i  {ffffff}Опыт:{ffcc00} %i / %i\n", PlayerInfo[playerid][pLevel], PlayerInfo[playerid][pExp], PlayerInfo[playerid][pLevel] * 1000);
		strcat(statinfo, string);
		if(gangid > 0 && gangid < MAX_GANGS)
		{
			format(string,sizeof(string),"{ffffff}№:{ffcc00}%i {ffffff}Клан {ffcc00}%s {ffffff}Тег: {ffcc00}%s\n", PlayerInfo[playerid][pGang], GangInfo[gangid][gName], GangInfo[gangid][gTag]);
			strcat(statinfo, string);
		}
		format(string,sizeof(string),"{ffffff}Убийств: всего{ffcc00} %i{ffffff} из них на дм {ffcc00}%i\t{ffffff}Смертей:{ffcc00} %i\n", PlayerInfo[playerid][pKills],PlayerInfo[playerid][pDmKillsTotal], PlayerInfo[playerid][pDeaths]);
		strcat(statinfo, string);
		format(string,sizeof(string),"{ffffff}Скин ID:{ffcc00} %i \n", GetPlayerSkin(playerid));
		strcat(statinfo, string);
		format(string,sizeof(string),"{ffffff}Назначена награда за голову:{ffcc00} %i \n", PlayerInfo[playerid][pReward]);
		strcat(statinfo, string);
		
		format(string,sizeof(string),"{ffffff}Собрано бонус пакетов:{ffcc00} %i \n", PlayerInfo[playerid][pBonuspack]);
		strcat(statinfo, string);
		format(string,sizeof(string),"{ffffff}Репутация игрока:{ffcc00} %i \n", PlayerInfo[playerid][pReputation]);
		strcat(statinfo, string);
		if(playerid == showid){
			format(string,sizeof(string),"{ffffff}У вас {ffcc00}%i{ffffff} голосов репутации \n", PlayerInfo[playerid][pVotes]);
			strcat(statinfo, string);
		}
		
		format(string,sizeof(string),"\n{ffffff}Деньги на руках:{ffcc00} %i{336600}$ \n", PlayerInfo[playerid][pMoney]);
		strcat(statinfo, string);
		format(string,sizeof(string),"{ffffff}Деньги на счету:{ffcc00} %i{336600}$ \n\n", PlayerInfo[playerid][pCredit]);
		strcat(statinfo, string);
		if(!strlen(PlayerInfo[playerid][pAboutPlayer])){
			format(string,sizeof(string),"{ffffff}О себе:{ffcc00} %s \n", "N/A");
		}
		else format(string,sizeof(string),"{ffffff}О себе:{ffcc00} %s \n", PlayerInfo[playerid][pAboutPlayer]), strcat(statinfo, string);
		
		switch(dmzone[ChosenPlayer[playerid]])
		{
			case 1: format(string, sizeof(string), "{ffffff}Игрок сейчас на дм: {ff9900}random \n"), strcat(statinfo, string);
			case 24: format(string, sizeof(string), "{ffffff}Игрок сейчас на дм: {ff9900}deagle \n"), strcat(statinfo, string);
			case 10: format(string, sizeof(string), "{ffffff}Игрок сейчас на дм: {ff9900}one-shot \n"), strcat(statinfo, string);
			case 9: format(string, sizeof(string), "{ffffff}Игрок сейчас на дм: {ff9900}chainsaw \n"), strcat(statinfo, string);
			case 34: format(string, sizeof(string), "{ffffff}Игрок сейчас на дм: {ff9900}sniper \n"), strcat(statinfo, string);
		}
		switch(tdmzone[playerid])
		{
			case 1: format(string, sizeof(string), "{ffffff}Игрок сейчас на тдм: {ff9900}deagle \n"), strcat(statinfo, string);
			case 2: format(string, sizeof(string), "{ffffff}Игрок сейчас на тдм: {ff9900}lamo \n"), strcat(statinfo, string);
		}
		if(GetPVarInt(playerid,"Jailed") > gettime())
		{
			format(string, sizeof(string), "\n{cc0000}Игрок сидит в тюрьме. Осталось сидеть %d(сек)\n",(GetPVarInt(playerid,"Jailed") - gettime()) );
			strcat(statinfo, string);
		}
		if(PlayerInfo[playerid][pCheater] > 0)
		{
			format(string, sizeof(string), "\n{ff0000}Игрок в чит-мире!\n");
			strcat(statinfo, string);
		}
		if(GetPVarInt(playerid,"Muted") > gettime())
		{
			format(string, sizeof(string), "\n{cc0000}Игрок заглушен на %d(сек)\n",(GetPVarInt(playerid,"Muted") - gettime()) );
			strcat(statinfo, string);
		}
		/*new major, minor, patch;
		CAC_GetClientVersion(playerid, major, minor, patch);
		if(CAC_GetStatus(playerid) > 0)
		{
			format(string, sizeof(string), "{ffff00}SAMPAC {ffffff}Установлен: v%i.%02i.%i\t", CAC_GetStatus(playerid), major, minor, patch);
			strcat(statinfo, string);
		}
		else
		{
			format(string, sizeof(string), "{ffff00}SAMPAC {ffffff}Неустановлен!\t");
			strcat(statinfo, string);
		}
		*/
		//if(PlayerInfo[showid][pAdmin] > 0 && PlayerInfo[playerid][pAdmin] > 0)
		// weaponinfo
		if(GetPVarInt(playerid,"pgm") > 0)
		{
			format(string, sizeof(string), "\n{ff0000}Игрок бессмертен\n");
			strcat(statinfo, string);
		}
		else
		{
			new sweapon, sammo;
			format(string, sizeof(string), "{ffffff}\nОружие на руках: \n");
			strcat(statinfo, string);
			for (new i=1; i<9; i++)
			{
				GetPlayerWeaponData(playerid, i, sweapon, sammo);
				if(sweapon != 0)
				{
					format(string, sizeof(string), "{ffff00}%d: %s (%d) \n", i, GetWeaponNames(sweapon), sammo);
					strcat(statinfo, string);
				}
			}
		}
		SPD(showid, DIALOG_PLAYERTABSTAT, DIALOG_STYLE_MSGBOX, statheader, statinfo,"Ок","Закрыть");
	}
}

stock DopStatistics(showid, playerid)
{
	new ip[16], dopstat[1500], dstring[150], dopstatheader[100];//dopstat
	format(dopstatheader,sizeof(dopstatheader),"{ffcc00}Доп. статистика игрока %s", PlayerName(playerid));
	format(dstring, sizeof(dstring), "{ffffff}Подключен к серверу уже {ff9900}%d {ffffff}минут \n", NetStats_GetConnectedTime(playerid)/60000);
	strcat(dopstat, dstring);
	GetPlayerIp(playerid,ip,sizeof(ip));
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		if(strcmp(ip, "127.0.0.1") == 0) format(dstring, sizeof(dstring), "{ffffff}IP:{ff9900}%s{ffffff}, сидит с {ff9900}localhosta\n", ip), strcat(dopstat, dstring);
		else format(dstring, sizeof(dstring), "{ffffff}IP:{ff9900}\n", ip), strcat(dopstat, dstring);
		if(CAC_GetStatus(playerid) > 0)
		{
			new hwid[CAC__MAX_HARDWARE_ID], buf[40 + CAC__MAX_HARDWARE_ID];
			CAC_GetHardwareID(playerid, hwid, sizeof(hwid));
			format(buf, sizeof(buf), "{ffffff}Hwid: %s\n", hwid);
			strcat(buf, dstring);
		}
		format(dstring, sizeof(dstring), "{ffffff}Serial: {ff9900}%s\n", ReturnGPCI(playerid));
		strcat(dopstat, dstring);
	}
	format(dstring,sizeof(dstring),"\n{ffffff}Аккаунт №:{ff9900} %i\n", PlayerInfo[playerid][pAccount]);
	strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "{ffffff}HP: {ff9900}%.0f {ffffff}Armour: {ff9900}%.0f {ffffff}Skin: {ff9900}%i\n", PlayerInfo[playerid][pHealth], PlayerInfo[playerid][pArmour],GetPlayerSkin(playerid));
	strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "{ffffff}FPS: {ff9900}%.0f {ffffff}Ping: {ff9900}%i {ffffff}P.loss:{ff9900} %.2f {ffffff}\n", floatabs(GetPlayerFPS(playerid)), GetPlayerPing(playerid),NetStats_PacketLossPercent(playerid));
	strcat(dopstat, dstring);
	if(Widescreen[playerid] > 0) strcat("{ffffff}У игрока широкоформатный экран\n", dstring);
	format(dstring, sizeof(dstring), "{ffffff}Предупреждений: {ff9900}%i {ffffff}Забанен: {ff9900}%i \n", PlayerInfo[playerid][pWarns],PlayerInfo[playerid][pBanned]);
	strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "{ffffff}Заглушен: {ff9900}%d{ffffff}(сек) \n", (GetPVarInt(playerid,"Muted")));
	strcat(dopstat, dstring);
	if(GetPVarInt(playerid,"Shots") && GetPVarInt(playerid,"Shothits") != 0)
	{
		new Float:shotsper = (GetPVarInt(playerid,"Shots") / GetPVarInt(playerid,"Shothits"));
		format(dstring, sizeof(dstring), "{ffffff}Коэф. выстрелов/попаданий {ff9900}%.2f{ffffff}\n", shotsper);
		strcat(dopstat, dstring);
	}
	else{
		format(dstring, sizeof(dstring), "{ffffff}Коэф. выстрелов/попаданий {ff9900}%.2f{ffffff}\n", 0.0), strcat(dopstat, dstring);
	}
	format(dstring,sizeof(dstring),"{ffffff}Хедки за сегодня:{ff9900} %i \n", Headshots[playerid]);
	strcat(dopstat, dstring);
	new major, minor, patch;
	CAC_GetClientVersion(playerid, major, minor, patch);
	if(CAC_GetStatus(playerid) > 0) format(dstring, sizeof(dstring), "{ff9900}SAMPAC {ffffff}Установлен: v%i.%02i.%i ", CAC_GetStatus(playerid), major, minor, patch), strcat(dopstat, dstring);
	else format(dstring, sizeof(dstring), "{ff9900}SAMPAC {ffffff}Неустановлен! "), strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "{ffffff}Попаданий в чит-мир: {ff9900}%i \n", PlayerInfo[playerid][pCw]);
	strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "\n{ffffff}Находится в интерьере: {ff9900}%i {ffffff}виртуальном мире: {ff9900}%i \n", GetPlayerInterior(playerid),GetPlayerVirtualWorld(playerid));
	strcat(dopstat, dstring);
	new Float:x,Float:y,Float:z,Float:ang;
	GetPlayerPos(playerid, x, y, z);
	GetPlayerFacingAngle(playerid, ang);
	format(dstring,sizeof(dstring),"{ffffff}X: {ff9900}%.4f{ffffff} {ffffff}Y: {ff9900}%.4f{ffffff} {ffffff}Z: {ff9900}%.4f{ffffff} {ffffff}Angle: {ff9900}%.4f{ffffff}\n", x, y, z, ang);
	strcat(dopstat, dstring);
	if(GetPVarInt(playerid,"Jailed") > gettime())
	{
		format(dstring, sizeof(dstring), "\n{cc0000}Игрок сидит в тюрьме. Осталось сидеть %d(сек)\n",(GetPVarInt(playerid,"Jailed") - gettime()) );
		strcat(dopstat, dstring);
	}
	if(PlayerInfo[playerid][pCheater] > 0)
	{
		format(dstring, sizeof(dstring), "\n{ff0000}Игрок в чит-мире!\n");
		strcat(dopstat, dstring);
	}
	if(GetPVarInt(playerid,"Muted") > gettime())
	{
		format(dstring, sizeof(dstring), "\n{cc0000}Игрок заглушен на %d(сек)\n",(GetPVarInt(playerid,"Muted") - gettime()) );
		strcat(dopstat, dstring);
	}
	if(GetPlayerState(playerid) == 9) format(dstring, sizeof(dstring), "{ffffff}Игрок наблюдает за {ff9900} %s[%i] \n", PlayerName(PlayerSpectateID[playerid]),PlayerSpectateID[playerid]),strcat(dopstat, dstring);
	if(IsPlayerSkydiving(playerid) == 1) format(dstring, sizeof(dstring), "{ffffff}Текущее действие игрока:{ff9900} Прыгает с парашютом \n"), strcat(dopstat, dstring);
	else if(IsPlayerSwimming(playerid) == 1) format(dstring, sizeof(dstring), "{ffffff}Текущее действие игрока:{ff9900} Плывет \n"), strcat(dopstat, dstring);
	else if(IsPlayerBurning(playerid) == 1) format(dstring, sizeof(dstring), "{ffffff}Текущее действие игрока:{ff9900} Горит \n"), strcat(dopstat, dstring);
	else 
	{
		format(dstring, sizeof(dstring), "{ffffff}%s \n", GetPlayerAction(playerid)), strcat(dopstat, dstring);
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) format(dstring, sizeof(dstring), "{ffffff}Игрок сидит в {ff9900}%s id: %i {ffffff}на месте водителя.\n", Vehicles[GetVehicleModel(GetPlayerVehicleID(playerid))-400], GetVehicleModel(GetPlayerVehicleID(playerid)));
		else if(GetPlayerState(playerid) == PLAYER_STATE_NONE) format(dstring, sizeof(dstring), "{ffffff}Игрок не прошел иницилизацию\n");
		else if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT) format(dstring, sizeof(dstring), "{ffffff}Игрок двигается пешим ходом\n");
		else if(GetPlayerState(playerid) == PLAYER_STATE_PASSENGER) format(dstring, sizeof(dstring), "{ffffff}Игрок сидит на месте пассажира.\n");
		else if(GetPlayerState(playerid) == PLAYER_STATE_EXIT_VEHICLE) format(dstring, sizeof(dstring), "{ffffff}Игрок выходит из транспорта.\n");
		else if(GetPlayerState(playerid) == PLAYER_STATE_ENTER_VEHICLE_DRIVER) format(dstring, sizeof(dstring), "{ffffff}Игрок садится на место водителя.\n");
		else if(GetPlayerState(playerid) == PLAYER_STATE_ENTER_VEHICLE_PASSENGER) format(dstring, sizeof(dstring), "{ffffff}Игрок садится на место пассажира.\n");
		strcat(dopstat, dstring);
	}
	format(dstring, sizeof(dstring), "{ffffff}Скорость игрока: {ff9900}%i \n", GetPlayerSpeed(playerid)), strcat(dopstat, dstring);
	if(GetPVarInt(playerid,"pgm") > 0) format(dstring, sizeof(dstring), "\n{ff0000}Игрок бессмертен\n"), strcat(dopstat, dstring);
	else
	{
		new sweapon, sammo;
		format(dstring,sizeof(dstring),"{ffffff}\nДержит {ff9900}%s{ffffff} в руках\n", GetWeaponNames(GetPlayerWeapon(playerid)));
		strcat(dopstat, dstring);
		format(dstring, sizeof(dstring), "{ffffff}Оружие на руках: \n"), strcat(dopstat, dstring);
		for (new i=1; i<9; i++)
		{
			GetPlayerWeaponData(playerid, i, sweapon, sammo);
			if(sweapon != 0)
			{
				format(dstring, sizeof(dstring), "{ff9900}%d: %s (%d) \n", i, GetWeaponNames(sweapon), sammo);
				strcat(dopstat, dstring);
			}
		}
	}
	SPD(showid, DIALOG_DOPMENU, DIALOG_STYLE_MSGBOX,dopstatheader,dopstat,"ok","");
}

stock DopTextDraw(playerid, targetid)
{
	new ip[16], dopstat[1500], dstring[150];//dopstat
	format(dstring,sizeof(dstring),"~w~Account:~g~ %i ~w~Nickname:~g~ %s~n~", PlayerInfo[targetid][pAccount], PlayerName(targetid));
	strcat(dopstat, dstring);
	GetPlayerIp(targetid,ip,sizeof(ip));
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		if(strcmp(ip, "127.0.0.1") == 0) format(dstring, sizeof(dstring), "~w~IP: ~g~localhost~n~"), strcat(dopstat, dstring);
		else format(dstring, sizeof(dstring), "~g~IP:~w~%s~n~", ip), strcat(dopstat, dstring);
	}
	format(dstring, sizeof(dstring), "~w~HP: ~g~%.0f ~w~Armour: ~g~%.0f ~w~Skin: ~g~%i~n~", PlayerInfo[targetid][pHealth], PlayerInfo[targetid][pArmour],GetPlayerSkin(targetid));
	strcat(dopstat, dstring);
	format(dstring, sizeof(dstring), "~w~FPS: ~g~%.0f ~w~Ping: ~g~%i ~w~P.loss:~g~ %.2f~n~", floatabs(GetPlayerFPS(targetid)), GetPlayerPing(targetid),NetStats_PacketLossPercent(targetid));
	strcat(dopstat, dstring);
	
	if(GetPVarInt(targetid,"Shots") && GetPVarInt(targetid,"Shothits") != 0)
	{
		new Float:shotsper = (GetPVarInt(targetid,"Shots") / GetPVarInt(targetid,"Shothits"));
		format(dstring, sizeof(dstring), "~w~Ratio shots/hits ~g~%.2f ~w~Headshots:~g~ %i~n~", shotsper,Headshots[targetid]);
		strcat(dopstat, dstring);
	}
	else{
		format(dstring, sizeof(dstring), "~w~Ratio shots/hits ~g~%.2f ~w~Headshots:~g~ %i~n~", 0.0,Headshots[targetid]), strcat(dopstat, dstring);
	}
	new Float:x,Float:y,Float:z,Float:ang;
	GetPlayerPos(targetid, x, y, z);
	if(GetPlayerState(targetid) == PLAYER_STATE_DRIVER) GetVehicleZAngle(GetPlayerVehicleID(targetid), ang); else GetPlayerFacingAngle(targetid, ang);
	format(dstring, sizeof(dstring), "~w~Interior: ~g~%i ~w~World: ~g~%i ~w~Angle: ~g~%.4f~n~", GetPlayerInterior(targetid),GetPlayerVirtualWorld(targetid),ang);
	strcat(dopstat, dstring);
	format(dstring,sizeof(dstring),"~w~X: ~g~%.4f~w~ ~w~Y: ~g~%.4f~w~ ~w~Z: ~g~%.4f~n~", x, y, z);
	strcat(dopstat, dstring);
	if(GetPlayerState(targetid) == PLAYER_STATE_ONFOOT){
		format(dstring, sizeof(dstring), "~w~Player speed: ~g~%i~n~", GetPlayerSpeed(targetid));
		strcat(dopstat, dstring);
	}
	else if(GetPlayerState(targetid) == PLAYER_STATE_DRIVER){
		format(dstring, sizeof(dstring), "~w~Vehicle ~g~%s ~w~id: ~g~%i~n~", Vehicles[GetVehicleModel(GetPlayerVehicleID(targetid))-400], GetVehicleModel(GetPlayerVehicleID(targetid)));
		strcat(dopstat, dstring);
	}
	if(GetPVarInt(targetid,"pgm") > 0){format(dstring, sizeof(dstring), "~w~GM mode: ~g~On~n~"), strcat(dopstat, dstring);}
	else
	{
		new sweapon, sammo;
		format(dstring,sizeof(dstring),"~n~~w~Weapon in hand: ~g~%s~n~", GetWeaponNamesEN(GetPlayerWeapon(targetid)));
		strcat(dopstat, dstring);
		format(dstring, sizeof(dstring), "~w~Weapons: ~n~"), strcat(dopstat, dstring);
		for (new i=1; i<9; i++)
		{
			GetPlayerWeaponData(targetid, i, sweapon, sammo);
			if(sweapon != 0)
			{
				format(dstring, sizeof(dstring), "~g~%d: ~w~%s (%d) ~n~", i, GetWeaponNamesEN(sweapon), sammo);
				strcat(dopstat, dstring);
			}
		}
	}
	return dopstat;
}

stock AdmState(playerid)
{
	new PlStateStr[850], PlState[40], Plsatus[40], string[144];
	format(PlStateStr, sizeof PlStateStr, "ID\tИгрок\tСтатус\tНахождение\n");
	foreach(Player, i)
	{
		if(PlayerInfo[i][pAdmin] > 0)
		{
			if(pAfk[i] > 0) PlState = "AFK";
			else if(dmzone[i] > 0) PlState = "DM";
			else if(tdmzone[i] > 0) PlState = "TDM";
			else if(cszone[i] > 0) PlState = "CS";
			else if(cwzone[i] > 0) PlState = "CW";
			else if(warzone[i] > 0) PlState = "Warzone";
			else if(survzone[i] > 0) PlState = "Survival";
			else if(trainingzone[i] > 0) PlState = "Training Room";
			else if(GetPVarInt(i,"Jailed") > gettime()) PlState = "Тюрьма";
			else if(PlayerInfo[i][pCheater] > 0) PlState = "Читмир";
			else if(GetPlayerState(i) == 9)  PlState = "Наблюдении";
			else if(GetPlayerVirtualWorld(i) == 0)  PlState = "В обычном мире";
			else PlState = "-";
			
			if(PlayerInfo[playerid][pAdmin] == 1) Plsatus = "Хелпер";
			else if(PlayerInfo[playerid][pAdmin] == 2) Plsatus = "Модератор";
			else if(PlayerInfo[playerid][pAdmin] == 3) Plsatus = "Администратор";
			else if(PlayerInfo[playerid][pAdmin] == 4) Plsatus = "Гл.Администратор";
			else if(PlayerInfo[playerid][pAdmin] == 5) Plsatus = "Основатель";
			format(string, sizeof string, "{ffffff}%d\t%s\t{FFD700}%s\t{00a550}%s\n",i,PlayerName(i),Plsatus,PlState);
			strcat(PlStateStr, string);
		}
	}
	SPD(playerid, DIALOG_ADMSTATE, DIALOG_STYLE_TABLIST_HEADERS, "Adm online", PlStateStr,"Выбрать","Выйти");
}

stock split(const strsrc[], strdest[][], delimiter)
{
	new i, li;
	new aNum;
	new len;
	while(i <= strlen(strsrc)){
		if(strsrc[i]==delimiter || i==strlen(strsrc)){
			len = strmid(strdest[aNum], strsrc, li, i, 128);
			strdest[aNum][len] = 0;
			li = i+1;
			aNum++;
		}
		i++;
	}
	return 1;
}

stock Bonuspack(playerid)
{
	// Hidden packet bouns
	PlayerPlaySound(playerid, 43001, 0, 0, 0);
	SetMoney(playerid, 5000);
	AddExp(playerid, 50);
	PlayerInfo[playerid][pBonuspack]++;
	new result;
	result = PlayerInfo[playerid][pBonuspack] % 10;
	if(result == 0){
		PlayerInfo[playerid][pVotes]++;
		SendClientMessage(playerid, COLOR_INFO, "Вы получили голос репутации");
	}
	SendFormattedText(playerid, COLOR_WHITE, "Игрок %s[%d] нашел скрытый пакет и получил {006400}5000 $ {ffffff}и {CD853F}50 EXP", PlayerName(playerid), playerid);
	return 1;
}

stock GetGiftPlayer(playerid)
{
	PlayerPlaySound(playerid, 43001, 0, 0, 0);
	PlayerInfo[playerid][pBonuspack]++;
	new result;
	result = PlayerInfo[playerid][pBonuspack] % 10;
	if(result == 0){
		PlayerInfo[playerid][pVotes]++;
		SendClientMessage(playerid, COLOR_INFO, "Вы получили голос репутации");
	}
	switch(random(4)+1)
	{
		case 1:
		{
			SetMoney(playerid, 200000);
			SendClientMessage(playerid, COLOR_INFO, "Поздравляем! Вы получили 200.000$ в подарок");
		}
		case 2:
		{
			AddExp(playerid, 10000);
			SendClientMessage(playerid, COLOR_INFO, "Поздравляем! Вы получили 10.000EXP в подарок");
		}
		case 3: 
		{
			PlayerInfo[playerid][pReputation]++;
			PlayerInfo[playerid][pReputation]++;
			PlayerInfo[playerid][pReputation]++;
			SendClientMessage(playerid, COLOR_INFO, "Поздравляем! Вы получили +3 репутации от сервера в подарок");
		}
		case 4:
		{
			PlayerInfo[playerid][pVotes]++;
			PlayerInfo[playerid][pVotes]++;
			PlayerInfo[playerid][pVotes]++;
			SendClientMessage(playerid, COLOR_INFO, "Поздравляем! Вы получили +3 голоса репутации в подарок");
		}
	}
	DestroyDynamicPickup(giftpickup);
}

ReturnGPCI(iPlayerID)
{
    new szSerial[41];
    gpci(iPlayerID, szSerial, sizeof(szSerial));
    return szSerial;
}

stock AllPlayersIP(playerid)
{
	if(PlayerInfo[playerid][pAdmin] >= 2)
	{
		new alliptable[500], ip[16], string[144];
		foreach(Player, i)
		{
			if(IsPlayerConnected(i))
			{
				GetPlayerIp(i,ip,sizeof(ip));
				if(strcmp(ip, "127.0.0.1") == 0)
				{
					format(string, sizeof(string), "{ffffff}%s\t{ff9900}%s\t localhost\t - \n",PlayerName(i),ip);
					strcat(alliptable, string);
				}
				else
				{
					format(string, sizeof(string), "{ffffff}%s\t{ff9900}%s\n",PlayerName(i),ip);
					strcat(alliptable, string);
				}
			}
		}
		SPD(playerid, DIALOG_ALLIPTABLE, DIALOG_STYLE_LIST, "Таблица IP", alliptable, "Select", "Close");
	}
}

stock IsIP(const str[])
{
	new delimiters[]={'.', ' ', ',', '*', '/', ';', '\\', '|'};
	for(new cIP[4]; cIP[0] != strlen(str)+1; cIP[0]++)
	{
		switch(str[cIP[0]])
		{
		case '.', ' ', ':', ',', '*', '/', ';', '\\', '|' : continue;
		case '0' .. '9': cIP[1]++;
		}
		if(cIP[1] ==1){ cIP[2] = cIP[0];}
		if(cIP[1] >= 8)
		{
			new strx[16];
			new l[4][4];
			cIP[3] = cIP[0]+8;
			strmid(strx,str,cIP[2],cIP[3],16);
			for(new i =strlen(strx);i>8;i--)
			{
				switch(strx[i])
				{
				case '0' .. '9','.', ' ', ':', ',', '*', '/', ';', '\\', '|': continue;
				default: strx[i] =0;
				}
			}
			for(new i =0;i<sizeof(delimiters);i++)
			{
				split(strx,l,delimiters[i]);
				if(strlen(l[0]) == 1 ||strlen(l[1]) == 1 ||strlen(l[2]) == 1 ||strlen(l[3]) == 1)
				{
					continue;
				}
				if(strlen(l[0]) >3 ||strlen(l[1]) >3 ||strlen(l[2]) >3)
				{
					continue;
				}
				else
				{
					return 1;
				}
			}
		}
	}
	return 0;
}

stock ShowServerStatistics(playerid)
{
	new ServerStatStr[600], servstring[150];
	// Serverstat
	format(servstring,sizeof(servstring), "{ffffff}Сервер работает с {ff9900}%s{ffffff}\n", unixtodate(ServerRun));
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}Всего создано объектов {ff9900}%d{ffffff} , pickup'ов {ff9900}%d{ffffff}\n",CountDynObjects(), CountDynPickups());
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}Создано транспорта {ff9900}%d{ffffff}\n", GetVehiclePoolSize());
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}С момента запуска, сервер посетило {ff9900}%d{ffffff} игроков. Зарегистрировано новых: {ff9900}%i\n", TOTALPlayers, RegisteredToday);
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}Сейчас онлайн {ff9900}%i игроков. {ffffff}Последний зарегистрированный номер аккаунта {ff9900}%i\n", ONLINE, LastAccountNumber);
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}Подано жалоб {ff9900}%i {ffffff}.Обнаружено {ff9900}%i{ffffff} читеров\n", SendReports, CheatersDetected);
	strcat(ServerStatStr, servstring);
	format(servstring,sizeof(servstring), "{ffffff}Текущий Tickrate сервера: {ff9900}%i {ffffff}, средний пинг: {ff9900}%i{FFFFFF}\n", GetServerTickRate(), GetAveragePing());
	strcat(ServerStatStr, servstring);
	SPD(playerid, DIALOG_SERVERSTAT, DIALOG_STYLE_MSGBOX, "Статистика сервера", ServerStatStr,"Далее","Закрыть");		
}

stock DEATHMATCH_MENU(playerid)
{
	format(DmArenasMenuLst, sizeof(DmArenasMenuLst), "{ffffff}Mode\t{ffffff}Online\n"\
	"{F8F8FF}DM\t{ffffff}%d\n"\
	"{A9A9A9}TDM\t{ffffff}%d\n"\
	"{F8F8FF}T/CW\t{ffffff}%d\n"\
	"{A9A9A9}TRAINING\t{ffffff}%d\n"\
	"{F8F8FF}CS\t{ffffff}%d\n"\
	"{A9A9A9}WARZONE\t{ffffff}%d\n"\
	"{F8F8FF}SURVIVAL\t{ffffff}%d\n"\
	"{A9A9A9}Описание DM режимов\n",
	online_dmz, online_tdmz, online_tcw, online_trz, online_csz, online_warzone, online_survival);
	return SPD(playerid, DIALOG_DEATHMATCH, DIALOG_STYLE_TABLIST_HEADERS, "Deathmatch",DmArenasMenuLst,"Выбрать","Назад");
}

stock DM_MENU(playerid)
{
	format(DmMenuStr, sizeof(DmMenuStr), "{ffffff}DM Arena\t/dm\t{ffffff}Online\n"\
	"Случайное оружие\t{ffff00}rand\t{ffffff}%d\n"\
	"Desert Eagle\t{ffff00}deagle\t{ffffff}%d\n"\
	"Смертельный выстрел\t{ffff00}one-shot\t{ffffff}%d\n"\
	"Бензопила\t{ffff00}chainsaw\t{ffffff}%d\n"\
	"Снайперская винтовка\t{ffff00}sniper\t{ffffff}%d\n",
	online_dmramdom, online_tdmdeagle, online_dmoneshot, online_dmchainsaw, online_dmsniper);
	return SPD(playerid, DIALOG_DM, DIALOG_STYLE_TABLIST_HEADERS, "DM",DmMenuStr,"Выбрать","Назад");
}

stock TRAINING_MENU(playerid)
{
	format(TrainingAreasLst, sizeof(TrainingAreasLst), 	"{ffffff}Arenas\tFree shooting\t{ffffff}Online\n"\
	"Sawn-off \t{ffff00}colt45 + sawnoff + tec9\t{ffffff}%d\n"\
	"Sniper \t{ffff00}sniper rifle\t{ffffff}%d\n"\
	"Pro pack \t{ffff00}deagle + shotgun\t{ffffff}%d\n"\
	"Chainsaw \t{ffff00}chainsaw\t{ffffff}%d\n",
	online_trlamo, online_trsniper, online_trpro, online_trchains);
	return SPD(playerid, DIALOG_TRAININGAREA, DIALOG_STYLE_TABLIST_HEADERS, "TRAINING ARENAS", TrainingAreasLst,"Выбрать","Назад");
}

stock TDM_MENU(playerid)
{
	format(TDmMenuLst, sizeof(TDmMenuLst), "{ffffff}TDM Arena\t{ffff00}/tdm\t{ffffff}Online\n"\
	"TDM Desert Eagle\t{ffff00}deagle + shotgun\t{ffffff}%d\n"\
	"TDM Lamo\t{ffff00}colt45 + sawnoff + tec9\t{ffffff}%d\n"\
	"TDM Sniper\t{ffff00}knife + sniper rifle\t{ffffff}%d\n", online_tdmdeagle, online_tdmlamo, online_tdmsniper);
	return SPD(playerid, DIALOG_TDM, DIALOG_STYLE_TABLIST_HEADERS, "TDM",TDmMenuLst,"Выбрать","Назад");	
}

stock TDM(playerid, zone)
{
	CloseMenuAccess[playerid] = 1;
	if(team[playerid] == TEAM_RED) SetPlayerColor(playerid, TEAM_RED_COLOR);
	if(team[playerid] == TEAM_BLUE) SetPlayerColor(playerid, TEAM_BLUE_COLOR);
	ResetPlayerWeapons(playerid);
	UpdatePlayerPosition(playerid);
	GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
	switch(zone)
	{
		case 1:
		{
			SetPlayerWorldBounds(playerid, 2433.59375, 2138.671875, 759.765625, 626.953125);
			new tdmrand = random(sizeof(DmDeagleSpawn));
			SetPlayerPosEx(playerid,DmDeagleSpawn[tdmrand][0], DmDeagleSpawn[tdmrand][1], DmDeagleSpawn[tdmrand][2],0,17,0);
			GivePlayerWeapon(playerid,24,10000);
			GivePlayerWeapon(playerid,25,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			if(online_tdmdeagle == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на TDM Deagle и сейчас там один, можете присоединиться к нему /tdm", PlayerName(playerid));
			online_tdmdeagle++;
		}
		case 2:
		{
			if(TdmSawnArenaId == 1){
				SetPlayerWorldBounds(playerid, 1404.296875, 1294.921875, 2201.171875, 2097.65625);
				new tdmrand = random(sizeof(TDM_LamoSpawn));
				SetPlayerPosEx(playerid,TDM_LamoSpawn[tdmrand][0], TDM_LamoSpawn[tdmrand][1], TDM_LamoSpawn[tdmrand][2],0,12,0);
			}
			GivePlayerWeapon(playerid,22,10000);
			GivePlayerWeapon(playerid,26,10000);
			GivePlayerWeapon(playerid,32,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			if(online_tdmlamo == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на TDM Lamo и сейчас там один, можете присоединиться к нему /tdm", PlayerName(playerid));
			online_tdmlamo++;
		}
		case 3:
		{
			if(TdmSniperArenaId == 1){
				SetPlayerWorldBounds(playerid, 17.578125, -155.2734375, 184.5703125, -131.8359375);
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperSpawnRED[rand][0], TDM_SniperSpawnRED[rand][1], TDM_SniperSpawnRED[rand][2],0,15,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperSpawnBLUE[rand][0], TDM_SniperSpawnBLUE[rand][1], TDM_SniperSpawnBLUE[rand][2],0,15,0);
				}
			}
			if(TdmSniperArenaId == 2){
				SetPlayerWorldBounds(playerid, 1278.5, 721.5, 2795.5, 2202.5); 
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperSmallSpawnRED[rand][0], TDM_SniperSmallSpawnRED[rand][1], TDM_SniperSmallSpawnRED[rand][2],0,11,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperSmallSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperSmallSpawnBLUE[rand][0], TDM_SniperSmallSpawnBLUE[rand][1], TDM_SniperSmallSpawnBLUE[rand][2],0,11,0);
				}
			}
			if(TdmSniperArenaId == 3){
				SetPlayerWorldBounds(playerid, 2702.00, 2303.00, 1268.5, 878.5);
				SendClientMessage(playerid, COLOR_GREY, "Pwn team tdm sniper arena - mapped by heccberte");
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperPwnSpawnRED[rand][0], TDM_SniperPwnSpawnRED[rand][1], TDM_SniperPwnSpawnRED[rand][2],0,11,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperPwnSpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperPwnSpawnBLUE[rand][0], TDM_SniperPwnSpawnBLUE[rand][1], TDM_SniperPwnSpawnBLUE[rand][2],0,11,0);
				}
			}
			if(TdmSniperArenaId == 4){
				SetPlayerWorldBounds(playerid, 1669.046264, 2002.079711, -2756.156738, -2537.468261);
				if(team[playerid] == TEAM_RED)
				{
					new rand = random(sizeof(TDM_SniperCsLsDustpawnRED));
					SetPlayerPosEx(playerid,TDM_SniperCsLsDustpawnRED[rand][0], TDM_SniperCsLsDustpawnRED[rand][1], TDM_SniperCsLsDustpawnRED[rand][2],0,25,0);
				}
				if(team[playerid] == TEAM_BLUE)
				{
					new rand = random(sizeof(TDM_SniperCsLsDustpawnBLUE));
					SetPlayerPosEx(playerid,TDM_SniperCsLsDustpawnBLUE[rand][0], TDM_SniperCsLsDustpawnBLUE[rand][1], TDM_SniperCsLsDustpawnBLUE[rand][2],0,25,0);
				}
			}
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,34,10000);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			if(online_tdmsniper == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на TDM Sniper и сейчас там один, можете присоединиться к нему /tdm", PlayerName(playerid));
			online_tdmsniper++;
		}
	}
	SendClientMessage(playerid,COLOR_INFO,dmexstr);
	SendTexdrawMessage(playerid, "~w~Type ~g~<N> ~w~show menu");
}

stock RoundBonus(playerid, exp, money)
{
	AddExp(playerid,exp);
	SetMoney(playerid,money);
	SendFormattedText(playerid,COLOR_WHITE,"Поздравляем ваша команда выйграла раунд! Вы получили {BC8F8F}%d Exp {ffffff}и {008000}%d $",exp,money);
}

stock Cszone(playerid, selectedteam)
{
	switch(selectedteam)
	{
		case 0:
		{
			if(cszone[playerid] > 0) SendClientMessage(playerid, COLOR_INFO,"Вы уже находитесь на CS зоне. Чтобы покинуть введите: /exit либо /выход");
			CloseMenuAccess[playerid] = 1;
			TempColor[playerid] = GetPlayerColor(playerid);
			cszone[playerid] = 1;
			team[playerid] = TEAM_RED;
			SetPlayerColor(playerid, TEAM_RED_COLOR);
			ResetPlayerWeapons(playerid);
			SendClientMessage(playerid, 0x33AA33AA, "You joined the Terrorists.");
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,22,10000);
			GivePlayerWeapon(playerid,27,10000);
			GivePlayerWeapon(playerid,30,10000);
			GivePlayerWeapon(playerid,17,1);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			SetPlayerTeam(playerid, 1);
			SetPlayerSkin(playerid,144);
			SetPlayerWorldBounds(playerid, -909.5,-1301.5,-834.5,-1143.5);
			new rand = random(sizeof(CS1_SpawnTerrorists));
			SetPlayerPosEx(playerid,CS1_SpawnTerrorists[rand][0], CS1_SpawnTerrorists[rand][1], CS1_SpawnTerrorists[rand][2],0,24,0);
			if(online_csz == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на CS и сейчас там один, можете присоединиться к нему Y - DeathMatch - CSZONE", PlayerName(playerid));
			online_csz++;
		}
		case 1:
		{
			if(cszone[playerid] > 0) SendClientMessage(playerid, COLOR_INFO,"Вы уже находитесь на CS зоне. Чтобы покинуть введите: /exit либо /выход");
			CloseMenuAccess[playerid] = 1;
			TempColor[playerid] = GetPlayerColor(playerid);
			cszone[playerid] = 1;
			team[playerid] = TEAM_BLUE;
			SetPlayerColor(playerid, TEAM_BLUE_COLOR);
			ResetPlayerWeapons(playerid);
			SendClientMessage(playerid, 0x33AA33AA, "You joined the Swat.");
			GivePlayerWeapon(playerid,4,1);
			GivePlayerWeapon(playerid,23,10000);
			GivePlayerWeapon(playerid,25,10000);
			GivePlayerWeapon(playerid,31,10000);
			GivePlayerWeapon(playerid,17,1);
			SetPlayerHealth(playerid,100);
			SetPlayerArmour(playerid,100);
			SetPlayerTeam(playerid, 2);
			SetPlayerSkin(playerid,285);
			SetPlayerWorldBounds(playerid, -909.5,-1301.5,-834.5,-1143.5);
			new rand = random(sizeof(CS1_SpawnSwat));
			SetPlayerPosEx(playerid,CS1_SpawnSwat[rand][0], CS1_SpawnSwat[rand][1], CS1_SpawnSwat[rand][2],0,24,0);
			if(online_csz == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на CS и сейчас там один, можете присоединиться к нему Y - DeathMatch - CSZONE", PlayerName(playerid));
			online_csz++;
		}
	}
	SendTexdrawMessage(playerid, "~w~Type ~g~<N> ~w~show menu");
}

stock Warzone(playerid)
{
	CloseMenuAccess[playerid] = 1;
	warzone[playerid] = 1;
	GangZoneShowForPlayer(playerid, warzonemap, 0xFF7F00FF);
	SetPlayerWorldBounds(playerid, 620.00012, -240.9998, 2838.5, 2182.5);
	ResetPlayerWeapons(playerid);
	UpdatePlayerPosition(playerid);
	GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
	GivePlayerWeapon(playerid,4,1);
	GivePlayerWeapon(playerid,25,10000);
	GivePlayerWeapon(playerid,31,10000);
	SetPlayerHealth(playerid,100);
	SetPlayerArmour(playerid,0);
	new rand = random(sizeof(WarzoneSpawn));
	SetPlayerPosEx(playerid,WarzoneSpawn[rand][0], WarzoneSpawn[rand][1], WarzoneSpawn[rand][2],0,22,0);
	if(online_warzone == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на warzone и сейчас там один, можете присоединиться к нему Y - DeathMatch - Warzone", PlayerName(playerid));
	online_warzone++;
	SendTexdrawMessage(playerid, "~w~Type ~g~<N> ~w~show menu");
}

stock Survival(playerid)
{
	CloseMenuAccess[playerid] = 1;
	survzone[playerid] = 1;
	//GangZoneShowForPlayer(playerid, warzonemap, 0xFF7F00FF);
	SetPlayerWorldBounds(playerid, -12.5, -915.5, -2027.499, -2814.499);
	ResetPlayerWeapons(playerid);
	UpdatePlayerPosition(playerid);
	GetPlayerPos(playerid, AntiAFK_Pos[0], AntiAFK_Pos[1], AntiAFK_Pos[2]);
	GivePlayerWeapon(playerid,31,500);
	SetPlayerHealth(playerid,100);
	SetPlayerArmour(playerid,20);
	SendClientMessage(playerid, COLOR_GREY, "Death desert - mapped by heccberte");
	new rand = random(sizeof(Map_DeathDesert));
	SetPlayerPosEx(playerid,Map_DeathDesert[rand][0], Map_DeathDesert[rand][1], Map_DeathDesert[rand][2],0,10,0);
	if(online_survival == 0) SendFormattedTextToAll(COLOR_ORANGE, "Игрок %s зашел на survival и сейчас там один, можете присоединиться к нему Y - DeathMatch - SURVIVAL", PlayerName(playerid));
	online_survival++;
	SendTexdrawMessage(playerid, "~w~Type ~g~<N> ~w~show menu");
}

stock PlMoneyTransferDLG(playerid,targetid)
{
	new PlayerMoneyTransfStr[350], string[144];
	format(string,sizeof(string), "{ffff00}Денег у тебя на счету: %i$ у игрока %i$\n", GetPlayerMoney(playerid),GetPlayerMoney(targetid));
	strcat(PlayerMoneyTransfStr, string);
	strcat(PlayerMoneyTransfStr, "{ffffff}Лимиты перевода средств по уровням:\n1-10: 100.000$\n10-30: 300.000$\n30-50: 500.000$\n50-100: 1.000.000$\n100-250: 2.500.000$\n250-500: 5.000.000$\n500+ безлимитно\n");
	format(string,sizeof(string), "{ffffff}Игроку можно перевести еще %i$. Введите сумму перевода:\n", PlayerInfo[targetid][pLimit]);
	strcat(PlayerMoneyTransfStr, string);
	SPD(playerid, DIALOG_PLAYERTMONEY, DIALOG_STYLE_INPUT, "Перевод средств", PlayerMoneyTransfStr,"Ок","Закрыть");
}

UpdateSpectatingStatus(playerid, specid)
{
	SetPlayerInterior(playerid,GetPlayerInterior(specid));
	SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(specid));
	PlayerSpectatePlayer(playerid, specid);
	if(GetPlayerState(specid) == PLAYER_STATE_DRIVER || GetPlayerState(specid) == PLAYER_STATE_PASSENGER)
	{
		new idid = GetPlayerVehicleID(specid);
		PlayerSpectateVehicle(playerid, idid);
	}
}

stock Spectate(playerid,specid)
{
	if(specid == playerid) return SendClientMessage(playerid, COLOR_YELLOW, "Наблюдение работает только за другим игроком. Вы выбрали сами себя.");
	if(GetPlayerInterior(playerid) == 0 && PlayerInfo[playerid][pAdmin] <= 1) return SendClientMessage(playerid, COLOR_YELLOW, "Вам нельзя уйти в наблюдение на улице!");
	if(GetPVarInt(specid,"SpecProtect")) return SendClientMessage(playerid, COLOR_YELLOW, "Недоступно наблюдение за данным игроком");
	if(PlayerInfo[playerid][pAdmin] <= 1 || PlayerInfo[playerid][pVip] > 0) SetPVarInt(playerid, "ShowDopTableTD",specid);
	if(IsPlayerConnected(playerid)) //spec
	{
		if(GetPlayerState(specid) == PLAYER_STATE_ONFOOT )
		{
			UpdatePlayerPosition(playerid); 
			SetPlayerInterior(playerid,GetPlayerInterior(specid));
			SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(specid));
			TogglePlayerSpectating(playerid, 1);
			PlayerSpectatePlayer(playerid, specid);
			PlayerSpectateID[playerid] = specid;
			PlayerSpec[specid] = playerid;
			if(PlayerInfo[specid][pAdmin] >= 2) SendFormattedText(playerid,COLOR_ORANGE,"Игрок %s[%d] ушел в наблюдение за вами", PlayerName(playerid), playerid);
			if(PlayerInfo[specid][pAdmin] == 0 && PlayerInfo[playerid][pVip] > 0) SendFormattedText(playerid,COLOR_ORANGE,"Игрок %s[%d] ушел в наблюдение за вами", PlayerName(playerid), playerid);
			SendClientMessage(playerid,COLOR_YELLOW,"Нажмите клавишу <ALT> или используйте команду /specoff для выхода из наблюдения");
		}
		else if(GetPlayerState(specid) == PLAYER_STATE_DRIVER || GetPlayerState(specid) == PLAYER_STATE_PASSENGER)
		{
			UpdatePlayerPosition(playerid); 
			SetPlayerInterior(playerid,GetPlayerInterior(specid));
			SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(specid));
			new idid = GetPlayerVehicleID(specid);
			TogglePlayerSpectating(playerid, 1);
			PlayerSpectateVehicle(playerid, idid);
			PlayerSpectateID[playerid] = specid;
			PlayerSpec[specid] = playerid;
			if(PlayerInfo[specid][pAdmin] >= 2) SendFormattedText(playerid,COLOR_ORANGE,"Игрок %s[%d] ушел в наблюдение за вами", PlayerName(playerid), playerid);
			if(PlayerInfo[specid][pAdmin] == 0 && PlayerInfo[playerid][pVip] > 0) SendFormattedText(playerid,COLOR_ORANGE,"Игрок %s[%d] ушел в наблюдение за вами", PlayerName(playerid), playerid);
			SendClientMessage(playerid,COLOR_YELLOW,"Нажмите клавишу <ALT> или используйте команду /specoff для выхода из наблюдения");
		}
		else if(GetPlayerState(specid) == PLAYER_STATE_SPECTATING) SendClientMessage(playerid,COLOR_YELLOW,"Игрок сам наблюдает за кем-то");
		else SendClientMessage(playerid,COLOR_YELLOW,"Игрок умер или еще не заспавнился, попробуйте чуть позже.");
	}
	else
	{
		SendClientMessage(playerid,COLOR_YELLOW,"Игрок вышел");
	}
	return 1;
}

stock SpecOff(playerid)
{ 
	if(PlayerSpectateID[playerid] >= 0)
	{
		//if(GetPVarInt(playerid, "Logged") != 1) return 0;
		SetPlayerPos(playerid,GetPVarFloat(playerid,"LastPosX"),GetPVarFloat(playerid,"LastPosY"),GetPVarFloat(playerid,"LastPosZ"));
		TogglePlayerSpectating(playerid, 0);
		SetCameraBehindPlayer(playerid);
		PlayerSpec[PlayerSpectateID[playerid]] = -1;
		PlayerSpectateID[playerid] = -1;
		SetPVarInt(playerid, "ShowDopTableTD", -1);
		PlayerTextDrawHide(playerid, SpecPlInfo[playerid]);
		SendClientMessage(playerid,COLOR_YELLOW,"Слежка окончена.");
		PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
	}
	return 1;
}

stock KickInactivePlayers()
{
	// kick inactive players
	// GetPlayerPos(playerid, ESC_Pos[0], ESC_Pos[1], ESC_Pos[2]);
	new counter = 0;
	foreach(Player,i)
	{
		if(InactivePlayers[i] == 1){
			counter++;
			KickEx(i, COLOR_SYSTEM, "Вы были кикнуты с сервера по причине длительного бездействия [Reason: Long time inactive]");
		}
	}
	return counter;
}

stock PlayerInRadius(playerid, targetid, Float:radius)
{
	new Float:OnePos[3], Float:TwoPos[3], Float:TmpPos[3];
	GetPlayerPos(playerid, OnePos[0], OnePos[1], OnePos[2]);
	if(!IsPlayerInRangeOfPoint(targetid, radius, OnePos[0], OnePos[1], OnePos[2]) || !IsPlayerConnected(targetid)) return false;
	if(GetPlayerInterior(playerid) != GetPlayerInterior(targetid) || GetPlayerVirtualWorld(playerid) != GetPlayerVirtualWorld(targetid)) return false;
	GetPlayerPos(targetid, TwoPos[0], TwoPos[1], TwoPos[2]);
	TmpPos[0] = (TwoPos[0] - OnePos[0]);
	TmpPos[1] = (TwoPos[1] - OnePos[1]);
	TmpPos[2] = (TwoPos[2] - OnePos[2]);
	if(((TmpPos[0] < radius) && (TmpPos[0] > -radius)) && ((TmpPos[1] < radius) && (TmpPos[1] > -radius)) && ((TmpPos[2] < radius) && (TmpPos[2] > -radius))) return true;
	return false;
}

stock RemoveVehiclesNearPlayer(playerid, Float:radius = 10.0)
{
	new Float:x,Float:y, Float:z;
	for(new v; v < MAX_VEHICLES; v++)
	{
		GetVehiclePos(v, x, y, z);
		if(!IsPlayerInRangeOfPoint(playerid, radius, x,y,z)) continue;
		DestroyVehicle(v);
		return 1;
	}
	SendFormattedText(playerid, COLOR_WHITE, "Транспорт в радиусе %.2f метроа был удален!", radius);
	format(log, sizeof(log), "Администратор %s удалил транспорт в радиусе %.2f", PlayerName(playerid), radius);
	AdmLog(log);
	return 1;
}

stock RespawnVehiclesNearPlayer(playerid, Float:radius = 10.0)
{
	new Float:x,Float:y, Float:z;
	for(new v; v < MAX_VEHICLES; v++)
	{
		GetVehiclePos(v, x, y, z);
		if(!IsPlayerInRangeOfPoint(playerid, radius, x,y,z)) continue;
		SetVehicleToRespawn(v);
		return 1;
	}
	SendFormattedText(playerid, COLOR_WHITE, "Транспорт в радиусе %.2f метроа был отправлен на точку появления", radius);
	format(log, sizeof(log), "%s зареспавнил транспорт в радиусе %.2f", PlayerName(playerid), radius);
	AdmLog(log);
	return 1;
}

stock GetWeaponNames(weaponid)
{
	new weanr[50];
	switch (weaponid)  
	{
		case 0: weanr = "Оружия нет";
		case 1: weanr = "Кастет";
		case 2: weanr = "Гольф клюшка";
		case 3: weanr = "Полицейская дубинка";
		case 4: weanr = "Нож";
		case 5: weanr = "Бейсбольная бита";
		case 6: weanr = "Лопата";
		case 7: weanr = "Бильярдный кий";
		case 8: weanr = "Катана";
		case 9: weanr = "Бензопила";
		case 10: weanr = "Фаллос";
		case 11: weanr = "Фаллос";
		case 12: weanr = "Фаллос";
		case 13: weanr = "Фаллос";
		case 14: weanr = "Букет цветов";
		case 15: weanr = "Трость";
		case 16: weanr = "Гранаты";
		case 17: weanr = "Слезоточивый газ";
		case 18: weanr = "Коктейль молотова";
		case 19: weanr = "Задавило";
		case 20: weanr = "Задавило";
		case 21: weanr = "JetPack";
		case 22: weanr = "Colt";
		case 23: weanr = "Пистолет с глушителем";
		case 24: weanr = "Пустынный орел";
		case 25: weanr = "Дробовик";
		case 26: weanr = "Обрез";
		case 27: weanr = "Боевой дробовик";
		case 28: weanr = "UZI";
		case 29: weanr = "МП5";
		case 30: weanr = "АК-47";
		case 31: weanr = "М4";
		case 32: weanr = "TEC-9";
		case 33: weanr = "Винтовка";
		case 34: weanr = "Снайперская винтовка";
		case 35: weanr = "RPG";
		case 36: weanr = "Ракетная установка";
		case 37: weanr = "Огнемет";
		case 38: weanr = "Миниган";
		case 39: weanr = "C4";
		case 40: weanr = "Детонатор";
		case 41: weanr = "Балончик";
		case 42: weanr = "Огнетушитель";
		case 43: weanr = "Камера";
		case 44: weanr = "Очки ночного видения";
		case 45: weanr = "Тепловизор";
		case 46: weanr = "Парашют";
		case 47: weanr = "Задавил";
		case 48: weanr = "Отсутствует";
		case 49: weanr = "Задавил";
		case 50: weanr = "Винтом вертолета";
		default:weanr = "Отсутствует";
	}
	return weanr;
}

stock GetWeaponNamesEN(weaponid)
{
	new weanr[50];
	switch (weaponid)  
	{	
		case 0: weanr = "none";
		case 1: weanr = "brassknuckle";
		case 2: weanr = "golfclub";
		case 3: weanr = "nightstick";
		case 4: weanr = "knife";
		case 5: weanr = "bat";
		case 6: weanr = "shovel";
		case 7: weanr = "poolstick";
		case 8: weanr = "katana";
		case 9: weanr = "chainsaw";
		case 10: weanr = "dildo";
		case 11: weanr = "vibrator";
		case 12: weanr = "fallos";
		case 13: weanr = "fallos";
		case 14: weanr = "flower";
		case 15: weanr = "cane";
		case 16: weanr = "grenade";
		case 17: weanr = "teargas";
		case 18: weanr = "molotov";
		case 19: weanr = "crush";
		case 20: weanr = "crush";
		case 21: weanr = "jetpack";
		case 22: weanr = "colt 45";
		case 23: weanr = "silenced";
		case 24: weanr = "deagle";
		case 25: weanr = "shotgun";
		case 26: weanr = "sawed-off";
		case 27: weanr = "combat shotgun";
		case 28: weanr = "uzi";
		case 29: weanr = "mp5";
		case 30: weanr = "ak-47";
		case 31: weanr = "m4";
		case 32: weanr = "tec-9";
		case 33: weanr = "rifle";
		case 34: weanr = "sniper";
		case 35: weanr = "rocket launcher";
		case 36: weanr = "rocket launcher hs";
		case 37: weanr = "flamethrower";
		case 38: weanr = "minigun";
		case 39: weanr = "satchel";
		case 40: weanr = "bomb";
		case 41: weanr = "spraycan";
		case 42: weanr = "fire extinguisher";
		case 43: weanr = "camera";
		case 44: weanr = "nightvision";
		case 45: weanr = "infrared";
		case 46: weanr = "parachute";
		case 47: weanr = "crush";
		case 48: weanr = "none";
		case 49: weanr = "crush";
		case 50: weanr = "helicopter rotor";
		default:weanr = "None";
	}
	return weanr;
}

stock RemoveAllAttachedObjects(playerid)
{
	new zz=0;
	while(zz!=MAX_PLAYER_ATTACHED_OBJECTS)
	{
		if(IsPlayerAttachedObjectSlotUsed(playerid, zz))
		{
			RemovePlayerAttachedObject(playerid, zz);
		}
		zz++;
	}
	PlayerInfo[playerid][pObjGlasses] = 0;
	PlayerInfo[playerid][pObjMask] = 0;
	PlayerInfo[playerid][pObjHat] = 0;
	return 1;
}

stock PreloadAnimLib(playerid, animlib[])
{
   ApplyAnimation(playerid,animlib,"null",0.0,0,0,0,0,0);
   return 1;
}

stock PreloadAllAnimLibs(playerid)
{
	PreloadAnimLib(playerid,"AIRPORT");	     
	PreloadAnimLib(playerid,"Attractors");	  
	PreloadAnimLib(playerid,"BAR");	 
	PreloadAnimLib(playerid,"BASEBALL");	    
	PreloadAnimLib(playerid,"BD_FIRE");	     
	PreloadAnimLib(playerid,"BEACH");	       
	PreloadAnimLib(playerid,"benchpress");	  
	PreloadAnimLib(playerid,"BF_injection");		
	PreloadAnimLib(playerid,"BIKED");	       
	PreloadAnimLib(playerid,"BIKEH");		 
	PreloadAnimLib(playerid,"BIKELEAP");	      
	PreloadAnimLib(playerid,"BIKES");		 
	PreloadAnimLib(playerid,"BIKEV");		 
	PreloadAnimLib(playerid,"BIKE_DBZ");	      
	PreloadAnimLib(playerid,"BLOWJOBZ");	      
	PreloadAnimLib(playerid,"BMX");	   
	PreloadAnimLib(playerid,"BOMBER");		
	PreloadAnimLib(playerid,"BOX");	   
	PreloadAnimLib(playerid,"BSKTBALL");	      
	PreloadAnimLib(playerid,"BUDDY");		 
	PreloadAnimLib(playerid,"BUS");	   
	PreloadAnimLib(playerid,"CAMERA");		
	PreloadAnimLib(playerid,"CAR");	   
	PreloadAnimLib(playerid,"CARRY");		 
	PreloadAnimLib(playerid,"CAR_CHAT");	      
	PreloadAnimLib(playerid,"CASINO");		
	PreloadAnimLib(playerid,"CHAINSAW");	      
	PreloadAnimLib(playerid,"CHOPPA");		
	PreloadAnimLib(playerid,"CLOTHES");	       
	PreloadAnimLib(playerid,"COACH");		 
	PreloadAnimLib(playerid,"COLT45");		
	PreloadAnimLib(playerid,"COP_AMBIENT");	   
	PreloadAnimLib(playerid,"COP_DVBYZ");	     
	PreloadAnimLib(playerid,"CRACK");		 
	PreloadAnimLib(playerid,"CRIB");		  
	PreloadAnimLib(playerid,"DAM_JUMP");	      
	PreloadAnimLib(playerid,"DANCING");	       
	PreloadAnimLib(playerid,"DEALER");		
	PreloadAnimLib(playerid,"DILDO");		 
	PreloadAnimLib(playerid,"DODGE");		 
	PreloadAnimLib(playerid,"DOZER");		 
	PreloadAnimLib(playerid,"DRIVEBYS");	      
	PreloadAnimLib(playerid,"FAT");	   
	PreloadAnimLib(playerid,"FIGHT_B");	       
	PreloadAnimLib(playerid,"FIGHT_C");	       
	PreloadAnimLib(playerid,"FIGHT_D");	       
	PreloadAnimLib(playerid,"FIGHT_E");	       
	PreloadAnimLib(playerid,"FINALE");		
	PreloadAnimLib(playerid,"FINALE2");	       
	PreloadAnimLib(playerid,"FLAME");		 
	PreloadAnimLib(playerid,"Flowers");	       
	PreloadAnimLib(playerid,"FOOD");		  
	PreloadAnimLib(playerid,"Freeweights");	   
	PreloadAnimLib(playerid,"GANGS");		 
	PreloadAnimLib(playerid,"GHANDS");		
	PreloadAnimLib(playerid,"GHETTO_DB");	     
	PreloadAnimLib(playerid,"goggles");	       
	PreloadAnimLib(playerid,"GRAFFITI");	      
	PreloadAnimLib(playerid,"GRAVEYARD");	     
	PreloadAnimLib(playerid,"GRENADE");	       
	PreloadAnimLib(playerid,"GYMNASIUM");	     
	PreloadAnimLib(playerid,"HAIRCUTS");	      
	PreloadAnimLib(playerid,"HEIST9");		
	PreloadAnimLib(playerid,"INT_HOUSE");	     
	PreloadAnimLib(playerid,"INT_OFFICE");	    
	PreloadAnimLib(playerid,"INT_SHOP");	      
	PreloadAnimLib(playerid,"JST_BUISNESS");		  
	PreloadAnimLib(playerid,"KART");		  
	PreloadAnimLib(playerid,"KISSING");	       
	PreloadAnimLib(playerid,"KNIFE");		 
	PreloadAnimLib(playerid,"LAPDAN1");	       
	PreloadAnimLib(playerid,"LAPDAN2");	       
	PreloadAnimLib(playerid,"LAPDAN3");	       
	PreloadAnimLib(playerid,"LOWRIDER");	      
	PreloadAnimLib(playerid,"MD_CHASE");	      
	PreloadAnimLib(playerid,"MD_END");                
	PreloadAnimLib(playerid,"MEDIC");                 
	PreloadAnimLib(playerid,"MISC");                  
	PreloadAnimLib(playerid,"MTB");           
	PreloadAnimLib(playerid,"MUSCULAR");              
	PreloadAnimLib(playerid,"NEVADA");                
	PreloadAnimLib(playerid,"ON_LOOKERS");            
	PreloadAnimLib(playerid,"OTB");           
	PreloadAnimLib(playerid,"PARACHUTE");             
	PreloadAnimLib(playerid,"PARK");                  
	PreloadAnimLib(playerid,"PAULNMAC");              
	PreloadAnimLib(playerid,"ped");           
	PreloadAnimLib(playerid,"PLAYER_DVBYS");                  
	PreloadAnimLib(playerid,"PLAYIDLES");             
	PreloadAnimLib(playerid,"POLICE");                
	PreloadAnimLib(playerid,"POOL");                  
	PreloadAnimLib(playerid,"POOR");                  
	PreloadAnimLib(playerid,"PYTHON");                
	PreloadAnimLib(playerid,"QUAD");                  
	PreloadAnimLib(playerid,"QUAD_DBZ");              
	PreloadAnimLib(playerid,"RAPPING");               
	PreloadAnimLib(playerid,"RIFLE");                 
	PreloadAnimLib(playerid,"RIOT");                  
	PreloadAnimLib(playerid,"ROB_BANK");              
	PreloadAnimLib(playerid,"ROCKET");                
	PreloadAnimLib(playerid,"RUSTLER");               
	PreloadAnimLib(playerid,"RYDER");                 
	PreloadAnimLib(playerid,"SCRATCHING");            
	PreloadAnimLib(playerid,"SHAMAL");                
	PreloadAnimLib(playerid,"SHOP");                  
	PreloadAnimLib(playerid,"SHOTGUN");               
	PreloadAnimLib(playerid,"SILENCED");              
	PreloadAnimLib(playerid,"SKATE");                 
	PreloadAnimLib(playerid,"SMOKING");               
	PreloadAnimLib(playerid,"SNIPER");                
	PreloadAnimLib(playerid,"SPRAYCAN");              
	PreloadAnimLib(playerid,"STRIP");                 
	PreloadAnimLib(playerid,"SUNBATHE");              
	PreloadAnimLib(playerid,"SWAT");                  
	PreloadAnimLib(playerid,"SWEET");                 
	PreloadAnimLib(playerid,"SWIM");                  
	PreloadAnimLib(playerid,"SWORD");                 
	PreloadAnimLib(playerid,"TANK");                  
	PreloadAnimLib(playerid,"TATTOOS");               
	PreloadAnimLib(playerid,"TEC");           
	PreloadAnimLib(playerid,"TRAIN");                 
	PreloadAnimLib(playerid,"TRUCK");                 
	PreloadAnimLib(playerid,"UZI");           
	PreloadAnimLib(playerid,"VAN");           
	PreloadAnimLib(playerid,"VENDING");               
	PreloadAnimLib(playerid,"VORTEX");                
	PreloadAnimLib(playerid,"WAYFARER");              
	PreloadAnimLib(playerid,"WEAPONS");               
	PreloadAnimLib(playerid,"WUZI");                  
	return 1;
}

stock SendTexdrawMessage(playerid, text[])
{
	// Send textdraw message to Player
	// Autohide by FreqTimer()
	PlayerTextDrawSetString(playerid,InfoTD[playerid], text);
	PlayerTextDrawShow(playerid, InfoTD[playerid]);
	return 1;
}

// ANTI-CAPS func
stock IsTextUppercase(const text[])
{
	new len = strlen(text), count;
	for(new i = len - 1; i != -1; --i)
	{
		if('A' <= text[i] <= 'Z' || 'А' <= text[i] <= 'Я' || text[i] == 'Ё') count++;
	}
	if((float(count) / float(len)) * 100.0 > 45.0) return 1;
	return 0;
}

stock UpperToLowerWithoutCapLetters(text[])
{
	for(new i, bool:cap = true, len = strlen(text); i < len; i++)
	{
		switch(text[i])
		{
			case '.', '!', '?', ';': cap = true;
			case 'a'..'z', 'а'..'я', 'ё': cap = false;
			case 'A'..'Z', 'А'..'Я':
			{
				if(cap) cap = false;
				else text[i] += 32;
			}
			case 'Ё':
			{
				if(cap) cap = false;
				else text[i] = 'ё';
			}
		}
	}
	return 1;
}

stock UpperToLower(text[])
{
	for(new i = strlen(text) - 1; i != -1; --i)
	{
		switch(text[i])
		{
			case 'A'..'Z', 'А'..'Я': text[i] += 32;
			case 'Ё': text[i] = 'ё';
		}
	}
	return 1;
}

stock IsRPNick(name[])
{
    new bool:allowUnderscore,bool:bigletter=true,wordsize;
    new countUnderscore,bool:bigAfterUnscr[3],bool:needUnderscore;
    for(new i=0;i<strlen(name);i++)
    {
        if(bigletter) 
        {
            switch(name[i])
            {
                 case 'A'..'Z':
                 {
                     if(countUnderscore > 0) 
                     {
                         bigAfterUnscr[countUnderscore-1] = true; 
                     }
                     bigletter=false; 
                     wordsize++;
                     continue;
                }
                 case 'a'..'z': 
                 { 
                    if(countUnderscore > 0)
                    {
                        wordsize++;
                        if(wordsize == 2) { needUnderscore=true; allowUnderscore=true; bigletter=false; } 
                    }
                    continue;
                 }
            }
            return 0;
        }
        if(!bigletter) 
        {
            switch(name[i])
            {
                case 'a'..'z':
                {
                    if(needUnderscore) return 0;
                    wordsize++;
                    if(wordsize >= 2) allowUnderscore=true; 
                    continue;
                }
                case '_':
                {
                    if(!allowUnderscore) return 0;
                    if(wordsize < 2) return 0;
                    needUnderscore=false;
                    bigletter=true;
                    countUnderscore++;
                    if(countUnderscore > 3) return 0;
                    wordsize=0;
                    continue;
                }
                
            }
            return 0;
        }
    }
    if(!bigAfterUnscr[0] && !bigAfterUnscr[1] && bigAfterUnscr[2]) return 1; // Saif_al_mah_Del
    if(!bigAfterUnscr[0] && bigAfterUnscr[1] && countUnderscore == 2) return 1; //Saif_al_Adel
    if(bigAfterUnscr[0] && countUnderscore == 1) return 1; //Saif_Adel
    return 0;
}  

stock IsABike(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 461, 462, 463, 468, 471, 521, 522, 523, 581, 586, 448: return true;
	}
	return false;
}
stock IsAPlane(carid)
{
	switch(GetVehicleModel(carid))
	{
		case 592,577,511,512,593,520,553,476,519,460,513,548,417,487,488,497,563,447,469: return true;
	}
	return false;
}
stock IsANoSpeed(carid)
{
	switch(GetVehicleModel(carid))
	{
		case 441,448,449,450,464,462,465,481,501,509,510,537,538,564,569,570,590,591,594,606,607,608,610,611: return true;
	}
	return false;
}
stock IsABoat(carid)
{
	switch(GetVehicleModel(carid))
	{
		case 472,473,493,595,484,430,452..454,446: return true;
	}
	return false;
}
stock IsALowrider(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 536, 575, 534, 567, 535, 566, 576, 412: return true;
	}
	return false;
}
stock IsAConvertibles(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 480, 533, 439, 555: return true;
	}
	return false;
}
stock IsAIndustrial(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 499, 422, 482, 498, 609, 524, 578, 455, 403, 414, 582, 443, 514, 413, 515, 440, 543, 605, 459, 531, 408, 552, 478, 456, 554: return true;
	}
	return false;
}
stock IsASports(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 602, 429, 496, 402, 541, 415, 589, 587, 565, 494, 502, 503, 411, 559, 603, 475, 506, 451, 558, 477: return true;
	}
	return false;
}
stock IsAService(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 416, 433, 431, 438, 437, 523, 427, 490, 528, 407, 544, 596, 596, 597, 598, 599, 432, 601, 420: return true;
	}
	return false;
}
stock IsAOffRoad(vehicleid)
{
	switch(GetVehicleModel(vehicleid))
	{
		case 568, 424, 573, 579, 400, 500, 444, 556, 557, 470, 489, 505, 595: return true;
	}
	return false;
}

stock IsApplyAnimation(playerid, animation[])  
{  
    new bool:IsApply;  
    if(GetPlayerAnimationIndex(playerid))  
    {  
        new animlib[32], animname[32];  
        GetAnimationName(GetPlayerAnimationIndex(playerid),animlib,32,animname,32);  
        if(!strcmp(animname, animation, true)) IsApply=true;  
        else IsApply=false;  
    }  
    return IsApply;  
}

stock IsAGirlSkin(playerid)
{
	// Gender check (exclude old grandma skins.)
	new skin = GetPlayerSkin(playerid);
	switch(skin)
	{
		case 9,11,12,13,40,41,55,56,63,64,65,69,75,76,85,87,90,91,92,93,131,138,139,140,141,145,148,150,151,152,157,169,172,178,190,191,192,193,194,195,201,207,211,214,215,216,219,224,225,226,233,237,243,244,245,246,251,256,257,263,298,306,307,308,309: return true;
	}
	return false;
}

stock ConvertLayout(text[])
{
	for(new i = strlen(text); i != 0; --i) 
	switch(text[i])
    {
        case 'A'..'Z', 'a'..'z', ' ':
		{
			// йцукенгшщзхъ - qwertyuiop[]
			strreplace(text, "q", "й", .ignorecase = true);
			strreplace(text, "w", "ц", .ignorecase = true);
			strreplace(text, "e", "у", .ignorecase = true);
			strreplace(text, "r", "к", .ignorecase = true);
			strreplace(text, "t", "е", .ignorecase = true);
			strreplace(text, "y", "н", .ignorecase = true);
			strreplace(text, "u", "г", .ignorecase = true);
			strreplace(text, "i", "ш", .ignorecase = true);
			strreplace(text, "o", "щ", .ignorecase = true);
			strreplace(text, "p", "з", .ignorecase = true);
			strreplace(text, "[", "х", .ignorecase = true);
			strreplace(text, "]", "ъ", .ignorecase = true);
			// фывапролджэ - asdfghjkl;'
			strreplace(text, "a", "ф", .ignorecase = true);
			strreplace(text, "s", "ы", .ignorecase = true);
			strreplace(text, "d", "в", .ignorecase = true);
			strreplace(text, "f", "а", .ignorecase = true);
			strreplace(text, "g", "п", .ignorecase = true);
			strreplace(text, "h", "р", .ignorecase = true);
			strreplace(text, "j", "о", .ignorecase = true);
			strreplace(text, "k", "л", .ignorecase = true);
			strreplace(text, "l", "д", .ignorecase = true);
			strreplace(text, ";", "ж", .ignorecase = true);
			strreplace(text, "'", "э", .ignorecase = true);
			// ячсмитьбю. - zxcvbnm,./
			strreplace(text, "z", "й", .ignorecase = true);
			strreplace(text, "x", "ц", .ignorecase = true);
			strreplace(text, "c", "у", .ignorecase = true);
			strreplace(text, "v", "к", .ignorecase = true);
			strreplace(text, "b", "е", .ignorecase = true);
			strreplace(text, "n", "н", .ignorecase = true);
			strreplace(text, "m", "г", .ignorecase = true);
			strreplace(text, ",", "ш", .ignorecase = true);
			strreplace(text, ".", "щ", .ignorecase = true);
		}
	}
	return text;
}

// flymode
stock GetMoveDirectionFromKeys(ud, lr)
{
    new direction = 0;

    if(lr < 0)
    {
        if(ud < 0)         direction = MOVE_FORWARD_LEFT;     // Up & Left key pressed
        else if(ud > 0) direction = MOVE_BACK_LEFT;     // Back & Left key pressed
        else            direction = MOVE_LEFT;          // Left key pressed
    }
    else if(lr > 0)     // Right pressed
    {
        if(ud < 0)      direction = MOVE_FORWARD_RIGHT;  // Up & Right key pressed
        else if(ud > 0) direction = MOVE_BACK_RIGHT;     // Back & Right key pressed
        else            direction = MOVE_RIGHT;          // Right key pressed
    }
    else if(ud < 0)     direction = MOVE_FORWARD;     // Up key pressed
    else if(ud > 0)     direction = MOVE_BACK;        // Down key pressed

    return direction;
}
stock MoveCamera(playerid)
{
    new Float:FV[3], Float:CPP[3];
    GetPlayerCameraPos(playerid, CPP[0], CPP[1], CPP[2]);          //     Cameras position in space
    GetPlayerCameraFrontVector(playerid, FV[0], FV[1], FV[2]);  //  Where the camera is looking at

    // Increases the acceleration multiplier the longer the key is held
    if(noclipdata[playerid][accelmul] <= 1) noclipdata[playerid][accelmul] += ACCEL_RATE;

    // Determine the speed to move the camera based on the acceleration multiplier
    new Float:speed = MOVE_SPEED * noclipdata[playerid][accelmul];

    // Calculate the cameras next position based on their current position and the direction their camera is facing
    new Float:X, Float:Y, Float:Z;
    GetNextCameraPosition(noclipdata[playerid][mode], CPP, FV, X, Y, Z);
    MovePlayerObject(playerid, noclipdata[playerid][flyobject], X, Y, Z, speed);

    // Store the last time the camera was moved as now
    noclipdata[playerid][lastmove] = GetTickCount();
    return 1;
}

stock GetNextCameraPosition(move_mode, Float:CPP[3], Float:FV[3], &Float:X, &Float:Y, &Float:Z)
{
    // Calculate the cameras next position based on their current position and the direction their camera is facing
    #define OFFSET_X (FV[0]*6000.0)
    #define OFFSET_Y (FV[1]*6000.0)
    #define OFFSET_Z (FV[2]*6000.0)
    switch(move_mode)
    {
        case MOVE_FORWARD:
        {
            X = CPP[0]+OFFSET_X;
            Y = CPP[1]+OFFSET_Y;
            Z = CPP[2]+OFFSET_Z;
        }
        case MOVE_BACK:
        {
            X = CPP[0]-OFFSET_X;
            Y = CPP[1]-OFFSET_Y;
            Z = CPP[2]-OFFSET_Z;
        }
        case MOVE_LEFT:
        {
            X = CPP[0]-OFFSET_Y;
            Y = CPP[1]+OFFSET_X;
            Z = CPP[2];
        }
        case MOVE_RIGHT:
        {
            X = CPP[0]+OFFSET_Y;
            Y = CPP[1]-OFFSET_X;
            Z = CPP[2];
        }
        case MOVE_BACK_LEFT:
        {
            X = CPP[0]+(-OFFSET_X - OFFSET_Y);
            Y = CPP[1]+(-OFFSET_Y + OFFSET_X);
            Z = CPP[2]-OFFSET_Z;
        }
        case MOVE_BACK_RIGHT:
        {
            X = CPP[0]+(-OFFSET_X + OFFSET_Y);
            Y = CPP[1]+(-OFFSET_Y - OFFSET_X);
            Z = CPP[2]-OFFSET_Z;
        }
        case MOVE_FORWARD_LEFT:
        {
            X = CPP[0]+(OFFSET_X  - OFFSET_Y);
            Y = CPP[1]+(OFFSET_Y  + OFFSET_X);
            Z = CPP[2]+OFFSET_Z;
        }
        case MOVE_FORWARD_RIGHT:
        {
            X = CPP[0]+(OFFSET_X  + OFFSET_Y);
            Y = CPP[1]+(OFFSET_Y  - OFFSET_X);
            Z = CPP[2]+OFFSET_Z;
        }
    }
}

stock CancelFlyMode(playerid)
{
//    DeletePVar(playerid, "FlyMode");
	if(team[playerid] == TEAM_REFEREE) return SendClientMessage(playerid, COLOR_GREY, "Выход из режима полета возможен после завершения раунда");
    CancelEdit(playerid);
    TogglePlayerSpectating(playerid, false);

    DestroyPlayerObject(playerid, noclipdata[playerid][flyobject]);
    noclipdata[playerid][cameramode] = CAMERA_MODE_NONE;
    return 1;
}

stock FlyMode(playerid)
{
    // Create an invisible object for the players camera to be attached to
    new Float:X, Float:Y, Float:Z;
    GetPlayerPos(playerid, X, Y, Z);
	UpdatePlayerPosition(playerid);
	//SetPlayerInterior(playerid,GetPlayerInterior(playerid));
	//SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(playerid));
    noclipdata[playerid][flyobject] = CreatePlayerObject(playerid, 19300, X, Y, Z, 0.0, 0.0, 0.0);
    // Place the player in spectating mode so objects will be streamed based on camera location
    TogglePlayerSpectating(playerid, true);
    // Attach the players camera to the created object
    AttachCameraToPlayerObject(playerid, noclipdata[playerid][flyobject]);

    SetPVarInt(playerid, "FlyMode", 1);
    noclipdata[playerid][cameramode] = CAMERA_MODE_FLY;
	SendClientMessage(playerid, COLOR_WHITE, "Вы вошли режим полёта. Для выхода нажмите <F> или введите /exit");
	SendClientMessage(playerid, COLOR_WHITE, "Используйте {FFD700}Вверх, Вниз, Влево, Вправо{FFFFFF} для перемещения");
	SendClientMessage(playerid, COLOR_WHITE, "Нажмите {FFD700}<Enter>{FFFFFF} чтобы выбрать и отредактировать объект");
	SendClientMessage(playerid, COLOR_WHITE, "Во время редактирования объектов перемещайте камеру удерживая {FFD700}<Space>");
    return 1;
}  

// carshot
_clearAim(playerid)
{
	SetPVarInt(playerid, "AimVehicle", MAX_VEHICLES+1);
	KillTimer(carshot_update[playerid]);
	return true;
}

encode_lights(light1, light2, light3, light4) return light1 | (light2 << 1) | (light3 << 2) | (light4 << 3);
encode_panels(flp, frp, rlp, rrp, windshield, front_bumper, rear_bumper) return flp | (frp << 4) | (rlp << 8) | (rrp << 12) | (windshield << 16) | (front_bumper << 20) | (rear_bumper << 24);

encode_doors(bonnet, boot, driver_door, passenger_door, behind_driver_door, behind_passenger_door){
    #pragma unused behind_driver_door
    #pragma unused behind_passenger_door
    return bonnet | (boot << 8) | (driver_door << 16) | (passenger_door << 24);
}

randomDamage(vehicleid)
{
	new panels, doors, lights, tires;
 	GetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
 	switch(random(3)){
  		case 0: panels = encode_panels(1, 1, 1, 1, 3, 3, 3);
  		case 1: doors = encode_doors(4, 4, 4, 4, 0, 0);
  		case 2: lights = encode_lights(1, 1, 1, 1);
	}
	UpdateVehicleDamageStatus(vehicleid, panels, doors, lights, tires);
    return 1;
}

damageGun(playerid){
	switch(GetPlayerWeapon(playerid)){
	    case 22..38: return true;
	}
	return false;
}

vehicleType(vehicleid){//by wh0am1
    switch (GetVehicleModel(vehicleid)){
        case 509,481,510: return 1;//velo
        case 461..463,448,581,521..523,586,468,471: return 2;//moto
        case 417,425,447,469,487,488,497,548,563: return 3;//heli
        case 460,476,511..513,519,520,553,577,592,593: return 4;//air
        case 435,450,569,570,584,590,591,606..608,610,611: return 5;//trailer
        case 472,473,493,595,484,430,453,452,446,454: return 6;//boat
        case 499,498,609,524,578,455,403,414,443,514,515,408,456,433: return 7;//autoB
        case 441,464,465,501,564,594: return 8;//RC
        default: return 9;//autoA
    }
    return false;
}

Float:DistanceCameraTargetToLocation(Float:CamX, Float:CamY, Float:CamZ,  Float:ObjX, Float:ObjY, Float:ObjZ,  Float:FrX, Float:FrY, Float:FrZ){
	new Float:TGTDistance;
	TGTDistance = floatsqroot((CamX - ObjX) * (CamX - ObjX) + (CamY - ObjY) * (CamY - ObjY) + (CamZ - ObjZ) * (CamZ - ObjZ));
	new Float:tmpX, Float:tmpY, Float:tmpZ;
	tmpX = FrX * TGTDistance + CamX;
	tmpY = FrY * TGTDistance + CamY;
	tmpZ = FrZ * TGTDistance + CamZ;
	return floatsqroot((tmpX - ObjX) * (tmpX - ObjX) + (tmpY - ObjY) * (tmpY - ObjY) + (tmpZ - ObjZ) * (tmpZ - ObjZ));
}

IsPlayerAimingAt(playerid, Float:x, Float:y, Float:z, Float:radius){
	new Float:cx,Float:cy,Float:cz,Float:fx,Float:fy,Float:fz;
	GetPlayerCameraPos(playerid, cx, cy, cz);
	GetPlayerCameraFrontVector(playerid, fx, fy, fz);
	return (radius >= DistanceCameraTargetToLocation(cx, cy, cz, x, y, z, fx, fy, fz));
}

/* Float:GetPointAngleToPoint(Float:x2, Float:y2, Float:X, Float:Y)
{
 
	new Float:DX, Float:DY;
	new Float:angle;
 
	DX = floatabs(floatsub(x2,X));
	DY = floatabs(floatsub(y2,Y));
 
	if (DY == 0.0 || DX == 0.0)
	{
		if(DY == 0 && DX > 0) angle = 0.0;
		else if(DY == 0 && DX < 0) angle = 180.0;
		else if(DY > 0 && DX == 0) angle = 90.0;
		else if(DY < 0 && DX == 0) angle = 270.0;
		else if(DY == 0 && DX == 0) angle = 0.0;
	}
	else
	{
		angle = atan(DX/DY);
 
		if(X > x2 && Y <= y2) angle += 90.0;
		else if(X <= x2 && Y < y2) angle = floatsub(90.0, angle);
		else if(X < x2 && Y >= y2) angle -= 90.0;
		else if(X >= x2 && Y > y2) angle = floatsub(270.0, angle);
	}
	return floatadd(angle, 90.0);
}

GetXYInFrontOfPoint(&Float:x, &Float:y, Float:angle, Float:distance)
{
    x += (distance * floatsin(-angle, degrees));
    y += (distance * floatcos(-angle, degrees));
} */

stock GetDistnaceBetweenObject(playerid,objectid)
{
    new Float:px,Float:py,Float:pz,
    Float:ox,Float:oy,Float:oz;
    GetPlayerPos(playerid,px,py,pz);
    GetDynamicObjectPos(objectid,ox,oy,oz);
    return floatsqroot(floatpower(floatabs(floatsub(px,ox)),2)+floatpower(floatabs(floatsub(py,oy)),2)+floatpower(floatabs(floatsub(pz,oz)),2));
}

stock GetDirectionInWhichPlayerLooks(playerid, Float:facing_angle = -1.0)
{
    static const
        Float: side_of_the_world = 20.0,//(0.0 - 45.0)
        Float: coord_indent = 0.1;

    new const
        Float: north_coord_min = 360.0-side_of_the_world,
        Float: north_coord_max = 0.0+side_of_the_world,

        Float: west_coord_min = 90.0-side_of_the_world,
        Float: west_coord_max = 90.0+side_of_the_world,

        Float: south_coord_min = 180.0-side_of_the_world,
        Float: south_coord_max = 180.0+side_of_the_world,

        Float: east_coord_min = 280.0-side_of_the_world,
        Float: east_coord_max = 280.0+side_of_the_world;


    if(!floatcmp(facing_angle, -1.0))
        GetPlayerFacingAngle(playerid, facing_angle);
    else if(floatcmp(facing_angle, 0.0) == -1)
        facing_angle = 0.0;
    else if(floatcmp(facing_angle, 360.0) == 1)
        facing_angle = 360.0;

    if(north_coord_min <= facing_angle <= 360.0 || 0.0 <= facing_angle <= north_coord_max)
        return 0;
    else if(north_coord_max+coord_indent <= facing_angle <= west_coord_min-coord_indent)
        return 1;

    else if(west_coord_min <= facing_angle <= west_coord_max)
        return 2;
    else if(west_coord_max+coord_indent <= facing_angle <= south_coord_min-coord_indent)
        return 3;

    else if(south_coord_min <= facing_angle <= south_coord_max)
        return 4;
    else if(south_coord_max+coord_indent <= facing_angle <= east_coord_min-coord_indent)
        return 5;

    else if(east_coord_min <= facing_angle <= east_coord_max)
        return 6;
    else //if(east_coord_max+coord_indent <= facing_angle <= north_coord_min-coord_indent)
        return 7;
} 
// Anti-mat
static stock BadWordsCheck (text [])
{
	static exceptions[][32] = {"переполох", "употреблять", "рубля", "глох", "плох","сабля","неба","влюбля","команд","мандарин","оскорбля",
	"озлоблять","ослаблять","пособлять","углублять","озлоблять","расслаблять","истреблять","обособлять","потреблять","уподобля","усугублять",
	"приспособля","раздроблять","расслаблять","приспособлять","застрахуй","перестрахуй", "психуй","колебать","огребать", "сгребать", "выгребать",
	"нахлебать","отгребать","всколебать","заколебать","подгребать","поколебат","разгребать"};
	new j, k, pos, epos, len, epos_buf;
	for (new i = 0; i < sizeof(BadWords); i++)
	{
		while ( (pos = strfind(text, BadWords[i], true, pos+1)) != -1 )
		{
			len = strlen(BadWords[i]);
 
			for (j = 0; j < sizeof(exceptions); j++)
			{
				if(strfind(text, exceptions[j], true) != -1) return false;
				if ( epos != pos - (strlen(exceptions[j]) - len) )
				{
					epos = epos_buf;
					if (j == sizeof(exceptions)-1)
					{
						for (k = pos; k < pos+len; k++)
						{
							text[k] = '*';
						}
					}
					continue;
				}
				else
				{
					break;
				}
			}
			epos_buf = epos;
			return true;
		}
	}
	return false;
}
static stock StripNewLine (string [])
{
	new len = strlen (string);
	if (string [0] == 0)return;
	if ((string [len - 1] == '\n') || (string [len - 1] == '\r'))
	{
		string [len - 1] = 0;
		if (string [0] == 0)return;
		if ((string [len - 2] == '\n') || (string [len - 2] == '\r'))string [len - 2] = 0;
	}
}

static stock LoadBadWords ()
{
	if (fexist ("BadWords.txt"))
	{
		new File: f = fopen ("BadWords.txt", io_read),string [32];
		BadWordsCount = 0;
		while (fread (f, string, sizeof (string)) && BadWordsCount < MAX_BAD_WORDS)
		{
			StripNewLine (string);
			if (string [0])BadWords[BadWordsCount++] = string;
		}
		fclose (f);
		//printf ("%d Антимат фильтр - слов загружено.", BadWordsCount);
		return 1;
	}
	//else print ("Не найден файл с плохими словами!");
	return 0;
}

stock DB_Escape(text[])
{
	new
		ret[MAX_INI_ENTRY_TEXT * 2],
		ch,
		i,
		j;
	while ((ch = text[i++]) && j < sizeof (ret))
	{
		if (ch == '\'')
		{
			if (j < sizeof (ret) - 2)
			{
				ret[j++] = '\'';
				ret[j++] = '\'';
			}
		}
		else if (j < sizeof (ret))
		{
			ret[j++] = ch;
		}
		else
		{
			j++;
		}
	}
	ret[sizeof (ret) - 1] = '\0';
	return ret;
}
// Drop weapons system
ResetDropPickups()
{
	for(new i = 0; i < MAX_PICKUPS; i++) {
		if(DropInfo[i][ID] != -1) DropInfo[i][ID] = -1;
	}
	return 1;
}

DestroyDropPickups()
{
	for(new i = 0; i < MAX_PICKUPS; i++) {
		if(DropInfo[i][ID] != -1) {
			DestroyPickup(DropInfo[i][ID]);
			Delete3DTextLabel(DropInfo[i][Label]);
			DropInfo[i][Type] = 0;
			DropInfo[i][ID] = -1;
		}
	}
	return 1;
}

drop_player_weapons(playerid, type)
{
	new Float: Pos[3], string[128], gunname[32], sweapon, sammo, idd, result;
	GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);

	for(new i = 2; i < 7; i++) {
		GetPlayerWeaponData(playerid, i, sweapon, sammo); 
		// ignores objects, cold and heavy weapons
		if(sweapon > 1) {
			result++;
			idd = DropCheckIDEmpty();
			DropInfo[idd][ID] = CreatePickup(WeaponObject(sweapon), 23, Pos[0]+result, Pos[1]+2, Pos[2], -1);
			DropInfo[idd][Type] =  0;
			DropInfo[idd][Weapon] = sweapon;
			DropInfo[idd][Ammo] = sammo;
			GetWeaponName(sweapon, gunname, sizeof(gunname));			
			format(string, sizeof(string), "{FFFFFF}%d", sammo);			
			DropInfo[idd][Label] = Create3DTextLabel(string, 0xFFFFFFAA, Pos[0]+result, Pos[1]+2, Pos[2], 10.0, 0, 0);
		}
	}
	if(activeHeal == 1 && type == 0) {
		result++;
		idd = DropCheckIDEmpty();
		DropInfo[idd][ID] = CreatePickup(1240, 23, Pos[0]+result, Pos[1]+2, Pos[2], -1);
		DropInfo[idd][Type] = 1;
		DropInfo[idd][Weapon] = 0;
		DropInfo[idd][Ammo] = 0;
		DropInfo[idd][Label] = Create3DTextLabel("{DE1212}+50hp", 0xFFFFFFFF, Pos[0]+result, Pos[1]+2, Pos[2], 10.0, 0, 0);	
	}	
	ResetPlayerWeapons(playerid);
	DropWeapon_Timer[playerid] = SetTimerEx("RemoveDropWeapons",1000*20,false,"i",playerid);
	return 1;
}

DropCheckIDEmpty()
{
	for(new i = 0; i < MAX_PICKUPS; i++) {
		if(DropInfo[i][ID] == -1) return i;
	}
	return 0;
}

WeaponObject(wid)
{
	switch(wid)
	{
		case 1: return 331; 
		case 2: return 332; 
		case 3: return 333; 
		case 4: return 335; 
		case 5: return 334; 
		case 6: return 335; 
		case 7: return 336; 
		case 10: return 321; 
		case 11: return 322; 
		case 12: return 323; 
		case 13: return 324; 
		case 14: return 325; 
		case 15: return 326; 
		case 23: return 347; 
		case 24: return 348; 
		case 25: return 349; 
		case 26: return 350; 
		case 27: return 351; 
		case 28: return 352; 
		case 29: return 353; 
		case 30: return 355; 
		case 31: return 356; 
		case 32: return 372;
		case 33: return 357; 
		case 34: return 358; 
		case 41: return 365; 
		case 42: return 366; 
		case 43: return 367;
	}
	return 0;
}

stock FakeLostConnectionForPlayer(playerid)
{
	new BitStream:bs = BS_New(), ID_CONNECTION_LOST = 33;
	BS_WriteValue(bs, RNM_INT8, ID_CONNECTION_LOST);
	BS_Send(bs, playerid);
	BS_Delete(bs);
}

stock SetPlayerPosEx(playerid, Float:x, Float:y, Float:z, Float:facing_angle = 0.0, world = 0, interier = 0)
{
	//Modified SetPlayerPos function, takes into account the direction, the interior and the virtual world of the player
	GetPlayerPos(playerid, ESC_Pos[0], ESC_Pos[1], ESC_Pos[2]); //anti esc
	PlayerPlaySound(playerid, 0, 0.0, 0.0, 0.0); //stop sounds
	Spawnkill(playerid);
	SetPlayerInterior(playerid,interier);
	SetPlayerVirtualWorld(playerid, world);
	SetPlayerFacingAngle(playerid, facing_angle);
	SetPlayerPos(playerid, x+random(2),y+random(2),z);
	if(FirstpersonOn[playerid] == 0) SetCameraBehindPlayer(playerid);
	return 1;
}

stock mktime(uhour,uminute,usecond,uday,umonth,uyear)
{
	// return UNIX-timestamp
	new timestamp2;
	timestamp2 = usecond + (uminute * 60) + (uhour * 3600);
	new days_of_month[12] = { 31,28,31,30,31,30,31,31,30,31,30,31 };

	if ( ((uyear % 4 == 0) && (uyear % 100 != 0)) || (uyear % 400 == 0) ) {
			days_of_month[1] = 29;
		} else {
			days_of_month[1] = 28;
		}
	new days_this_year = 0;
	days_this_year = --uday;
	if(umonth > 1) {
		for(new i=0; i<umonth-1;i++) {
			days_this_year += days_of_month[i];
		}
	}
	timestamp2 += days_this_year * 86400;

	for(new j=1970;j<uyear;j++) {
		timestamp2 += 31536000;
		if ( ((j % 4 == 0) && (j % 100 != 0)) || (j % 400 == 0) ) timestamp2 += 86400;
	}
	return timestamp2;
}

forward isLeap(y); // use to unixtodate func
public isLeap(y){
    return ((y)%4==0&&((y)%100!=0||(y)%400==0));
}

stock unixtodate(timestamp)
{
	new rtrn[128];
    if(timestamp > 0) {
	    new year, dayInSeconds, daysInYear, daysInLYear, days, tmpDays, monthsInDays[12], month, day;
	    year = 1970;
	    dayInSeconds = 86400;
	    daysInYear = 365;
	    daysInLYear = daysInYear+1;
	    days = (timestamp/dayInSeconds);
	    tmpDays = days+1;
	    month = 11;

	    while(tmpDays>=daysInYear){
	        year++;
	        if(isLeap(year)){
	            tmpDays-=daysInLYear;
	        }
	        else{
	            tmpDays-=daysInYear;
	        }
	    }

	    if(isLeap(year)){
	        tmpDays--;
	        monthsInDays = {-1,30,59,90,120,151,181,212,243,273,304,334};
	    }
	    else{
	        monthsInDays = {0,31,59,90,120,151,181,212,243,273,304,334};
	    }

	    while(month>0){
	        if(tmpDays>monthsInDays[month]){
	            break;
	        }
	        month--;
	    }
	    day=tmpDays-monthsInDays[month];
	    month++;
		format(rtrn, sizeof(rtrn), "%d-%d-%d", year, month, day);
		return rtrn;
	}
	format(rtrn, sizeof(rtrn), "1970-1-1");
	return rtrn;
}

stock GetAveragePing()
{
	//average server ping
	new players,ping;
	if (ONLINE == 0) return 0;
	foreach(Player, i)
	{
		ping+=GetPlayerPing(i);
		players++;
	}
	return floatround(ping/players);
}

stock Sync(playerid)
{
	if(GetPVarInt(playerid,"SyncTime") > gettime()) return SendClientMessage(playerid, COLOR_YELLOW, "/sync можно использовать не чаще 1 раза в минуту!");
	SetPVarInt(playerid,"SyncTime",gettime() + 60);
	if (GetPlayerState(playerid) != PLAYER_STATE_ONFOOT) return 0;
	new	Float:fX, Float:fY, Float:fZ, Float:fA;		
	GetPlayerPos(playerid, fX, fY, fZ);
	GetPlayerFacingAngle(playerid, fA);		
	GetPlayerHealth(playerid, g_afSpawnHealth[playerid]);
	GetPlayerArmour(playerid, g_afSpawnArmour[playerid]);	
	g_aiSpawnInfo[playerid][0] = GetPlayerVirtualWorld(playerid);
	g_aiSpawnInfo[playerid][1] = GetPlayerInterior(playerid);	
	for ( new i = 0; i < 13; i ++ ) {
		GetPlayerWeaponData(playerid, i, g_aiSpawnWeapons[playerid][i], g_anSpawnAmmo[playerid][i]);
	}	
	SetPVarInt(playerid, "restoreSprint", 1);
	UpdatePlayerPosition(playerid);
	ClearAnimations(playerid);
	SendClientMessage(playerid, COLOR_WHITE, "Синхронизация прошла успешно. Бег восстановлен");
	SpawnPlayer(playerid);
	return 1;
}

stock FixText(string[])
{
	// example TDLabels[2]=TextDrawCreate(510.399993,430.399993,FixText("Дрифт деньги:"));
	new result[256];
	for(new i=0; i < 256; i++)
	{
		switch(string[i])
		{
			case 'а':result[i] = 'a';
			case 'А':result[i] = 'A';
			case 'б':result[i] = '—';
			case 'Б':result[i] = 'Ђ';
			case 'в':result[i] = 'ў';
			case 'В':result[i] = '‹';
			case 'г':result[i] = '™';
			case 'Г':result[i] = '‚';
			case 'д':result[i] = 'љ';
			case 'Д':result[i] = 'ѓ';
			case 'е':result[i] = 'e';
			case 'Е':result[i] = 'E';
			case 'ё':result[i] = 'e';
			case 'Ё':result[i] = 'E';
			case 'ж':result[i] = '›';
			case 'Ж':result[i] = '„';
			case 'з':result[i] = 'џ';
			case 'З':result[i] = '€';
			case 'и':result[i] = 'њ';
			case 'И':result[i] = '…';
			case 'й':result[i] = 'њ';
			case 'Й':result[i] = '…';
			case 'к':result[i] = 'k';
			case 'К':result[i] = 'K';
			case 'л':result[i] = 'ћ';
			case 'Л':result[i] = '‡';
			case 'м':result[i] = 'Ї';
			case 'М':result[i] = 'M';
			case 'н':result[i] = '®';
			case 'Н':result[i] = '­';
			case 'о':result[i] = 'o';
			case 'О':result[i] = 'O';
			case 'п':result[i] = 'Ј';
			case 'П':result[i] = 'Њ';
			case 'р':result[i] = 'p';
			case 'Р':result[i] = 'P';
			case 'с':result[i] = 'c';
			case 'С':result[i] = 'C';
			case 'т':result[i] = '¦';
			case 'Т':result[i] = 'Џ';
			case 'у':result[i] = 'y';
			case 'У':result[i] = 'Y';
			case 'ф':result[i] = '';
			case 'Ф':result[i] = 'Ѓ';
			case 'х':result[i] = 'x';
			case 'Х':result[i] = 'X';
			case 'ц':result[i] = ' ';
			case 'Ц':result[i] = '‰';
			case 'ч':result[i] = '¤';
			case 'Ч':result[i] = 'Ќ';
			case 'ш':result[i] = 'Ґ';
			case 'Ш':result[i] = 'Ћ';
			case 'щ':result[i] = 'Ў';
			case 'Щ':result[i] = 'Љ';
			case 'ь':result[i] = '©';
			case 'Ь':result[i] = '’';
			case 'ъ':result[i] = 'ђ';
			case 'Ъ':result[i] = '§';
			case 'ы':result[i] = 'Ё';
			case 'Ы':result[i] = '‘';
			case 'э':result[i] = 'Є';
			case 'Э':result[i] = '“';
			case 'ю':result[i] = '«';
			case 'Ю':result[i] = '”';
			case 'я':result[i] = '¬';
			case 'Я':result[i] = '•';
			default:result[i]=string[i];
		}
	}
	return result;
}

stock PlayAudioStreamEx(url[], Float:x, Float:y, Float:z, Float:distance, usepos){
	for(new i = 0; i < MAX_PLAYERS; i++) PlayAudioStreamForPlayer(i, url, x, y, z, distance, usepos);
}

stock StopAudioStreamEx(Float:x, Float:y, Float:z, Float:distance){
	for(new i = 0; i < MAX_PLAYERS; i++) if(IsPlayerInRangeOfPoint(i,distance,x,y,z))StopAudioStreamForPlayer(i);
} 

stock ResetObjectMaterial(objectid, materialindex)
{
	SetObjectMaterial(objectid, materialindex, 19341, "invalid", "invalid", 0);
}

stock ResetPlayerObjectMaterial(playerid, objectid, materialindex)
{
	SetPlayerObjectMaterial(playerid, objectid, materialindex, 19341, "invalid", "invalid", 0);
}

stock ProccessVehFloodCheatDetect(playerid, &Float:velocity1, &Float:velocity2, &Float:velocity3)
{
    new bool: troll = false;
    if(velocity1 > 0.50 || velocity1 < -0.50)
       velocity1 = 0.0, troll = true;
    if(velocity2 > 0.50 || velocity2 < -0.50)
      velocity2 = 0.0, troll = true;
    if(velocity3 > 1.40 || velocity3 < -1.40)
      velocity3 = 0.0, troll = true;
    if(troll)
    {
        new string[256];
        format(string, sizeof(string), "%s[%d] возможно использует VehFlooder", PlayerName(playerid), playerid);
        SendAdminMessage(COLOR_ADM, string);
    }
    return 1;
}

stock ProccessVehFloodCheckCar(playerid, &Float:velocity1, &Float:velocity2, &Float:velocity3)
{
    new bool: troll = false;
    if(velocity1 > 1.60 || velocity1 < -1.60)
       velocity1 = 0.0, troll = true;
    if(velocity2 > 1.60 || velocity2 < -1.60)
      velocity2 = 0.0, troll = true;
    if(velocity3 > 1.60 || velocity3 < -1.60)
      velocity3 = 0.0, troll = true;
    if(troll)
    {
        new string[256];
        format(string, sizeof(string), "%s[%d] возможно использует VehFlooder", PlayerName(playerid), playerid);
        SendAdminMessage(COLOR_ADM, string);
    }
    return 1;
}

stock fcopy(oldname[],newname[])
{
    new File:ohnd,File:nhnd;
    if (!fexist(oldname))
    {
        return 0;
    }
    ohnd=fopen(oldname,io_read);
    nhnd=fopen(newname,io_write);
    new buf2[1];
    for (new i=flength(ohnd);i>0;i--)
    {
        fputchar(nhnd, fgetchar(ohnd, buf2[0],false),false);
    }
    fclose(ohnd);
    fclose(nhnd);
    return 1;
}

// ==============================================
// fix bugs, crashes and problems faced in game.= 
// ==============================================
// FIX: Textdraw/Gametext blank, encoding, Uneven '~'s
// https://github.com/Gammix/SAMP_Fixer/blob/master/pawno/include/SAMP_Fixer/fix_tildes.inc
stock static const FIX_Encoding[256] =
{
	0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,
	16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,  31,
	32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,  45,  46,  47,
	48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,
	64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  79,
	80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,  91,  92,  93,  94,  95,
	96,  97,  98,  99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111,
	112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127,
	128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143,
	144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159,
	160,  94, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175,
	124, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 175,
	128, 129, 130, 195, 131, 197, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141,
	208, 173, 142, 143, 144, 213, 145, 215, 216, 146, 147, 148, 149, 221, 222, 150,
	151, 152, 153, 227, 154, 229, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
	240, 174, 165, 166, 167, 245, 168, 247, 248, 169, 170, 171, 172, 253, 254, 255
};

stock static FIX_ReturnSafeString(string[])
{
	new
        safetil = -5
	;

	for (new i, j = strlen(string); i < j; ++i)
	{
	    switch (string[i])
		{
			case '0'..'9', 'A'..'Z', 'a'..'z', '~', '`', '!', '#', '$', '%', '^', '&', '*', '(', ')', '-', '_', '=', '+', '[', ']', ';', ':', '"', '<', '>', '/', '?':
			{
		        if ((string[i] == 126) && (i > safetil))
		        {
		            if (i >= strlen(string) - 1)
		            {
		                return false;
					}
		            else if (string[i + 1] == 126)
		            {
						return false;
					}
		            else if (string[i + 2] != 126)
		            {
						return false;
					}
					else
					{
		            	safetil = i + 2;
		        	}
		        }

		        continue;
	        }
			default:
			{
			    new
			        chr = string[i]
				;
			    if (0 <= chr < 256)
				{
					string[i] = FIX_Encoding[chr];
				}
				else
				{
				    string[i] = '?';
				}
	        }
   		}
	}
	return true;
}

stock NoRoof(playerid)
{
	// Throws a player from the roof (used to prevent a ride on the roof with an immortal driver)
	new carid = GetPlayerSurfingVehicleID(playerid);
	if(carid != INVALID_VEHICLE_ID )
	{
		foreach(Player, i)
		{
			if(GetPlayerVehicleID(i) == carid && GetPVarInt(i,"pgm") > 0)
			{
				new Float:speed = GetVehicleSpeed(carid);
				new cm = GetVehicleModel(carid);
				switch(cm)
				{
					case 430,446,452,453,454,472,473,484,493,595:{return 1;}
					default:{}
				}
				if(speed > 30)
				{
					new Float:slx, Float:sly, Float:slz;
					GetPlayerPos(playerid, slx, sly, slz);
					SetPlayerPos(playerid, slx, sly, slz+2.5); 
					ApplyAnimation(playerid, "ped", "BIKE_fallR", 4.0, 0, 1, 0, 0, 0,0); 
				}
			}
		}
	}
	return 1;
}

stock GetVehicleSpeed(vehicleid)
{
	// NoRoof helper. Return car speed
	new Float:Px,Float:Py,Float:Pz;
    GetVehicleVelocity(vehicleid,Px,Py,Pz);
    return floatround(floatsqroot(Px*Px+Py*Py+Pz*Pz) * 100.0);
} 

stock TEXT_GameTextForPlayer(playerid, string[], time, style)
{
	if (string[0] == '\0' || (string[0] == '\1' && string[1] == '\0'))
	{
	    return GameTextForPlayer(playerid, " ", time, style);
	}
	else if (! FIX_ReturnSafeString(string))
	{
	    return -1;
	}
	else return GameTextForPlayer(playerid, string, time, style);
}
#if defined _ALS_GameTextForPlayer
	#undef GameTextForPlayer
#else
	#define _ALS_GameTextForPlayer
#endif
#define GameTextForPlayer TEXT_GameTextForPlayer

stock TEXT_GameTextForAll(string[], time, style)
{
	if (string[0] == '\0' || (string[0] == '\1' && string[1] == '\0'))
	{
	    return GameTextForAll(" ", time, style);
	}
	else if (! FIX_ReturnSafeString(string))
	{
	    return -1;
	}
	else return GameTextForAll(string, time, style);
}
#if defined _ALS_GameTextForAll
	#undef GameTextForAll
#else
	#define _ALS_GameTextForAll
#endif
#define GameTextForAll TEXT_GameTextForAll

stock Text:TEXT_TextDrawCreate(Float:x, Float:y, text[])
{
	if (text[0] == '\0' || (text[0] == '\1' && text[1] == '\0'))
	{
	    return TextDrawCreate(x, y, " ");
	}
	else if (! FIX_ReturnSafeString(text))
	{
	    return Text:INVALID_TEXT_DRAW;
	}
	else return TextDrawCreate(x, y, text);
}
#if defined _ALS_TextDrawCreate
	#undef TextDrawCreate
#else
	#define _ALS_TextDrawCreate
#endif
#define TextDrawCreate TEXT_TextDrawCreate

stock PlayerText:TEXT_CreatePlayerTextDraw(playerid, Float:x, Float:y, text[])
{
	if (text[0] == '\0' || (text[0] == '\1' && text[1] == '\0'))
	{
	    return CreatePlayerTextDraw(playerid, x, y, " ");
	}
	else if (! FIX_ReturnSafeString(text))
	{
	    return PlayerText:INVALID_TEXT_DRAW;
	}
	else return CreatePlayerTextDraw(playerid, x, y, text);
}
#if defined _ALS_CreatePlayerTextDraw
	#undef CreatePlayerTextDraw
#else
	#define _ALS_CreatePlayerTextDraw
#endif
#define CreatePlayerTextDraw TEXT_CreatePlayerTextDraw

stock TEXT_TextDrawSetString(Text:text, string[])
{
	if (string[0] == '\0' || (string[0] == '\1' && string[1] == '\0'))
	{
	    return TextDrawSetString(text, " ");
	}
	else if (! FIX_ReturnSafeString(string))
	{
	    return -1;
	}
	else return TextDrawSetString(text, string);
}

#if defined _ALS_TextDrawSetString
	#undef TextDrawSetString
#else
	#define _ALS_TextDrawSetString
#endif
#define TextDrawSetString TEXT_TextDrawSetString

stock TEXT_PlayerTextDrawSetString(playerid, PlayerText:text, string[])
{
	if (string[0] == '\0' || (string[0] == '\1' && string[1] == '\0'))
	{
	    return PlayerTextDrawSetString(playerid, text, " ");
	}
	else if (! FIX_ReturnSafeString(string))
	{
	    return -1;
	}
	return PlayerTextDrawSetString(playerid, text, string);
}

#if defined _ALS_PlayerTextDrawSetString
	#undef PlayerTextDrawSetString
#else
	#define _ALS_PlayerTextDrawSetString
#endif
#define PlayerTextDrawSetString TEXT_PlayerTextDrawSetString

// https://github.com/Gammix/SAMP_Fixer/blob/master/pawno/include/SAMP_Fixer/fix_tickcount.inc
// GetTickCount will cause problems on servers with uptime of over 24 days.
stock FIX_GetTickCount()
{
	new
		ret = GetTickCount();
	if (ret < 0)
	{
		ret += 2147483647;
	}
	return ret;
}
#if defined _ALS_GetTickCount
	#undef GetTickCount
#else
	#define _ALS_GetTickCount
#endif

#define GetTickCount FIX_GetTickCount

stock FIX_tickcount()
{
	new
		ret = tickcount();
	if (ret < 0)
	{
		ret += 2147483647;
	}
	return ret;
}
#if defined _ALS_tickcount
	#undef tickcount
#else
	#define _ALS_tickcount
#endif
#define tickcount FIX_tickcount

// FIX: strins, valstr, strcmp
//https://github.com/Gammix/SAMP_Fixer/blob/master/pawno/include/SAMP_Fixer/fix_string.inc
stock FIX_strins(string[], const substr[], pos, maxlength = sizeof(string))
{
	if (string[0] > 255)
	{
		new
			strlength = strlen(string),
			sublength = strlen(substr),
			m4 = maxlength * 4
		;

		if (strlength + sublength >= m4)
		{
			if (pos + sublength >= m4)
			{
				return string{pos} = '\0', strcat(string, substr, maxlength);
			}
			else
			{
				string{maxlength - sublength - 1} = '\0';
			}
		}
		return strins(string, substr, pos, maxlength);
	}
	else if (substr[0] > 255)
	{
		new
			strlength = strlen(string),
			sublength = strlen(substr)
		;

		if (strlength + sublength >= maxlength)
		{
			if (pos + sublength >= maxlength)
			{
				return string[pos] = '\0', strcat(string, substr, maxlength);
			}
			else
			{
				string[maxlength - sublength - 1] = '\0';
			}
		}

		return strins(string, substr, pos, maxlength);
	}
	else
	{
		return format(string, maxlength, "%.*s%s%s", pos, string, substr, string[pos]);
	}
}
#if defined _ALS_strins
	#undef strins
#else
	native BAD_strins(string[], const substr[], pos, maxlength = sizeof(string)) = strins;
	#define _ALS_strins
#endif
#define strins FIX_strins

stock FIX_valstr(dest[], value, bool:pack = false)
{
	static const
		__cellmin[] = !"-2147483648"
	;
	if (value == cellmin)
	{
		pack && strpack(dest, __cellmin, 12) || strunpack(dest, __cellmin, 12);
	}
	else
	{
		format(dest, 12, "%d", value), pack && strpack(dest, dest, 12);
	}

	return 0;
}
#if defined _ALS_valstr
	#undef valstr
#else
	native BAD_valstr(dest[], value, bool:pack = false) = valstr;
	#define _ALS_valstr
#endif
#define valstr FIX_valstr

stock FIX_strcmp(const string1[], const string2[], bool:ignorecase = false, length = cellmax)
{
	if (ignorecase)
	{
		if (string1[0] != string2[0])
		{
			return 1;
		}
	}
	else
	{
		if (strlen(string1) != strlen(string2))
		{
			return 1;
		}
	}

	return strcmp(string1, string2, ignorecase, length);
}
#if defined _ALS_strcmp
	#undef strcmp
#else
	native BAD_strcmp(const string1[], const string2[], bool:ignorecase = false, length = cellmax) = strcmp;
	#define _ALS_strcmp
#endif
#define strcmp FIX_strcmp

// FIX: Doesn't work when the newname is different only in case with the old name.
stock FIX_SetPlayerName(playerid, const name[])
{
    new
		oldname[MAX_PLAYER_NAME]
	;
	GetPlayerName(playerid, oldname,MAX_PLAYER_NAME);
	if (! strcmp(name, oldname, true))
	{
		SetPlayerName(playerid, name);
		if (SetPlayerName(playerid, name) == -1)
		{
			SetPlayerName(playerid, oldname);
			return -1;
		}
		else
		{
			return 1;
		}
	}

	return SetPlayerName(playerid, name);
}
#if defined _ALS_SetPlayerName
	#undef SetPlayerName
#else
	native BAD_SetPlayerName(playerid, const name[]) = SetPlayerName;
	#define _ALS_SetPlayerName
#endif
#define SetPlayerName FIX_SetPlayerName

// END FIXES
AntiDeAMX() 
{ 
    new a[][] = 
    { 
        "Unarmed (Fist)", 
        "Brass K" 
    }; 
    #pragma unused a 
}
main()
{
	print("Gamemode loaded successful. ENJOY \n");
} 